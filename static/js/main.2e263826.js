/*! For license information please see main.2e263826.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},818:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var j,M=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Se(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ce(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==xe||null!==Ee)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var je=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){je=!0,Me=e}};function ze(e,t,n,r,i,a,o,s,u){je=!1,Me=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,Et,St,Ct=!1,Tt=[],It=null,Nt=null,Rt=null,At=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ct=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Rt&&Ft(Rt)&&(Rt=null),At.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==Rt&&zt(Rt,e),At.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=jt(It,e,t,n,r,i),!0;case"dragenter":return Nt=jt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=jt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,jt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,jt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),hn=M({},cn,{view:0,detail:0}),fn=an(hn),dn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},hn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return En}var Cn=M({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),In=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Rn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(An),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var jn=l&&"TextEvent"in window&&!Ln,Mn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Sr("animationend"),Tr=Sr("animationiteration"),Ir=Sr("animationstart"),Nr=Sr("transitionend"),Rr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),u(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Dr=Ar[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),je){if(!je)throw Error(a(198));var l=Me;je=!1,Me=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Cr:case Tr:case Ir:u=yn;break;case Nr:u=Rn;break;case"scroll":u=fn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Pe(p,f))&&l.push(Hr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=f;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Gr(l),f=Gr(f)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==h&&Qr(o,h,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Wn(s))if(Jn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),$t=Zt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pe(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ci(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ii=Ei(Ti),Ni=Ei(!1),Ri=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ni),Si(Ii)}function Di(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ci(Ii,t),Ci(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ii.current,Ci(Ii,e),Ci(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ii),Ci(Ii,e)):Si(Ni),Ci(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge($e,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,Ji="";function Zi(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function $i(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Si(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ca=null;function Ta(e){null===Ca?Ca=[e]:Ca.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,l=c=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=M({},h,f);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=h}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Pi(t)?Ri:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Pi(t)?Ri:Ii.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=jc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=jc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var y=d(i,h,s[v],u);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,h=m}if(v===s.length)return n(i,h),ia&&Zi(i,v),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return ia&&Zi(i,v),c}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===h?l=k:h.sibling=k,h=k,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=f(i,g.value,c))&&(s=o(g,s,m),null===h?l=g:h.sibling=g,h=g);return ia&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===h?l=g:h.sibling=g,h=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=jc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case P:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ya(!0),Ja=Ya(!1),Za={},$a=Ei(Za),eo=Ei(Za),to=Ei(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($a),Ci($a,t)}function io(){Si($a),Si(eo),Si(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Ci(eo,e),Ci($a,n))}function oo(e){eo.current===e&&(Si($a),Si(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,ho.current=cs,e=n(r,i)}while(ko)}if(ho.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var h=l.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,vo.lanes|=h,Mu|=h}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ru)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){jo(t)&&Mo(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{kt=n,fo.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Sa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ru)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Ru.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},cs={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Jo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Io)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Ku=r),fs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=So(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Du,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Du,Ou),Ou|=r;return ws(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Pi(n)?Ri:Ii.current;return a=Ai(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=So(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Is(e,t,n,r,i){if(Pi(n)){var a=!0;ji(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Ws(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Ai(t,c=Pi(n)?Ri:Ii.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Ra=!1;var f=t.memoizedState;o.state=f,Ma(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ni.current||Ra?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Ra||Ba(t,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Ai(t,u=Pi(n)?Ri:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&Wa(t,o,r,u),Ra=!1,f=t.memoizedState,o.state=f,Ma(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Ni.current||Ra?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Ra||Ba(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Os,Ds,Ls,js={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=jc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=js,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=jc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=js,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=hs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Ru)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=jc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=js,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Os(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no($a.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),$(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Os(e,t),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Je()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ci(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Js=!1,Zs="function"===typeof WeakSet?WeakSet:Set,$s=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var hu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=hu,i=fu;hu=null,du(e,t,n),fu=i,null!==(hu=r)&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(hu,n.stateNode));break;case 4:r=hu,i=fu,hu=n.stateNode.containerInfo,fu=!0,du(e,t,n),hu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,du(e,t,n),Js=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,fu=!1;break e;case 3:case 4:hu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===hu)throw Error(a(160));pu(o,s,i),hu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Sc(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):k(i,h,f,l)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Je())),4&r&&vu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||h,mu(t,e),Js=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for($s=e,h=e.child;null!==h;){for(f=$s=h;null!==$s;){switch(p=(d=$s).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){_u(f);continue}}null!==p?(p.return=d,$s=p):_u(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){$s=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Xs;var c=Js;if(Xs=o,(Js=u)&&!c)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,$s=u):xu(i);for(;null!==a;)$s=a,bu(a,t,n),a=a.sibling;$s=i,Xs=s,Js=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):wu(e)}}function wu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(a(163))}Js||512&t.flags&&au(t)}catch(d){Sc(t,t.return,d)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function _u(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function xu(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{au(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Eu,Su=Math.ceil,Cu=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,Iu=b.ReactCurrentBatchConfig,Nu=0,Ru=null,Au=null,Pu=0,Ou=0,Du=Ei(0),Lu=0,ju=null,Mu=0,Fu=0,Uu=0,Vu=null,zu=null,Bu=0,qu=1/0,Wu=null,Hu=!1,Ku=null,Gu=null,Qu=!1,Yu=null,Xu=0,Ju=0,Zu=null,$u=-1,ec=0;function tc(){return 0!==(6&Nu)?Je():-1!==$u?$u:$u=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Pu?Pu&-Pu:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,Zu=null,Error(a(185));yt(e,n,r),0!==(2&Nu)&&e===Ru||(e===Ru&&(0===(2&Nu)&&(Fu|=n),4===Lu&&uc(e,Pu)),ic(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(qu=Je()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Ru?Pu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Nu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($u=-1,ec=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ft(e,e===Ru?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Nu;Nu|=2;var o=vc();for(Ru===e&&Pu===t||(Wu=null,qu=Je()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}wa(),Cu.current=o,Nu=i,null!==Au?t=0:(Ru=null,Pu=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=ju,dc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=ju,dc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-Je())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zu,Wu),t);break}_c(e,zu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zu,Wu),r);break}_c(e,zu,Wu);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nu))throw Error(a(327));xc();var t=ft(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=ju,dc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zu,Wu),ic(e,Je()),null}function lc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(qu=Je()+500,Ui&&Bi())}}function hc(e){null!==Yu&&0===Yu.tag&&0===(6&Nu)&&xc();var t=Nu;Nu|=1;var n=Iu.transition,r=kt;try{if(Iu.transition=null,kt=1,e)return e()}finally{kt=r,Iu.transition=n,0===(6&(Nu=t))&&Bi()}}function fc(){Ou=Du.current,Si(Du)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Si(Ni),Si(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ru=e,Au=e=Dc(e.current,null),Pu=Ou=t,Lu=0,ju=null,Uu=Fu=Mu=0,zu=Vu=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function pc(e,t){for(;;){var n=Au;try{if(wa(),ho.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Tu.current=null,null===n||null===n.return){Lu=1,ju=t,Au=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gu||!Gu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function vc(){var e=Cu.current;return Cu.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Ru||0===(268435455&Mu)&&0===(268435455&Fu)||uc(Ru,Pu)}function yc(e,t){var n=Nu;Nu|=2;var r=vc();for(Ru===e&&Pu===t||(Wu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Nu=n,Cu.current=r,null!==Au)throw Error(a(261));return Ru=null,Pu=0,Lu}function gc(){for(;null!==Au;)bc(Au)}function kc(){for(;null!==Au&&!Ye();)bc(Au)}function bc(e){var t=Eu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?wc(e):Au=t,Tu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ou)))return void(Au=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Lu=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Lu&&(Lu=5)}function _c(e,t,n){var r=kt,i=Iu.transition;try{Iu.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Yu);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ru&&(Au=Ru=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Rc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=kt;kt=1;var u=Nu;Nu|=4,Tu.current=null,function(e,t){if(ei=Wt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Xe(),Nu=u,kt=s,Iu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,Xu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Ku,Ku=null,e;0!==(1&Xu)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Zu?Ju++:(Ju=0,Zu=e):Ju=0,Bi()}(e,t,n,r)}finally{Iu.transition=i,kt=r}return null}function xc(){if(null!==Yu){var e=bt(Xu),t=Iu.transition,n=kt;try{if(Iu.transition=null,kt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Xu=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for($s=l;null!==$s;){var h=$s;switch(h.tag){case 0:case 11:case 15:ru(8,h,o)}var f=h.child;if(null!==f)f.return=h,$s=f;else for(;null!==$s;){var d=(h=$s).sibling,p=h.return;if(ou(h),h===l){$s=null;break}if(null!==d){d.return=p,$s=d;break}$s=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$s=g;break e}$s=o.return}}var k=e.current;for($s=k;null!==$s;){var b=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,$s=b;else e:for(s=k;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(_){Sc(u,u.return,_)}if(u===s){$s=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,$s=w;break e}$s=u.return}}if(Nu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Iu.transition=t}}return!1}function Ec(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Pu&n)===n&&(4===Lu||3===Lu&&(130023424&Pu)===Pu&&500>Je()-Bu?dc(e,0):Uu|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(yt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Rc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return jc(n.children,i,o,t);case E:s=8,i|=8;break;case S:return(e=Pc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Pc(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case I:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function jc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&ji(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ci(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,ji(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Pi(r)?(e=!0,ji(t)):e=!1,Ea(t,n),qa(t,r,i),Ha(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Je()),0===(6&Nu)&&(qu=Je()+500,Bi()))}break;case 13:hc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Et=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=lc,Ne=hc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ce,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(hc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},315:function(e,t,n){"use strict";var r,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(791)),a=(r=n(694))&&r.__esModule?r:{default:r};function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}var v="Select...",m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?d(e):t}(this,f(t).call(this,e))).state={selected:n.parseValue(e.value,e.options)||{label:"undefined"===typeof e.placeholder?v:e.placeholder,value:""},isOpen:!1},n.dropdownRef=(0,i.createRef)(),n.mounted=!0,n.handleDocumentClick=n.handleDocumentClick.bind(d(n)),n.fireChangeEvent=n.fireChangeEvent.bind(d(n)),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,r=[{key:"componentDidUpdate",value:function(e){if(this.props.value!==e.value)if(this.props.value){var t=this.parseValue(this.props.value,this.props.options);t!==this.state.selected&&this.setState({selected:t})}else this.setState({selected:{label:"undefined"===typeof this.props.placeholder?v:this.props.placeholder,value:""}})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)}},{key:"handleMouseDown",value:function(e){this.props.onFocus&&"function"===typeof this.props.onFocus&&this.props.onFocus(this.state.isOpen),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.props.disabled||this.setState({isOpen:!this.state.isOpen}))}},{key:"parseValue",value:function(e,t){var n;if("string"===typeof e)for(var r=0,i=t.length;r<i;r++)if("group"===t[r].type){var a=t[r].items.filter((function(t){return t.value===e}));a.length&&(n=a[0])}else"undefined"!==typeof t[r].value&&t[r].value===e&&(n=t[r]);return n||e}},{key:"setValue",value:function(e,t){var n={selected:{value:e,label:t},isOpen:!1};this.fireChangeEvent(n),this.setState(n)}},{key:"fireChangeEvent",value:function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"renderOption",value:function(e){var t,n=e.value;"undefined"===typeof n&&(n=e.label||e);var r=e.label||e.value||e,o=n===this.state.selected.value||n===this.state.selected,s=(l(t={},"".concat(this.props.baseClassName,"-option"),!0),l(t,e.className,!!e.className),l(t,"is-selected",o),t),h=(0,a.default)(s),f=Object.keys(e.data||{}).reduce((function(t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,l({},"data-".concat(n),e.data[n]))}),{});return i.default.createElement("div",u({key:n,className:h,onMouseDown:this.setValue.bind(this,n,r),onClick:this.setValue.bind(this,n,r),role:"option","aria-selected":o?"true":"false"},f),r)}},{key:"buildMenu",value:function(){var e=this,t=this.props,n=t.options,r=t.baseClassName,a=n.map((function(t){if("group"===t.type){var n=i.default.createElement("div",{className:"".concat(r,"-title")},t.name),a=t.items.map((function(t){return e.renderOption(t)}));return i.default.createElement("div",{className:"".concat(r,"-group"),key:t.name,role:"listbox",tabIndex:"-1"},n,a)}return e.renderOption(t)}));return a.length?a:i.default.createElement("div",{className:"".concat(r,"-noresults")},"No options found")}},{key:"handleDocumentClick",value:function(e){this.mounted&&(this.dropdownRef.current.contains(e.target)||this.state.isOpen&&this.setState({isOpen:!1}))}},{key:"isValueSelected",value:function(){return"string"===typeof this.state.selected||""!==this.state.selected.value}},{key:"render",value:function(){var e,t,n,r,o,s=this.props,u=s.baseClassName,c=s.controlClassName,h=s.placeholderClassName,f=s.menuClassName,d=s.arrowClassName,p=s.arrowClosed,v=s.arrowOpen,m=s.className,y=this.props.disabled?"Dropdown-disabled":"",g="string"===typeof this.state.selected?this.state.selected:this.state.selected.label,k=(0,a.default)((l(e={},"".concat(u,"-root"),!0),l(e,m,!!m),l(e,"is-open",this.state.isOpen),e)),b=(0,a.default)((l(t={},"".concat(u,"-control"),!0),l(t,c,!!c),l(t,y,!!y),t)),w=(0,a.default)((l(n={},"".concat(u,"-placeholder"),!0),l(n,h,!!h),l(n,"is-selected",this.isValueSelected()),n)),_=(0,a.default)((l(r={},"".concat(u,"-menu"),!0),l(r,f,!!f),r)),x=(0,a.default)((l(o={},"".concat(u,"-arrow"),!0),l(o,d,!!d),o)),E=i.default.createElement("div",{className:w},g),S=this.state.isOpen?i.default.createElement("div",{className:_,"aria-expanded":"true"},this.buildMenu()):null;return i.default.createElement("div",{ref:this.dropdownRef,className:k},i.default.createElement("div",{className:b,onMouseDown:this.handleMouseDown.bind(this),onTouchEnd:this.handleMouseDown.bind(this),"aria-haspopup":"listbox"},E,i.default.createElement("div",{className:"".concat(u,"-arrow-wrapper")},v&&p?this.state.isOpen?v:p:i.default.createElement("span",{className:x}))),S)}}],r&&h(n.prototype,r),o&&h(n,o),t}(i.Component);m.defaultProps={baseClassName:"Dropdown"}},766:function(e,t,n){e.exports=n(519)},366:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(791);t.LeftArrow=function(e){var t=e.customLeftArrow,n=e.getState,i=e.previous,a=e.disabled,o=e.rtl;if(t)return r.cloneElement(t,{onClick:function(){return i()},carouselState:n(),disabled:a,rtl:o});var s=o?"rtl":"";return r.createElement("button",{"aria-label":"Go to previous slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--left "+s,onClick:function(){return i()},type:"button",disabled:a})};t.RightArrow=function(e){var t=e.customRightArrow,n=e.getState,i=e.next,a=e.disabled,o=e.rtl;if(t)return r.cloneElement(t,{onClick:function(){return i()},carouselState:n(),disabled:a,rtl:o});var s=o?"rtl":"";return r.createElement("button",{"aria-label":"Go to next slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--right "+s,onClick:function(){return i()},type:"button",disabled:a})}},333:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(791),a=n(855),o=n(839),s=n(710),u=n(366),c=n(235),l=n(588),h=400,f="transform 400ms ease-in-out",d=function(e){function t(t){var n=e.call(this,t)||this;return n.containerRef=i.createRef(),n.listRef=i.createRef(),n.state={itemWidth:0,slidesToShow:0,currentSlide:0,totalItems:i.Children.count(t.children),deviceType:"",domLoaded:!1,transform:0,containerWidth:0},n.onResize=n.onResize.bind(n),n.handleDown=n.handleDown.bind(n),n.handleMove=n.handleMove.bind(n),n.handleOut=n.handleOut.bind(n),n.onKeyUp=n.onKeyUp.bind(n),n.handleEnter=n.handleEnter.bind(n),n.setIsInThrottle=n.setIsInThrottle.bind(n),n.next=a.throttle(n.next.bind(n),t.transitionDuration||h,n.setIsInThrottle),n.previous=a.throttle(n.previous.bind(n),t.transitionDuration||h,n.setIsInThrottle),n.goToSlide=a.throttle(n.goToSlide.bind(n),t.transitionDuration||h,n.setIsInThrottle),n.onMove=!1,n.initialX=0,n.lastX=0,n.isAnimationAllowed=!1,n.direction="",n.initialY=0,n.isInThrottle=!1,n.transformPlaceHolder=0,n}return r(t,e),t.prototype.resetTotalItems=function(){var e=this,t=i.Children.count(this.props.children),n=a.notEnoughChildren(this.state)?0:Math.max(0,Math.min(this.state.currentSlide,t));this.setState({totalItems:t,currentSlide:n},(function(){e.setContainerAndItemWidth(e.state.slidesToShow,!0)}))},t.prototype.setIsInThrottle=function(e){void 0===e&&(e=!1),this.isInThrottle=e},t.prototype.setTransformDirectly=function(e,t){var n=this.props.additionalTransfrom;this.transformPlaceHolder=e;var r=l.getTransform(this.state,this.props,this.transformPlaceHolder);this.listRef&&this.listRef.current&&(this.setAnimationDirectly(t),this.listRef.current.style.transform="translate3d("+(r+n)+"px,0,0)")},t.prototype.setAnimationDirectly=function(e){this.listRef&&this.listRef.current&&(this.listRef.current.style.transition=e?this.props.customTransition||f:"none")},t.prototype.componentDidMount=function(){this.setState({domLoaded:!0}),this.setItemsToShow(),window.addEventListener("resize",this.onResize),this.onResize(!0),this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),this.props.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},t.prototype.setClones=function(e,t,n,r){var o=this;void 0===r&&(r=!1),this.isAnimationAllowed=!1;var s=i.Children.toArray(this.props.children),u=a.getInitialSlideInInfiniteMode(e||this.state.slidesToShow,s),c=a.getClones(this.state.slidesToShow,s),l=s.length<this.state.slidesToShow?0:this.state.currentSlide;this.setState({totalItems:c.length,currentSlide:n&&!r?l:u},(function(){o.correctItemsPosition(t||o.state.itemWidth)}))},t.prototype.setItemsToShow=function(e,t){var n=this,r=this.props.responsive;Object.keys(r).forEach((function(i){var a=r[i],o=a.breakpoint,s=a.items,u=o.max,c=o.min;window.innerWidth>=c&&window.innerWidth<=u&&(n.setState({slidesToShow:s,deviceType:i}),n.setContainerAndItemWidth(s,e,t))}))},t.prototype.setContainerAndItemWidth=function(e,t,n){var r=this;if(this.containerRef&&this.containerRef.current){var i=this.containerRef.current.offsetWidth,o=a.getItemClientSideWidth(this.props,e,i);this.setState({containerWidth:i,itemWidth:o},(function(){r.props.infinite&&r.setClones(e,o,t,n)})),t&&this.correctItemsPosition(o)}},t.prototype.correctItemsPosition=function(e,t,n){t&&(this.isAnimationAllowed=!0),!t&&this.isAnimationAllowed&&(this.isAnimationAllowed=!1);var r=this.state.totalItems<this.state.slidesToShow?0:-e*this.state.currentSlide;n&&this.setTransformDirectly(r,!0),this.setState({transform:r})},t.prototype.onResize=function(e){var t;t=!!this.props.infinite&&("boolean"!=typeof e||!e),this.setItemsToShow(t)},t.prototype.componentDidUpdate=function(e,t){var n=this,r=e.keyBoardControl,i=e.autoPlay,o=e.children,s=t.containerWidth,u=t.domLoaded,c=t.currentSlide;if(this.containerRef&&this.containerRef.current&&this.containerRef.current.offsetWidth!==s&&(this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),this.itemsToShowTimeout=setTimeout((function(){n.setItemsToShow(!0)}),this.props.transitionDuration||h)),r&&!this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),!r&&this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),i&&!this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),i||!this.props.autoPlay||this.autoPlay||(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed)),o.length!==this.props.children.length?setTimeout((function(){n.props.infinite?n.setClones(n.state.slidesToShow,n.state.itemWidth,!0,!0):n.resetTotalItems()}),this.props.transitionDuration||h):this.props.infinite&&this.state.currentSlide!==c&&this.correctClonesPosition({domLoaded:u}),this.transformPlaceHolder!==this.state.transform&&(this.transformPlaceHolder=this.state.transform),this.props.autoPlay&&this.props.rewind&&!this.props.infinite&&a.isInRightEnd(this.state)){var l=this.props.transitionDuration||h;setTimeout((function(){n.setIsInThrottle(!1),n.resetAutoplayInterval(),n.goToSlide(0,void 0,!!n.props.rewindWithAnimation)}),l+this.props.autoPlaySpeed)}},t.prototype.correctClonesPosition=function(e){var t=this,n=e.domLoaded,r=i.Children.toArray(this.props.children),o=a.checkClonesPosition(this.state,r,this.props),s=o.isReachingTheEnd,u=o.isReachingTheStart,c=o.nextSlide,l=o.nextPosition;this.state.domLoaded&&n&&(s||u)&&(this.isAnimationAllowed=!1,setTimeout((function(){t.setState({transform:l,currentSlide:c})}),this.props.transitionDuration||h))},t.prototype.next=function(e){var t=this;void 0===e&&(e=0);var n=this.props,r=n.afterChange,i=n.beforeChange;if(!a.notEnoughChildren(this.state)){var o=a.populateNextSlides(this.state,this.props,e),s=o.nextSlides,u=o.nextPosition,c=this.state.currentSlide;void 0!==s&&void 0!==u&&("function"==typeof i&&i(s,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:u,currentSlide:s},(function(){"function"==typeof r&&setTimeout((function(){r(c,t.getState())}),t.props.transitionDuration||h)})))}},t.prototype.previous=function(e){var t=this;void 0===e&&(e=0);var n=this.props,r=n.afterChange,i=n.beforeChange;if(!a.notEnoughChildren(this.state)){var o=a.populatePreviousSlides(this.state,this.props,e),s=o.nextSlides,u=o.nextPosition;if(void 0!==s&&void 0!==u){var c=this.state.currentSlide;"function"==typeof i&&i(s,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:u,currentSlide:s},(function(){"function"==typeof r&&setTimeout((function(){r(c,t.getState())}),t.props.transitionDuration||h)}))}}},t.prototype.resetAutoplayInterval=function(){this.props.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize),this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout)},t.prototype.resetMoveStatus=function(){this.onMove=!1,this.initialX=0,this.lastX=0,this.direction="",this.initialY=0},t.prototype.getCords=function(e){var t=e.clientX,n=e.clientY;return{clientX:l.parsePosition(this.props,t),clientY:l.parsePosition(this.props,n)}},t.prototype.handleDown=function(e){if(!(!o.isMouseMoveEvent(e)&&!this.props.swipeable||o.isMouseMoveEvent(e)&&!this.props.draggable||this.isInThrottle)){var t=this.getCords(o.isMouseMoveEvent(e)?e:e.touches[0]),n=t.clientX,r=t.clientY;this.onMove=!0,this.initialX=n,this.initialY=r,this.lastX=n,this.isAnimationAllowed=!1}},t.prototype.handleMove=function(e){if(!(!o.isMouseMoveEvent(e)&&!this.props.swipeable||o.isMouseMoveEvent(e)&&!this.props.draggable||a.notEnoughChildren(this.state))){var t=this.getCords(o.isMouseMoveEvent(e)?e:e.touches[0]),n=t.clientX,r=t.clientY,i=this.initialX-n,s=this.initialY-r;if(this.onMove){if(!(Math.abs(i)>Math.abs(s)))return;var u=a.populateSlidesOnMouseTouchMove(this.state,this.props,this.initialX,this.lastX,n,this.transformPlaceHolder),c=u.direction,l=u.nextPosition,h=u.canContinue;c&&(this.direction=c,h&&void 0!==l&&this.setTransformDirectly(l)),this.lastX=n}}},t.prototype.handleOut=function(e){this.props.autoPlay&&!this.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed));var t="touchend"===e.type&&!this.props.swipeable,n=("mouseleave"===e.type||"mouseup"===e.type)&&!this.props.draggable;if(!t&&!n&&this.onMove){if(this.setAnimationDirectly(!0),"right"===this.direction)if(this.initialX-this.lastX>=this.props.minimumTouchDrag){var r=Math.round((this.initialX-this.lastX)/this.state.itemWidth);this.next(r)}else this.correctItemsPosition(this.state.itemWidth,!0,!0);"left"===this.direction&&(this.lastX-this.initialX>this.props.minimumTouchDrag?(r=Math.round((this.lastX-this.initialX)/this.state.itemWidth),this.previous(r)):this.correctItemsPosition(this.state.itemWidth,!0,!0)),this.resetMoveStatus()}},t.prototype.isInViewport=function(e){var t=e.getBoundingClientRect(),n=t.top,r=void 0===n?0:n,i=t.left,a=void 0===i?0:i,o=t.bottom,s=void 0===o?0:o,u=t.right,c=void 0===u?0:u;return 0<=r&&0<=a&&s<=(window.innerHeight||document.documentElement.clientHeight)&&c<=(window.innerWidth||document.documentElement.clientWidth)},t.prototype.isChildOfCarousel=function(e){return!!(e instanceof Element&&this.listRef&&this.listRef.current)&&this.listRef.current.contains(e)},t.prototype.onKeyUp=function(e){var t=e.target;switch(e.keyCode){case 37:if(this.isChildOfCarousel(t))return this.previous();break;case 39:if(this.isChildOfCarousel(t))return this.next();break;case 9:if(this.isChildOfCarousel(t)&&t instanceof HTMLInputElement&&this.isInViewport(t))return this.next()}},t.prototype.handleEnter=function(e){o.isMouseMoveEvent(e)&&this.autoPlay&&this.props.autoPlay&&this.props.pauseOnHover&&(clearInterval(this.autoPlay),this.autoPlay=void 0)},t.prototype.goToSlide=function(e,t,n){var r=this;if(void 0===n&&(n=!0),!this.isInThrottle){var i=this.state.itemWidth,a=this.props,o=a.afterChange,s=a.beforeChange,u=this.state.currentSlide;"function"!=typeof s||t&&("object"!=typeof t||t.skipBeforeChange)||s(e,this.getState()),this.isAnimationAllowed=n,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({currentSlide:e,transform:-i*e},(function(){r.props.infinite&&r.correctClonesPosition({domLoaded:!0}),"function"!=typeof o||t&&("object"!=typeof t||t.skipAfterChange)||setTimeout((function(){o(u,r.getState())}),r.props.transitionDuration||h)}))}},t.prototype.getState=function(){return this.state},t.prototype.renderLeftArrow=function(e){var t=this,n=this.props,r=n.customLeftArrow,a=n.rtl;return i.createElement(u.LeftArrow,{customLeftArrow:r,getState:function(){return t.getState()},previous:this.previous,disabled:e,rtl:a})},t.prototype.renderRightArrow=function(e){var t=this,n=this.props,r=n.customRightArrow,a=n.rtl;return i.createElement(u.RightArrow,{customRightArrow:r,getState:function(){return t.getState()},next:this.next,disabled:e,rtl:a})},t.prototype.renderButtonGroups=function(){var e=this,t=this.props.customButtonGroup;return t?i.cloneElement(t,{previous:function(){return e.previous()},next:function(){return e.next()},goToSlide:function(t,n){return e.goToSlide(t,n)},carouselState:this.getState()}):null},t.prototype.renderDotsList=function(){var e=this;return i.createElement(s.default,{state:this.state,props:this.props,goToSlide:this.goToSlide,getState:function(){return e.getState()}})},t.prototype.renderCarouselItems=function(){var e=[];if(this.props.infinite){var t=i.Children.toArray(this.props.children);e=a.getClones(this.state.slidesToShow,t)}return i.createElement(c.default,{clones:e,goToSlide:this.goToSlide,state:this.state,notEnoughChildren:a.notEnoughChildren(this.state),props:this.props})},t.prototype.render=function(){var e=this.props,t=e.deviceType,n=e.arrows,r=e.renderArrowsWhenDisabled,o=e.removeArrowOnDeviceType,s=e.infinite,u=e.containerClass,c=e.sliderClass,h=e.customTransition,d=e.additionalTransfrom,p=e.renderDotsOutside,v=e.renderButtonGroupOutside,m=e.className,y=e.rtl,g=a.getInitialState(this.state,this.props),k=g.shouldRenderOnSSR,b=g.shouldRenderAtAll,w=a.isInLeftEnd(this.state),_=a.isInRightEnd(this.state),x=n&&!(o&&(t&&-1<o.indexOf(t)||this.state.deviceType&&-1<o.indexOf(this.state.deviceType)))&&!a.notEnoughChildren(this.state)&&b,E=!s&&w,S=!s&&_,C=l.getTransform(this.state,this.props);return i.createElement(i.Fragment,null,i.createElement("div",{className:"react-multi-carousel-list "+u+" "+m,dir:y?"rtl":"ltr",ref:this.containerRef},i.createElement("ul",{ref:this.listRef,className:"react-multi-carousel-track "+c,style:{transition:this.isAnimationAllowed?h||f:"none",overflow:k?"hidden":"unset",transform:"translate3d("+(C+d)+"px,0,0)"},onMouseMove:this.handleMove,onMouseDown:this.handleDown,onMouseUp:this.handleOut,onMouseEnter:this.handleEnter,onMouseLeave:this.handleOut,onTouchStart:this.handleDown,onTouchMove:this.handleMove,onTouchEnd:this.handleOut},this.renderCarouselItems()),x&&(!E||r)&&this.renderLeftArrow(E),x&&(!S||r)&&this.renderRightArrow(S),b&&!v&&this.renderButtonGroups(),b&&!p&&this.renderDotsList()),b&&p&&this.renderDotsList(),b&&v&&this.renderButtonGroups())},t.defaultProps={slidesToSlide:1,infinite:!1,draggable:!0,swipeable:!0,arrows:!0,renderArrowsWhenDisabled:!1,containerClass:"",sliderClass:"",itemClass:"",keyBoardControl:!0,autoPlaySpeed:3e3,showDots:!1,renderDotsOutside:!1,renderButtonGroupOutside:!1,minimumTouchDrag:80,className:"",dotListClass:"",focusOnSelect:!1,centerMode:!1,additionalTransfrom:0,pauseOnHover:!0,shouldResetAutoplay:!0,rewind:!1,rtl:!1,rewindWithAnimation:!1},t}(i.Component);t.default=d},235:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(791),i=n(855);t.default=function(e){var t=e.props,n=e.state,a=e.goToSlide,o=e.clones,s=e.notEnoughChildren,u=n.itemWidth,c=t.children,l=t.infinite,h=t.itemClass,f=t.itemAriaLabel,d=t.partialVisbile,p=t.partialVisible,v=i.getInitialState(n,t),m=v.flexBisis,y=v.shouldRenderOnSSR,g=v.domFullyLoaded,k=v.partialVisibilityGutter;return v.shouldRenderAtAll?(d&&console.warn('WARNING: Please correct props name: "partialVisible" as old typo will be removed in future versions!'),r.createElement(r.Fragment,null,(l?o:r.Children.toArray(c)).map((function(e,o){return r.createElement("li",{key:o,"data-index":o,onClick:function(){t.focusOnSelect&&a(o)},"aria-hidden":i.getIfSlideIsVisbile(o,n)?"false":"true","aria-label":f||(e.props.ariaLabel?e.props.ariaLabel:null),style:{flex:y?"1 0 "+m+"%":"auto",position:"relative",width:g?((d||p)&&k&&!s?u-k:u)+"px":"auto"},className:"react-multi-carousel-item "+(i.getIfSlideIsVisbile(o,n)?"react-multi-carousel-item--active":"")+" "+h},e)})))):null}},710:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(791),i=n(685),a=n(978),o=n(588);t.default=function(e){var t=e.props,n=e.state,s=e.goToSlide,u=e.getState,c=t.showDots,l=t.customDot,h=t.dotListClass,f=t.infinite,d=t.children;if(!c||o.notEnoughChildren(n))return null;var p,v=n.currentSlide,m=n.slidesToShow,y=o.getSlidesToSlide(n,t),g=r.Children.toArray(d);p=f?Math.ceil(g.length/y):Math.ceil((g.length-m)/y)+1;var k=a.getLookupTableForNextSlides(p,n,t,g),b=i.getOriginalIndexLookupTableByClones(m,g),w=b[v];return r.createElement("ul",{className:"react-multi-carousel-dot-list "+h},Array(p).fill(0).map((function(e,t){var n,i;if(f){i=k[t];var a=b[i];n=w===a||a<=w&&w<a+y}else{var o=g.length-m,c=t*y;n=(i=o<c?o:c)===v||i<v&&v<i+y&&v<g.length-m}return l?r.cloneElement(l,{index:t,active:n,key:t,onClick:function(){return s(i)},carouselState:u()}):r.createElement("li",{"data-index":t,key:t,className:"react-multi-carousel-dot "+(n?"react-multi-carousel-dot--active":"")},r.createElement("button",{"aria-label":"Go to slide "+(t+1),onClick:function(){return s(i)}}))})))}},519:function(e,t,n){"use strict";var r=n(333);t.default=r.default},839:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(791);t.isMouseMoveEvent=function(e){return"clientY"in e};var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i.Component);t.default=a},685:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOriginalCounterPart=function(e,t,n){var r=t.slidesToShow,i=t.currentSlide;return n.length>2*r?e+2*r:i>=n.length?n.length+e:e},t.getOriginalIndexLookupTableByClones=function(e,t){if(t.length>2*e){for(var n={},r=t.length-2*e,i=t.length-r,a=r,o=0;o<i;o++)n[o]=a,a++;var s=t.length+i,u=s+t.slice(0,2*e).length,c=0;for(o=s;o<=u;o++)n[o]=c,c++;var l=s,h=0;for(o=i;o<l;o++)n[o]=h,h++;return n}n={};var f=3*t.length,d=0;for(o=0;o<f;o++)n[o]=d,++d===t.length&&(d=0);return n},t.getClones=function(e,t){return t.length<e?t:t.length>2*e?t.slice(t.length-2*e,t.length).concat(t,t.slice(0,2*e)):t.concat(t,t)},t.getInitialSlideInInfiniteMode=function(e,t){return t.length>2*e?2*e:t.length},t.checkClonesPosition=function(e,t,n){var r,i=e.currentSlide,a=e.slidesToShow,o=e.itemWidth,s=e.totalItems,u=0,c=0,l=0===i,h=t.length-(t.length-2*a);return t.length<a?(c=u=0,l=r=!1):t.length>2*a?((r=i>=h+t.length)&&(c=-o*(u=i-t.length)),l&&(c=-o*(u=h+(t.length-2*a)))):((r=i>=2*t.length)&&(c=-o*(u=i-t.length)),l&&(c=n.showDots?-o*(u=t.length):-o*(u=s/3))),{isReachingTheEnd:r,isReachingTheStart:l,nextSlide:u,nextPosition:c}}},588:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(854);function i(e){var t=e.slidesToShow;return e.totalItems<t}function a(e,t,n){var r=n||e.transform;return!t.infinite&&0===e.currentSlide||i(e)?r:r+e.itemWidth/2}function o(e){var t=e.currentSlide,n=e.totalItems;return!(t+e.slidesToShow<n)}function s(e,t,n,r){void 0===t&&(t=0);var a=e.currentSlide,s=e.slidesToShow,u=o(e),c=!n.infinite&&u,l=r||e.transform;if(i(e))return l;var h=l+a*t;return c?h+(e.containerWidth-(e.itemWidth-t)*s):h}function u(e,t){return e.rtl?-1*t:t}t.notEnoughChildren=i,t.getInitialState=function(e,t){var n,i=e.domLoaded,a=e.slidesToShow,o=e.containerWidth,s=e.itemWidth,u=t.deviceType,c=t.responsive,l=t.ssr,h=t.partialVisbile,f=t.partialVisible,d=Boolean(i&&a&&o&&s);l&&u&&!d&&(n=r.getWidthFromDeviceType(u,c));var p=Boolean(l&&u&&!d&&n);return{shouldRenderOnSSR:p,flexBisis:n,domFullyLoaded:d,partialVisibilityGutter:r.getPartialVisibilityGutter(c,h||f,u,e.deviceType),shouldRenderAtAll:p||d}},t.getIfSlideIsVisbile=function(e,t){var n=t.currentSlide,r=t.slidesToShow;return n<=e&&e<n+r},t.getTransformForCenterMode=a,t.isInLeftEnd=function(e){return!(0<e.currentSlide)},t.isInRightEnd=o,t.getTransformForPartialVsibile=s,t.parsePosition=u,t.getTransform=function(e,t,n){var i=t.partialVisbile,o=t.partialVisible,c=t.responsive,l=t.deviceType,h=t.centerMode,f=n||e.transform,d=r.getPartialVisibilityGutter(c,i||o,l,e.deviceType);return u(t,o||i?s(e,d,t,n):h?a(e,t,n):f)},t.getSlidesToSlide=function(e,t){var n=e.domLoaded,r=e.slidesToShow,i=e.containerWidth,a=e.itemWidth,o=t.deviceType,s=t.responsive,u=t.slidesToSlide||1,c=Boolean(n&&r&&i&&a);return t.ssr&&t.deviceType&&!c&&Object.keys(s).forEach((function(e){var t=s[e].slidesToSlide;o===e&&t&&(u=t)})),c&&Object.keys(s).forEach((function(e){var t=s[e],n=t.breakpoint,r=t.slidesToSlide,i=n.max,a=n.min;r&&window.innerWidth>=a&&window.innerWidth<=i&&(u=r)})),u}},978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(685),i=n(588);t.getLookupTableForNextSlides=function(e,t,n,a){var o={},s=i.getSlidesToSlide(t,n);return Array(e).fill(0).forEach((function(e,n){var i=r.getOriginalCounterPart(n,t,a);if(0===n)o[0]=i;else{var u=o[n-1]+s;o[n]=u}})),o}},854:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPartialVisibilityGutter=function(e,t,n,r){var i=0,a=r||n;return t&&a&&(i=e[a].partialVisibilityGutter||e[a].paritialVisibilityGutter),i},t.getWidthFromDeviceType=function(e,t){var n;return t[e]&&(n=(100/t[e].items).toFixed(1)),n},t.getItemClientSideWidth=function(e,t,n){return Math.round(n/(t+(e.centerMode?1:0)))}},855:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(685);t.getOriginalCounterPart=r.getOriginalCounterPart,t.getClones=r.getClones,t.checkClonesPosition=r.checkClonesPosition,t.getInitialSlideInInfiniteMode=r.getInitialSlideInInfiniteMode;var i=n(854);t.getWidthFromDeviceType=i.getWidthFromDeviceType,t.getPartialVisibilityGutter=i.getPartialVisibilityGutter,t.getItemClientSideWidth=i.getItemClientSideWidth;var a=n(588);t.getInitialState=a.getInitialState,t.getIfSlideIsVisbile=a.getIfSlideIsVisbile,t.getTransformForCenterMode=a.getTransformForCenterMode,t.getTransformForPartialVsibile=a.getTransformForPartialVsibile,t.isInLeftEnd=a.isInLeftEnd,t.isInRightEnd=a.isInRightEnd,t.notEnoughChildren=a.notEnoughChildren,t.getSlidesToSlide=a.getSlidesToSlide;var o=n(945);t.throttle=o.default;var s=n(245);t.throwError=s.default;var u=n(84);t.populateNextSlides=u.populateNextSlides;var c=n(712);t.populatePreviousSlides=c.populatePreviousSlides;var l=n(372);t.populateSlidesOnMouseTouchMove=l.populateSlidesOnMouseTouchMove},372:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populateSlidesOnMouseTouchMove=function(e,t,n,r,i,a){var o,s,u=e.itemWidth,c=e.slidesToShow,l=e.totalItems,h=e.currentSlide,f=t.infinite,d=!1,p=Math.round((n-r)/u),v=Math.round((r-n)/u),m=n<i;if(i<n&&p<=c){o="right";var y=Math.abs(-u*(l-c)),g=a-(r-i),k=h===l-c;(Math.abs(g)<=y||k&&f)&&(s=g,d=!0)}return m&&v<=c&&(o="left",((g=a+(i-r))<=0||0===h&&f)&&(d=!0,s=g)),{direction:o,nextPosition:s,canContinue:d}}},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(588);t.populateNextSlides=function(e,t,n){void 0===n&&(n=0);var i,a,o=e.slidesToShow,s=e.currentSlide,u=e.itemWidth,c=e.totalItems,l=r.getSlidesToSlide(e,t),h=s+1+n+o+(0<n?0:l);return a=h<=c?-u*(i=s+n+(0<n?0:l)):c<h&&s!==c-o?-u*(i=c-o):i=void 0,{nextSlides:i,nextPosition:a}}},712:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(791),i=n(588),a=n(588);t.populatePreviousSlides=function(e,t,n){void 0===n&&(n=0);var o,s,u=e.currentSlide,c=e.itemWidth,l=e.slidesToShow,h=t.children,f=t.showDots,d=t.infinite,p=i.getSlidesToSlide(e,t),v=u-n-(0<n?0:p),m=(r.Children.toArray(h).length-l)%p;return s=0<=v?(o=v,f&&!d&&0<m&&a.isInRightEnd(e)&&(o=u-m),-c*o):o=v<0&&0!==u?0:void 0,{nextSlides:o,nextPosition:s}}},945:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r;return function(){var i=arguments;r||(e.apply(this,i),r=!0,"function"==typeof n&&n(!0),setTimeout((function(){r=!1,"function"==typeof n&&n(!1)}),t))}}},245:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.partialVisbile,r=t.partialVisible,i=t.centerMode,a=t.ssr,o=t.responsive;if((n||r)&&i)throw new Error("center mode can not be used at the same time with partialVisible");if(!o)throw a?new Error("ssr mode need to be used in conjunction with responsive prop"):new Error("Responsive prop is needed for deciding the amount of items to show on the screen");if(o&&"object"!=typeof o)throw new Error("responsive prop must be an object")}},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+I(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(C),C=-1),p=!0;var a=d;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!N());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),b(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&D(w,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,S=null,C=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function R(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?x():(E=!1,S=null)}}else E=!1}if("function"===typeof k)x=function(){k(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=R,x=function(){P.postMessage(null)}}else x=function(){y(R,0)};function O(e){S=e,E||(E=!0,x())}function D(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(C),C=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/projekt_SOC_Skor/",function(){"use strict";var e,t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||u()}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return o(e)}(e)||l(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=b();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function x(e,t,n){return x=b()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},x.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return x(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},E(e)}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var T,I="popstate";function N(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){return{usr:e.state,key:e.key,idx:t}}function A(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?O(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function O(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function D(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,h=e.Pop,f=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){h=e.Pop;var t=p(),n=null==t?null:t-d;d=t,f&&f({action:h,location:y.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:P(e);return N(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(C({},l.state,{idx:d}),""));var y={get action(){return h},get location(){return t(s,l)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(I,v),f=e,function(){s.removeEventListener(I,v),f=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){h=e.Push;var i=A(y.location,t,n);r&&r(i,t);var a=R(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(Yi){s.location.assign(o)}c&&f&&f({action:h,location:y.location,delta:1})},replace:function(t,n){h=e.Replace;var i=A(y.location,t,n);r&&r(i,t);var a=R(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&f&&f({action:h,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}function L(e,t,n){void 0===n&&(n="/");var r=Y(("string"===typeof t?O(t):t).pathname||"/",n);if(null==r)return null;var i=j(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=K(i[o],Q(r));return a}function j(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(N(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ee([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(N(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),j(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:H(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=S(M(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function M(e){var t=e.split("/");if(0===t.length)return[];var n,r=a(n=t)||l(n)||s(n)||u(),i=r[0],o=r.slice(1),c=i.endsWith("?"),f=i.replace(/\?$/,"");if(0===o.length)return c?[f,""]:[f];var d=M(o.join("/")),p=[];return p.push.apply(p,h(d.map((function(e){return""===e?f:[f,e].join("/")})))),c&&p.push.apply(p,h(d)),p.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(T||(T={}));var F=/^:\w+$/,U=3,V=2,z=1,B=10,q=-2,W=function(e){return"*"===e};function H(e,t){var n=e.split("/"),r=n.length;return n.some(W)&&(r+=q),t&&(r+=V),n.filter((function(e){return!W(e)})).reduce((function(e,t){return e+(F.test(t)?U:""===t?z:B)}),r)}function K(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=G({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;a.push({params:r,pathname:ee([i,l.pathname]),pathnameBase:te(ee([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=ee([i,l.pathnameBase]))}return a}function G(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);X("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),h=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Yi){return X(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+Yi+")."),e}}(l[n]||"",t),e}),{});return{params:h,pathname:s,pathnameBase:u,pattern:e}}function Q(e){try{return decodeURI(e)}catch(Yi){return X(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Yi+")."),e}}function Y(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function X(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function J(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function $(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=O(e):(N(!(i=C({},e)).pathname||!i.pathname.includes("?"),J("?","pathname","search",i)),N(!i.pathname||!i.pathname.includes("#"),J("#","pathname","hash",i)),N(!i.search||!i.search.includes("#"),J("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?O(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ne(a),hash:re(s)}}(i,a),h=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!f||(l.pathname+="/"),l}var ee=function(e){return e.join("/").replace(/\/\/+/g,"/")},te=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ne=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},re=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ie=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n)}(E(Error));function ae(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var oe=["post","put","patch","delete"],se=(new Set(oe),["get"].concat(oe));new Set(se),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}var ce="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},le=t.useState,he=t.useEffect,fe=t.useLayoutEffect,de=t.useDebugValue;function pe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ce(n,r)}catch(Yi){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var ve=t.createContext(null);var me=t.createContext(null);var ye=t.createContext(null);var ge=t.createContext(null);var ke=t.createContext(null);var be=t.createContext({outlet:null,matches:[]});var we=t.createContext(null);function _e(){return null!=t.useContext(ke)}function xe(){return _e()||N(!1),t.useContext(ke).location}function Ee(){_e()||N(!1);var e=t.useContext(ge),n=e.basename,r=e.navigator,i=t.useContext(be).matches,a=xe().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);t.useEffect((function(){s.current=!0}));var u=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=$(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:ee([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}function Se(){var e=t.useContext(be).matches,n=e[e.length-1];return n?n.params:{}}function Ce(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(be).matches,a=xe().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return $(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Te(){var e=function(){var e,n=t.useContext(we),r=Oe(Ne.UseRouteError),i=De(Ne.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=ae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Ie,Ne,Re=function(e){g(r,e);var n=_(r);function r(e){var t;return f(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return m(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(be.Provider,{value:this.props.routeContext},t.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Ae(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ve);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(be.Provider,{value:n},i)}function Pe(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||N(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(Te,null):null,l=n.concat(i.slice(0,s+1)),h=function(){return t.createElement(Ae,{match:o,routeContext:{outlet:e,matches:l}},u?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===s)?t.createElement(Re,{location:r.location,component:c,error:u,children:h(),routeContext:{outlet:null,matches:l}}):h()}),null)}function Oe(e){var n=t.useContext(me);return n||N(!1),n}function De(e){var n=function(e){var n=t.useContext(be);return n||N(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||N(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ie||(Ie={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ne||(Ne={}));var Le;function je(e){N(!1)}function Me(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,h=n.static,f=void 0!==h&&h;_e()&&N(!1);var d=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:l,static:f}}),[d,l,f]);"string"===typeof s&&(s=O(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,_=v.state,x=void 0===_?null:_,E=v.key,S=void 0===E?"default":E,C=t.useMemo((function(){var e=Y(y,d);return null==e?null:{pathname:e,search:k,hash:w,state:x,key:S}}),[d,y,k,w,x,S]);return null==C?null:t.createElement(ge.Provider,{value:p},t.createElement(ke.Provider,{children:o,value:{location:C,navigationType:c}}))}function Fe(n){var r=n.children,i=n.location,a=t.useContext(ve);return function(n,r){_e()||N(!1);var i,a=t.useContext(ge).navigator,o=t.useContext(me),s=t.useContext(be).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),h=(u&&u.route,xe());if(r){var f,d="string"===typeof r?O(r):r;"/"===l||(null==(f=d.pathname)?void 0:f.startsWith(l))||N(!1),i=d}else i=h;var p=i.pathname||"/",v=L(n,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=Pe(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ee([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ee([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,o||void 0);return r&&m?t.createElement(ke.Provider,{value:{location:ue({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},m):m}(a&&!r?a.router.routes:Ve(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Le||(Le={}));var Ue=new Promise((function(){}));t.Component;function Ve(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==je&&N(!1),e.props.index&&e.props.children&&N(!1);var a=[].concat(h(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Ve(e.props.children,a)),r.push(o)}else r.push.apply(r,Ve(e.props.children,n))})),r}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var qe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function We(e){var n=e.basename,r=e.children,i=e.window,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),D((function(e,t){var n=e.location;return A("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:P(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,s=c(t.useState({action:o.action,location:o.location}),2),u=s[0],l=s[1];return t.useLayoutEffect((function(){return o.listen(l)}),[o]),t.createElement(Me,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ke=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,h=e.preventScrollReset,f=Be(e,qe),d=!1;if(He&&"string"===typeof l&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(l)){r=l;var p=new URL(window.location.href),v=l.startsWith("//")?new URL(p.protocol+l):new URL(l);v.origin===p.origin?l=v.pathname+v.search+v.hash:d=!0}var m=function(e,n){var r=(void 0===n?{}:n).relative;_e()||N(!1);var i=t.useContext(ge),a=i.basename,o=i.navigator,s=Ce(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,h=c;return"/"!==a&&(h="/"===c?a:ee([a,c])),o.createHref({pathname:h,search:l,hash:u})}(l,{relative:a}),y=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=Ee(),l=xe(),h=Ce(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:P(l)===P(h);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,h,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:h,relative:a});return t.createElement("a",ze({},f,{href:r||m,onClick:d||o?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:n,target:c}))}));var Ge,Qe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ge||(Ge={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Qe||(Qe={}));function Ye(){Ye=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:_(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var h={};function f(){}function p(){}function v(){}var m={};u(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==d(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Xe(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(Yi){return void n(Yi)}s.done?t(u):Promise.resolve(u).then(r,i)}function et(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){$e(a,r,i,o,s,"next",e)}function s(e){$e(a,r,i,o,s,"throw",e)}o(void 0)}))}}function tt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function nt(e,t){if(null==e)return{};var n,r,i=tt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rt=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function it(e){var n=rt(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var at=function(e,n){var r=(0,t.useRef)(!0);(0,t.useEffect)((function(){if(!r.current)return e();r.current=!1}),n)};function ot(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}var st=Math.pow(2,31)-1;function ut(e,t,n){var r=n-Date.now();e.current=r<=st?setTimeout(t,r):setTimeout((function(){return ut(e,t,n)}),st)}function ct(){var e=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}(),n=(0,t.useRef)();return ot((function(){return clearTimeout(n.current)})),(0,t.useMemo)((function(){var t=function(){return clearTimeout(n.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(t(),i<=st?n.current=setTimeout(r,i):ut(n,r,Date.now()+i))},clear:t}}),[])}var lt="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||lt?t.useLayoutEffect:t.useEffect,new WeakMap;var ht=n(184),ft=["as","disabled"];function dt(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var h={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},h];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},h]}var pt=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ft),a=c(dt(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,ht.jsx)(s,Object.assign({},i,o,{ref:t}))}));pt.displayName="Button";var vt=["onKeyDown"];var mt=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,vt),a=c(dt(Object.assign({tagName:"a"},i)),1)[0],o=it((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,ht.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,ht.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));mt.displayName="Anchor";var yt=mt,gt=n(694),kt=n.n(gt);function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bt.apply(this,arguments)}n(818);function wt(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function _t(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function xt(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,s=o[wt(i)],u=o[i],c=tt(o,[wt(i),i].map(_t)),l=n[i],h=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(u,s,e[l]),f=h[0],d=h[1];return bt({},c,((a={})[i]=f,a[l]=d,a))}),e)}function Et(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function St(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Ct(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Et.__suppressDeprecationWarning=!0,St.__suppressDeprecationWarning=!0,Ct.__suppressDeprecationWarning=!0;var Tt=/-(.)/g;var It=["xxl","xl","lg","md","sm","xs"],Nt="xs",Rt=t.createContext({prefixes:{},breakpoints:It,minBreakpoint:Nt});Rt.Consumer,Rt.Provider;function At(e,n){var r=(0,t.useContext)(Rt).prefixes;return e||r[n]||n}var Pt=["className","bsPrefix","as"],Ot=function(e){return e[0].toUpperCase()+(t=e,t.replace(Tt,(function(e,t){return t.toUpperCase()}))).slice(1);var t};var Dt=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?Ot(e):r,a=n.Component,o=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,u=nt(t,Pt),c=At(i,e);return(0,ht.jsx)(s,Ze({ref:n,className:kt()(r,c)},u))}));return s.defaultProps=o,s.displayName=i,s}("carousel-caption"),Lt=["as","bsPrefix","className"],jt=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=nt(e,Lt),s=kt()(a,At(i,"carousel-item"));return(0,ht.jsx)(r,Ze(Ze({ref:t},o),{},{className:s}))}));jt.displayName="CarouselItem";var Mt=jt;function Ft(e,n){var r=0;return t.Children.map(e,(function(e){return t.isValidElement(e)?n(e,r++):e}))}function Ut(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var Vt=/([A-Z])/g;var zt=/^ms-/;function Bt(e){return function(e){return e.replace(Vt,"-$1").toLowerCase()}(e).replace(zt,"-ms-")}var qt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Wt=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Bt(t))||function(e,t){return Ut(e).getComputedStyle(e,t)}(e).getPropertyValue(Bt(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!qt.test(e))}(i)?n+=Bt(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Bt(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},Ht=!("undefined"===typeof window||!window.document||!window.document.createElement),Kt=!1,Gt=!1;try{var Qt={get passive(){return Kt=!0},get once(){return Gt=Kt=!0}};Ht&&(window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,!0))}catch(iN){}var Yt=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Gt){var i=r.once,a=r.capture,o=n;!Gt&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Kt?r:a)}e.addEventListener(t,n,r)};var Xt=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Jt=function(e,t,n,r){return Yt(e,t,n,r),function(){Xt(e,t,n,r)}};function Zt(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Jt(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function $t(e,t,n,r){null==n&&(n=function(e){var t=Wt(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Zt(e,n,r),a=Jt(e,"transitionend",t);return function(){i(),a()}}function en(e,t){var n=Wt(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function tn(e,t){var n=en(e,"transitionDuration"),r=en(e,"transitionDelay"),i=$t(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var nn=n(164),rn=!1,an=t.createContext(null),on="unmounted",sn="exited",un="entering",cn="entered",ln="exiting",hn=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=sn,r.appearStatus=un):i=cn:i=t.unmountOnExit||t.mountOnEnter?on:sn,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,y(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===on?{status:sn}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==un&&n!==cn&&(t=un):n!==un&&n!==cn||(t=ln)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===un){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:nn.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===sn&&this.setState({status:on})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[nn.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||rn?this.safeSetState({status:cn},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:un},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:cn},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:nn.findDOMNode(this);t&&!rn?(this.props.onExit(r),this.safeSetState({status:ln},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:sn},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:sn},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:nn.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===on)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,tt(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(an.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function fn(){}hn.contextType=an,hn.propTypes={},hn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fn,onEntering:fn,onEntered:fn,onExit:fn,onExiting:fn,onExited:fn},hn.UNMOUNTED=on,hn.EXITED=sn,hn.ENTERING=un,hn.ENTERED=cn,hn.EXITING=ln;var dn=hn,pn=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var vn=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=pn(e),r=pn(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var mn=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],yn=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.onExited,c=e.addEndListener,l=e.children,h=e.childRef,f=nt(e,mn),d=(0,t.useRef)(null),p=vn(d,h),v=function(e){var t;p((t=e)&&"setState"in t?nn.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&d.current&&e(d.current,t)}},y=(0,t.useCallback)(m(r),[r]),g=(0,t.useCallback)(m(i),[i]),k=(0,t.useCallback)(m(a),[a]),b=(0,t.useCallback)(m(o),[o]),w=(0,t.useCallback)(m(s),[s]),_=(0,t.useCallback)(m(u),[u]),x=(0,t.useCallback)(m(c),[c]);return(0,ht.jsx)(dn,Ze(Ze({ref:n},f),{},{onEnter:y,onEntered:k,onEntering:g,onExit:b,onExited:_,onExiting:w,addEndListener:x,nodeRef:d,children:"function"===typeof l?function(e,t){return l(e,Ze(Ze({},t),{},{ref:v}))}:t.cloneElement(l,{ref:v})}))})),gn=yn,kn=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"],bn={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:(0,ht.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:(0,ht.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};var wn=t.forwardRef((function(e,n){var r=xt(e,{activeIndex:"onSelect"}),i=r.as,a=void 0===i?"div":i,o=r.bsPrefix,s=r.slide,u=r.fade,l=r.controls,h=r.indicators,f=r.indicatorLabels,d=r.activeIndex,p=r.onSelect,v=r.onSlide,m=r.onSlid,y=r.interval,g=r.keyboard,k=r.onKeyDown,b=r.pause,w=r.onMouseOver,_=r.onMouseOut,x=r.wrap,E=r.touch,S=r.onTouchStart,C=r.onTouchMove,T=r.onTouchEnd,I=r.prevIcon,N=r.prevLabel,R=r.nextIcon,A=r.nextLabel,P=r.variant,O=r.className,D=r.children,L=nt(r,kn),j=At(o,"carousel"),M="rtl"===(0,t.useContext)(Rt).dir,F=(0,t.useRef)(null),U=c((0,t.useState)("next"),2),V=U[0],z=U[1],B=c((0,t.useState)(!1),2),q=B[0],W=B[1],H=c((0,t.useState)(!1),2),K=H[0],G=H[1],Q=c((0,t.useState)(d||0),2),Y=Q[0],X=Q[1];(0,t.useEffect)((function(){K||d===Y||(F.current?z(F.current):z((d||0)>Y?"next":"prev"),s&&G(!0),X(d||0))}),[d,K,Y,s]),(0,t.useEffect)((function(){F.current&&(F.current=null)}));var J,Z=0;!function(e,n){var r=0;t.Children.forEach(e,(function(e){t.isValidElement(e)&&n(e,r++)}))}(D,(function(e,t){++Z,t===d&&(J=e.props.interval)}));var $=rt(J),ee=(0,t.useCallback)((function(e){if(!K){var t=Y-1;if(t<0){if(!x)return;t=Z-1}F.current="prev",null==p||p(t,e)}}),[K,Y,p,x,Z]),te=it((function(e){if(!K){var t=Y+1;if(t>=Z){if(!x)return;t=0}F.current="next",null==p||p(t,e)}})),ne=(0,t.useRef)();(0,t.useImperativeHandle)(n,(function(){return{element:ne.current,prev:ee,next:te}}));var re=it((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ne.current)&&(M?ee():te())})),ie="next"===V?"start":"end";at((function(){s||(null==v||v(Y,ie),null==m||m(Y,ie))}),[Y]);var ae="".concat(j,"-item-").concat(V),oe="".concat(j,"-item-").concat(ie),se=(0,t.useCallback)((function(e){!function(e){e.offsetHeight}(e),null==v||v(Y,ie)}),[v,Y,ie]),ue=(0,t.useCallback)((function(){G(!1),null==m||m(Y,ie)}),[m,Y,ie]),ce=(0,t.useCallback)((function(e){if(g&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(M?te(e):ee(e));case"ArrowRight":return e.preventDefault(),void(M?ee(e):te(e))}null==k||k(e)}),[g,k,ee,te,M]),le=(0,t.useCallback)((function(e){"hover"===b&&W(!0),null==w||w(e)}),[b,w]),he=(0,t.useCallback)((function(e){W(!1),null==_||_(e)}),[_]),fe=(0,t.useRef)(0),de=(0,t.useRef)(0),pe=ct(),ve=(0,t.useCallback)((function(e){fe.current=e.touches[0].clientX,de.current=0,"hover"===b&&W(!0),null==S||S(e)}),[b,S]),me=(0,t.useCallback)((function(e){e.touches&&e.touches.length>1?de.current=0:de.current=e.touches[0].clientX-fe.current,null==C||C(e)}),[C]),ye=(0,t.useCallback)((function(e){if(E){var t=de.current;Math.abs(t)>40&&(t>0?ee(e):te(e))}"hover"===b&&pe.set((function(){W(!1)}),y||void 0),null==T||T(e)}),[E,b,ee,te,pe,y,T]),ge=null!=y&&!q&&!K,ke=(0,t.useRef)();(0,t.useEffect)((function(){var e,t;if(ge){var n=M?ee:te;return ke.current=window.setInterval(document.visibilityState?re:n,null!=(e=null!=(t=$.current)?t:y)?e:void 0),function(){null!==ke.current&&clearInterval(ke.current)}}}),[ge,ee,te,$,y,re,M]);var be=(0,t.useMemo)((function(){return h&&Array.from({length:Z},(function(e,t){return function(e){null==p||p(t,e)}}))}),[h,Z,p]);return(0,ht.jsxs)(a,Ze(Ze({ref:ne},L),{},{onKeyDown:ce,onMouseOver:le,onMouseOut:he,onTouchStart:ve,onTouchMove:me,onTouchEnd:ye,className:kt()(O,j,s&&"slide",u&&"".concat(j,"-fade"),P&&"".concat(j,"-").concat(P)),children:[h&&(0,ht.jsx)("div",{className:"".concat(j,"-indicators"),children:Ft(D,(function(e,t){return(0,ht.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=f&&f.length?f[t]:"Slide ".concat(t+1),className:t===Y?"active":void 0,onClick:be?be[t]:void 0,"aria-current":t===Y},t)}))}),(0,ht.jsx)("div",{className:"".concat(j,"-inner"),children:Ft(D,(function(e,n){var r=n===Y;return s?(0,ht.jsx)(gn,{in:r,onEnter:r?se:void 0,onEntered:r?ue:void 0,addEndListener:tn,children:function(n,i){return t.cloneElement(e,Ze(Ze({},i),{},{className:kt()(e.props.className,r&&"entered"!==n&&ae,("entered"===n||"exiting"===n)&&"active",("entering"===n||"exiting"===n)&&oe)}))}}):t.cloneElement(e,{className:kt()(e.props.className,r&&"active")})}))}),l&&(0,ht.jsxs)(ht.Fragment,{children:[(x||0!==d)&&(0,ht.jsxs)(yt,{className:"".concat(j,"-control-prev"),onClick:ee,children:[I,N&&(0,ht.jsx)("span",{className:"visually-hidden",children:N})]}),(x||d!==Z-1)&&(0,ht.jsxs)(yt,{className:"".concat(j,"-control-next"),onClick:te,children:[R,A&&(0,ht.jsx)("span",{className:"visually-hidden",children:A})]})]})]}))}));wn.displayName="Carousel",wn.defaultProps=bn;var _n=Object.assign(wn,{Caption:Dt,Item:Mt}),xn=n.p+"static/media/banner1.e030c0817165174acbfe.jpg",En=n.p+"static/media/banner2.541c71e24bbc38df7c3e.jpg",Sn=n.p+"static/media/banner3.ed154f93d2380759c70d.jpg",Cn=function(){return(0,ht.jsxs)(_n,{children:[(0,ht.jsx)(_n.Item,{children:(0,ht.jsx)("img",{className:"d-block w-100",src:xn,alt:"First slide"})}),(0,ht.jsx)(_n.Item,{children:(0,ht.jsx)("img",{className:"d-block w-100",src:En,alt:"Second slide"})}),(0,ht.jsx)(_n.Item,{children:(0,ht.jsx)("img",{className:"d-block w-100",src:Sn,alt:"Third slide"})})]})},Tn={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},In=function(e,t){if(!e)throw Nn(t)},Nn=function(e){return new Error("Firebase Database ("+Tn.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},Rn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},An={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Rn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Pn;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Pn=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return m(n)}(E(Error)),On=function(e){var t=Rn(e);return An.encodeByteArray(t,!0)},Dn=function(e){return On(e).replace(/\./g,"")},Ln=function(e){try{return An.decodeString(e,!0)}catch(iN){console.error("base64Decode failed: ",iN)}return null};function jn(e){return Mn(void 0,e)}function Mn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Mn(e[n],t[n]));return e}var Fn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Un=function(){try{return Fn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/projekt_SOC_Skor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(iN){return}var t=e&&Ln(e[1]);return t&&JSON.parse(t)}}()}catch(iN){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(iN))}},Vn=function(e){var t,n;return null===(n=null===(t=Un())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},zn=function(e){var t=Vn(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Bn=function(){var e;return null===(e=Un())||void 0===e?void 0:e.config},qn=function(e){var t;return null===(t=Un())||void 0===t?void 0:t["_".concat(e)]},Wn=function(){function e(){var t=this;f(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Hn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Dn(JSON.stringify({alg:"none",type:"JWT"})),Dn(JSON.stringify(a)),""].join(".")}function Kn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Gn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function Qn(){var e,t=null===(e=Un())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(iN){return!1}}function Yn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Xn(){return!0===Tn.NODE_CLIENT||!0===Tn.NODE_ADMIN}function Jn(){try{return"object"===typeof indexedDB}catch(iN){return!1}}var Zn="FirebaseError",$n=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=Zn,Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),er.prototype.create),a}return m(n)}(E(Error)),er=function(){function e(t,n,r){f(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(tr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new $n(n,a,t)}}]),e}();var tr=/\{\$([^}]+)}/g;function nr(e){return JSON.parse(e)}function rr(e){return JSON.stringify(e)}var ir=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=nr(Ln(a[0])||""),n=nr(Ln(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(iN){}return{header:t,claims:n,data:r,signature:i}};function ar(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function or(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function sr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ur(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function cr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(lr(s)&&lr(u)){if(!cr(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function lr(e){return null!==e&&"object"===typeof e}function hr(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function fr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function dr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var pr=function(){function e(){f(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return m(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^l&(h^f),u=1518500249):(s=l^h^f,u=1859775393):p<60?(s=l&h|f&(l|h),u=2400959708):(s=l^h^f,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var vr=function(){function e(t,n){var r=this;f(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return m(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=S(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=mr),void 0===r.error&&(r.error=mr),void 0===r.complete&&(r.complete=mr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(iN){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(iN){"undefined"!==typeof console&&console.error&&console.error(iN)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function mr(){}function yr(e,t){return"".concat(e," failed: ").concat(t," argument ")}var gr=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function kr(e){return e&&e._delegate?e._delegate:e}var br=function(){function e(t,n,r){f(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),wr="[DEFAULT]",_r=function(){function e(t,n){f(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return m(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Wn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(iN){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(iN){if(r)return null;throw iN}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wr})}catch(iN){}var t,n=S(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(iN){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=et(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=S(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(TS){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===wr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(TS){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr;return this.component?this.component.multipleInstances?e:wr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var xr,Er,Sr=function(){function e(t){f(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new _r(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Cr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Er||(Er={}));var Tr={debug:Er.DEBUG,verbose:Er.VERBOSE,info:Er.INFO,warn:Er.WARN,error:Er.ERROR,silent:Er.SILENT},Ir=Er.INFO,Nr=(Xe(xr={},Er.DEBUG,"log"),Xe(xr,Er.VERBOSE,"log"),Xe(xr,Er.INFO,"info"),Xe(xr,Er.WARN,"warn"),Xe(xr,Er.ERROR,"error"),xr),Rr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Nr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ar=function(){function e(t){f(this,e),this.name=t,this._logLevel=Ir,this._logHandler=Rr,this._userLogHandler=null,Cr.push(this)}return m(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Er))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Tr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Er.DEBUG].concat(t)),this._logHandler.apply(this,[this,Er.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Er.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Er.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Er.INFO].concat(t)),this._logHandler.apply(this,[this,Er.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Er.WARN].concat(t)),this._logHandler.apply(this,[this,Er.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Er.ERROR].concat(t)),this._logHandler.apply(this,[this,Er.ERROR].concat(t))}}]),e}();var Pr,Or,Dr=function(e,t){return t.some((function(t){return e instanceof t}))};var Lr=new WeakMap,jr=new WeakMap,Mr=new WeakMap,Fr=new WeakMap,Ur=new WeakMap;var Vr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return jr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Mr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function zr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Or||(Or=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Wr(this),n),qr(Lr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qr(e.apply(Wr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Wr(this),t].concat(r));return Mr.set(a,t.sort?t.sort():[t]),qr(a)}}function Br(e){return"function"===typeof e?zr(e):(e instanceof IDBTransaction&&function(e){if(!jr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));jr.set(e,t)}}(e),Dr(e,Pr||(Pr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Vr):e)}function qr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(qr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Lr.set(t,e)})).catch((function(){})),Ur.set(t,e),t}(e);if(Fr.has(e))return Fr.get(e);var t=Br(e);return t!==e&&(Fr.set(e,t),Ur.set(t,e)),t}var Wr=function(e){return Ur.get(e)};var Hr,Kr,Gr=["get","getKey","getAll","getAllKeys","count"],Qr=["put","add","delete","clear"],Yr=new Map;function Xr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Yr.get(t))return Yr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Qr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Gr.includes(n))){var a=function(){var e=et(Ye().mark((function e(t){var a,o,s,u,c,l,h=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=h[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Yr.set(t,a),a}}}Vr=function(e){return Ze(Ze({},e),{},{get:function(t,n,r){return Xr(t,n)||e.get(t,n,r)},has:function(t,n){return!!Xr(t,n)||e.has(t,n)}})}(Vr);var Jr=function(){function e(t){f(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Zr="@firebase/app",$r="0.9.8",ei=new Ar("@firebase/app"),ti="[DEFAULT]",ni=(Xe(Hr={},Zr,"fire-core"),Xe(Hr,"@firebase/app-compat","fire-core-compat"),Xe(Hr,"@firebase/analytics","fire-analytics"),Xe(Hr,"@firebase/analytics-compat","fire-analytics-compat"),Xe(Hr,"@firebase/app-check","fire-app-check"),Xe(Hr,"@firebase/app-check-compat","fire-app-check-compat"),Xe(Hr,"@firebase/auth","fire-auth"),Xe(Hr,"@firebase/auth-compat","fire-auth-compat"),Xe(Hr,"@firebase/database","fire-rtdb"),Xe(Hr,"@firebase/database-compat","fire-rtdb-compat"),Xe(Hr,"@firebase/functions","fire-fn"),Xe(Hr,"@firebase/functions-compat","fire-fn-compat"),Xe(Hr,"@firebase/installations","fire-iid"),Xe(Hr,"@firebase/installations-compat","fire-iid-compat"),Xe(Hr,"@firebase/messaging","fire-fcm"),Xe(Hr,"@firebase/messaging-compat","fire-fcm-compat"),Xe(Hr,"@firebase/performance","fire-perf"),Xe(Hr,"@firebase/performance-compat","fire-perf-compat"),Xe(Hr,"@firebase/remote-config","fire-rc"),Xe(Hr,"@firebase/remote-config-compat","fire-rc-compat"),Xe(Hr,"@firebase/storage","fire-gcs"),Xe(Hr,"@firebase/storage-compat","fire-gcs-compat"),Xe(Hr,"@firebase/firestore","fire-fst"),Xe(Hr,"@firebase/firestore-compat","fire-fst-compat"),Xe(Hr,"fire-js","fire-js"),Xe(Hr,"firebase","fire-js-all"),Hr),ri=new Map,ii=new Map;function ai(e,t){try{e.container.addComponent(t)}catch(iN){ei.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),iN)}}function oi(e){var t=e.name;if(ii.has(t))return ei.debug("There were multiple attempts to register component ".concat(t,".")),!1;ii.set(t,e);var n,r=S(ri.values());try{for(r.s();!(n=r.n()).done;){ai(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function si(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var ui=(Xe(Kr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Xe(Kr,"bad-app-name","Illegal App name: '{$appName}"),Xe(Kr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Xe(Kr,"app-deleted","Firebase App named '{$appName}' already deleted"),Xe(Kr,"no-options","Need to provide options, when not being deployed to hosting via source."),Xe(Kr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Xe(Kr,"invalid-log-argument","First argument to `onLog` must be null or a function."),Xe(Kr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Xe(Kr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Xe(Kr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Xe(Kr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Kr),ci=new er("app","Firebase",ui),li=function(){function e(t,n,r){var i=this;f(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new br("app",(function(){return i}),"PUBLIC"))}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}]),e}(),hi="9.20.0";function fi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:ti,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=Bn()),!n)throw ci.create("no-options");var a=ri.get(i);if(a){if(cr(n,a.options)&&cr(r,a.config))return a;throw ci.create("duplicate-app",{appName:i})}var o,s=new Sr(i),u=S(ii.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new li(n,r,s);return ri.set(i,l),l}function di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ti,t=ri.get(e);if(!t&&e===ti)return fi();if(!t)throw ci.create("no-app",{appName:e});return t}function pi(e,t,n){var r,i=null!==(r=ni[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ei.warn(s.join(" "))}oi(new br("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var vi="firebase-heartbeat-database",mi=1,yi="firebase-heartbeat-store",gi=null;function ki(){return gi||(gi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=qr(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(qr(s.result),e.oldVersion,e.newVersion,qr(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(vi,mi,{upgrade:function(e,t){if(0===t)e.createObjectStore(yi)}}).catch((function(e){throw ci.create("idb-open",{originalErrorMessage:e.message})}))),gi}function bi(e){return wi.apply(this,arguments)}function wi(){return wi=et(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ki();case 3:return n=e.sent,e.abrupt("return",n.transaction(yi).objectStore(yi).get(Ei(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof $n?ei.warn(e.t0.message):(r=ci.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ei.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),wi.apply(this,arguments)}function _i(e,t){return xi.apply(this,arguments)}function xi(){return xi=et(Ye().mark((function e(t,n){var r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ki();case 3:return r=e.sent,i=r.transaction(yi,"readwrite"),a=i.objectStore(yi),e.next=8,a.put(n,Ei(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof $n?ei.warn(e.t0.message):(o=ci.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ei.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),xi.apply(this,arguments)}function Ei(e){return"".concat(e.name,"!").concat(e.options.appId)}var Si=1024,Ci=function(){function e(t){var n=this;f(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ri(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return m(e,[{key:"triggerHeartbeat",value:function(){var e=et(Ye().mark((function e(){var t,n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ti(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=et(Ye().mark((function e(){var t,n,r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ti(),n=Ii(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Dn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ti(){return(new Date).toISOString().substring(0,10)}function Ii(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Si,r=[],i=e.slice(),a=S(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ai(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ai(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ni,Ri=function(){function e(t){f(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return m(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Yi){t(Yi)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=et(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,bi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=et(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",_i(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=et(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",_i(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ai(e){return Dn(JSON.stringify({version:2,heartbeats:e})).length}Ni="",oi(new br("platform-logger",(function(e){return new Jr(e)}),"PRIVATE")),oi(new br("heartbeat",(function(e){return new Ci(e)}),"PRIVATE")),pi(Zr,$r,Ni),pi(Zr,$r,"esm2017"),pi("fire-js","");pi("firebase","9.20.0","app");var Pi="@firebase/database",Oi="0.14.4",Di="";var Li=function(){function e(t){f(this,e),this.domStorage_=t,this.prefix_="firebase:"}return m(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rr(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:nr(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),ji=function(){function e(){f(this,e),this.cache_={},this.isInMemoryStorage=!0}return m(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return ar(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Mi=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Li(t)}}catch(iN){}return new ji},Fi=Mi("localStorage"),Ui=Mi("sessionStorage"),Vi=new Ar("@firebase/database"),zi=function(){var e=1;return function(){return e++}}(),Bi=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,In(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new pr;n.update(t);var r=n.digest();return An.encodeByteArray(r)},qi=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?rr(r):r,t+=" "}return t},Wi=null,Hi=!0,Ki=function(e,t){In(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Vi.logLevel=Er.VERBOSE,Wi=Vi.log.bind(Vi),t&&Ui.set("logging_enabled",!0)):"function"===typeof e?Wi=e:(Wi=null,Ui.remove("logging_enabled"))},Gi=function(){if(!0===Hi&&(Hi=!1,null===Wi&&!0===Ui.get("logging_enabled")&&Ki(!0)),Wi){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=qi.apply(null,t);Wi(r)}},Qi=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Gi.apply(void 0,[e].concat(n))}},Yi=function(){var e="FIREBASE INTERNAL ERROR: "+qi.apply(void 0,arguments);Vi.error(e)},Xi=function(){var e="FIREBASE FATAL ERROR: ".concat(qi.apply(void 0,arguments));throw Vi.error(e),new Error(e)},Ji=function(){var e="FIREBASE WARNING: "+qi.apply(void 0,arguments);Vi.warn(e)},Zi=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},$i="[MIN_NAME]",ea="[MAX_NAME]",ta=function(e,t){if(e===t)return 0;if(e===$i||t===ea)return-1;if(t===$i||e===ea)return 1;var n=ca(e),r=ca(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},na=function(e,t){return e===t?0:e<t?-1:1},ra=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+rr(t))},ia=function e(t){if("object"!==typeof t||null===t)return rr(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=rr(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},aa=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function oa(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var sa=function(e){In(!Zi(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var ua=new RegExp("^-?(0*)\\d{1,10}$"),ca=function(e){if(ua.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},la=function(e){try{e()}catch(iN){setTimeout((function(){var t=iN.stack||"";throw Ji("Exception was thrown by user callback.",t),iN}),Math.floor(0))}},ha=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fa=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},da=function(){function e(t,n){var r=this;f(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return m(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Ji('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),pa=function(){function e(t,n,r){var i=this;f(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return m(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Gi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ji(e)}}]),e}(),va=function(){function e(t){f(this,e),this.accessToken=t}return m(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();va.OWNER="owner";var ma="5",ya=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ga="ac",ka="websocket",ba="long_polling",wa=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];f(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fi.get("host:"+t)||this._host}return m(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fi.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function _a(e,t,n){var r;if(In("string"===typeof t,"typeof type must == string"),In("object"===typeof n,"typeof params must == object"),t===ka)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ba)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return oa(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var xa=function(){function e(){f(this,e),this.counters_={}}return m(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ar(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return jn(this.counters_)}}]),e}(),Ea={},Sa={};function Ca(e){var t=e.toString();return Ea[t]||(Ea[t]=new xa),Ea[t]}var Ta=function(){function e(t){f(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return m(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&la((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Ia="start",Na="close",Ra="pLPCommand",Aa="pRTLPCB",Pa=function(){function e(t,n,r,i,a,o,s){var u=this;f(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qi(t),this.stats_=Ca(n),this.urlFn=function(e){return u.appCheckToken&&(e[ga]=u.appCheckToken),_a(n,ba,e)}}return m(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ta(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Xn()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Oa((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Ia)n.id=a,n.password=o;else{if(i!==Na)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Ia]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=ma,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[ga]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ya.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=rr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=On(t),r=aa(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Xn()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=rr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Xn()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Oa=function(){function e(t,n,r,i){if(f(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Xn())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=zi(),window[Ra+this.uniqueCallbackIdentifier]=t,window[Aa+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(iN){Gi("frame writing exception"),iN.stack&&Gi(iN.stack),Gi(iN)}}}return m(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Xn()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Gi("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(iN){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Gi("No IE domain setting required")}catch(iN){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Da=null;"undefined"!==typeof MozWebSocket?Da=MozWebSocket:"undefined"!==typeof WebSocket&&(Da=WebSocket);var La=function(){function e(t,n,r,i,a,o,s){f(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qi(this.connId),this.stats_=Ca(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return m(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fi.set("previous_websocket_failure",!0);try{var r;if(Xn()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(ma,"/").concat(Di,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/projekt_SOC_Skor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Da(this.connURL,[],r)}catch(iN){this.log_("Error instantiating WebSocket.");var s=iN.message||iN.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Fi.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=nr(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(In(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=rr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=aa(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(iN){this.log_("Exception thrown from WebSocket.send():",iN.message||iN.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=ma,!Xn()&&"undefined"!==typeof location&&location.hostname&&ya.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[ga]=r),i&&(a.p=i),_a(e,ka,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Da&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Fi.isInMemoryStorage||!0===Fi.get("previous_websocket_failure")}}]),e}();La.responsesRequiredToBeHealthy=2,La.healthyTimeout=3e4;var ja=function(){function e(t){f(this,e),this.initTransports_(t)}return m(e,[{key:"initTransports_",value:function(t){var n=La&&La.isAvailable(),r=n&&!La.previouslyFailed();if(t.webSocketOnly&&(n||Ji("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[La];else{var i,a=this.transports_=[],o=S(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Pa,La]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();ja.globalTransportInitialized_=!1;var Ma=function(){function e(t,n,r,i,a,o,s,u,c,l){f(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qi("c:"+this.id+":"),this.transportManager_=new ja(n),this.log_("Connection created"),this.start_()}return m(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=fa((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=ra("t",e),n=ra("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=ra("t",e),n=ra("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=ra("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Yi("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yi("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ma!==n&&Ji("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),fa((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fa((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Fa=function(){function e(){f(this,e)}return m(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Ua=function(){function e(t){f(this,e),this.allowedEvents_=t,this.listeners_={},In(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return m(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=h(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){In(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Va=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Gn()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return m(n,[{key:"getInitialEvent",value:function(e){return In("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Ua),za=32,Ba=768,qa=function(){function e(t,n){if(f(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return m(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Wa(){return new qa("")}function Ha(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ka(e){return e.pieces_.length-e.pieceNum_}function Ga(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new qa(e.pieces_,t)}function Qa(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ya(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Xa(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new qa(t,0)}function Ja(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof qa)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new qa(n,0)}function Za(e){return e.pieceNum_>=e.pieces_.length}function $a(e,t){var n=Ha(e),r=Ha(t);if(null===n)return t;if(n===r)return $a(Ga(e),Ga(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function eo(e,t){if(Ka(e)!==Ka(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function to(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ka(e)>Ka(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var no=m((function e(t,n){f(this,e),this.errorPrefix_=n,this.parts_=Ya(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=gr(this.parts_[r]);ro(this)}));function ro(e){if(e.byteLength_>Ba)throw new Error(e.errorPrefix_+"has a key path longer than "+Ba+" bytes ("+e.byteLength_+").");if(e.parts_.length>za)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+za+") or object contains a cycle "+io(e))}function io(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var ao=function(e){g(n,e);var t=_(n);function n(){var e,r,i;return f(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return m(n,[{key:"getInitialEvent",value:function(e){return In("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Ua),oo=1e3,so=3e5,uo=function(e){g(n,e);var t=_(n);function n(e,r,i,a,o,s,u,c){var l;if(f(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=Qi("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=oo,l.maxReconnectDelay_=so,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Xn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return ao.getInstance().on("visible",l.onVisible_,w(l)),-1===e.host.indexOf("fblocal")&&Va.getInstance().on("online",l.onOnline_,w(l)),l}return m(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(rr(i)),In(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Wn,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),In(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),In(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=ir(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=ir(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),In(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+rr(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Yi("Unrecognized action received from server: "+rr(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;In(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=oo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=oo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=oo),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=et(Ye().mark((function e(){var t,r,i,a,o,s,u,l,h,f,d,p,v,m,y=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},h=function(e){In(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:d=e.sent,p=c(d,2),v=p[0],m=p[1],s?Gi("getToken() completed but was canceled"):(Gi("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new Ma(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Ji(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Ji(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Gi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Gi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],sr(this.interruptReasons_)&&(this.reconnectDelay_=oo,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return ia(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new qa(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Gi("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Gi("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=S(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=S(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Xn()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Di.replace(/\./g,"-")]=1,Gn()?e["framework.cordova"]=1:Yn()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Va.getInstance().currentlyOnline();return sr(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&ar(e,"w")){var n=or(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Ji("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Fa);uo.nextPersistentConnectionId_=0,uo.nextConnectionId_=0;var co,lo=function(){function e(t,n){f(this,e),this.name=t,this.node=n}return m(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),ho=function(){function e(){f(this,e)}return m(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new lo($i,e),r=new lo($i,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return lo.MIN}}]),e}(),fo=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"compare",value:function(e,t){return ta(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Nn("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return lo.MIN}},{key:"maxPost",value:function(){return new lo(ea,co)}},{key:"makePost",value:function(e,t){return In("string"===typeof e,"KeyIndex indexValue must always be a string."),new lo(e,co)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return co},set:function(e){co=e}}]),n}(ho),po=new fo,vo=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;f(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return m(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),mo=function(){function e(t,n,r,i,a){f(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ko.EMPTY_NODE,this.right=null!=a?a:ko.EMPTY_NODE}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return ko.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ko.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();mo.RED=!0,mo.BLACK=!1;var yo,go=function(){function e(){f(this,e)}return m(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new mo(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),ko=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;f(this,e),this.comparator_=t,this.root_=n}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,mo.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,mo.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new vo(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new vo(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new vo(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new vo(this.root_,null,this.comparator_,!0,e)}}]),e}();function bo(e,t){return ta(e.name,t.name)}function wo(e,t){return ta(e,t)}ko.EMPTY_NODE=new go;var _o,xo,Eo,So=function(e){return"number"===typeof e?"number:"+sa(e):"string:"+e},Co=function(e){if(e.isLeafNode()){var t=e.val();In("string"===typeof t||"number"===typeof t||"object"===typeof t&&ar(t,".sv"),"Priority must be a string or number.")}else In(e===yo||e.isEmpty(),"priority of unexpected type.");In(e===yo||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},To=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;f(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,In(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Co(this.priorityNode_)}return m(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Za(t)?this:".priority"===Ha(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Ha(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(In(".priority"!==r||1===Ka(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ga(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+So(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?sa(this.value_):this.value_,this.lazyHash_=Bi(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(In(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return In(i>=0,"Unknown leaf type: "+n),In(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return _o},set:function(e){_o=e}}]),e}();To.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Io,No,Ro=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?ta(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return lo.MIN}},{key:"maxPost",value:function(){return new lo(ea,new To("[PRIORITY-POST]",Eo))}},{key:"makePost",value:function(e,t){var n=xo(e);return new lo(t,new To("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(ho),Ao=new Ro,Po=Math.log(2),Oo=function(){function e(t){f(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Po,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return m(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Do=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new mo(o,a.node,mo.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new mo(o,a.node,mo.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],h=n?n(l):l;u(new mo(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,mo.BLACK):(s(h,mo.BLACK),s(h,mo.RED))}return a}(new Oo(e.length));return new ko(r||t,a)},Lo={},jo=function(){function e(t,n){f(this,e),this.indexes_=t,this.indexSet_=n}return m(e,[{key:"get",value:function(e){var t=or(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ko?t:null}},{key:"hasIndex",value:function(e){return ar(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){In(t!==po,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(lo.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Do(i,t.getCompare()):Lo;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(ur(this.indexes_,(function(e,i){var a=or(r.indexSet_,i);if(In(a,"Missing index implementation for "+i),e===Lo){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(lo.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Do(o,a.getCompare())}return Lo}var c=n.get(t.name),l=e;return c&&(l=l.remove(new lo(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(ur(this.indexes_,(function(e){if(e===Lo)return e;var r=n.get(t.name);return r?e.remove(new lo(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return In(Lo&&Ao,"ChildrenNode.ts has not been loaded"),Io=Io||new e({".priority":Lo},{".priority":Ao})}}]),e}(),Mo=function(){function e(t,n,r){f(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Co(this.priorityNode_),this.children_.isEmpty()&&In(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return m(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||No}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?No:t}},{key:"getChild",value:function(e){var t=Ha(e);return null===t?this:this.getImmediateChild(t).getChild(Ga(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(In(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new lo(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?No:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Ha(e);if(null===n)return t;In(".priority"!==Ha(e)||1===Ka(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ga(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Ao,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+So(this.getPriority().val())+":"),this.forEachChild(Ao,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Bi(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new lo(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new lo(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new lo(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,lo.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,lo.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fo?-1:0}},{key:"withIndex",value:function(t){if(t===po||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===po||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ao),r=t.getIterator(Ao),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===po?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return No||(No=new e(new ko(wo),null,jo.Default))}}]),e}();Mo.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Fo=new(function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.call(this,new ko(wo),Mo.EMPTY_NODE,jo.Default)}return m(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Mo.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Mo));Object.defineProperties(lo,{MIN:{value:new lo($i,Mo.EMPTY_NODE)},MAX:{value:new lo(ea,Fo)}}),fo.__EMPTY_NODE=Mo.EMPTY_NODE,To.__childrenNodeConstructor=Mo,yo=Fo,function(e){Eo=e}(Fo);var Uo=!0;function Vo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Mo.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),In(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new To(e,Vo(t));if(e instanceof Array||!Uo){var n=Mo.EMPTY_NODE;return oa(e,(function(t,r){if(ar(e,t)&&"."!==t.substring(0,1)){var i=Vo(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Vo(t))}var r=[],i=!1;if(oa(e,(function(e,t){if("."!==e.substring(0,1)){var n=Vo(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new lo(e,n)))}})),0===r.length)return Mo.EMPTY_NODE;var a=Do(r,bo,(function(e){return e.name}),wo);if(i){var o=Do(r,Ao.getCompare());return new Mo(a,Vo(t),new jo({".priority":o},{".priority":Ao}))}return new Mo(a,Vo(t),jo.Default)}!function(e){xo=e}(Vo);var zo=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).indexPath_=e,In(!Za(e)&&".priority"!==Ha(e),"Can't create PathIndex with empty path or .priority key"),r}return m(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?ta(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Vo(e),r=Mo.EMPTY_NODE.updateChild(this.indexPath_,n);return new lo(t,r)}},{key:"maxPost",value:function(){var e=Mo.EMPTY_NODE.updateChild(this.indexPath_,Fo);return new lo(ea,e)}},{key:"toString",value:function(){return Ya(this.indexPath_,0).join("/")}}]),n}(ho),Bo=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?ta(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return lo.MIN}},{key:"maxPost",value:function(){return lo.MAX}},{key:"makePost",value:function(e,t){var n=Vo(e);return new lo(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(ho),qo=new Bo;function Wo(e){return{type:"value",snapshotNode:e}}function Ho(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ko(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Go(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Qo=function(){function e(){f(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ao}return m(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return In(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return In(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$i}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return In(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return In(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ea}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return In(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Ao}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Yo(e){var t,n={};if(e.isDefault())return n;if(e.index_===Ao?t="$priority":e.index_===qo?t="$value":e.index_===po?t="$key":(In(e.index_ instanceof zo,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=rr(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=rr(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+rr(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=rr(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+rr(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Xo(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ao&&(t.i=e.index_.toString()),t}var Jo=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Qi("p:rest:"),o.listens_={},o}return m(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=Yo(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),or(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Yo(e._queryParams),r=e._path.toString(),i=new Wn;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=c(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+hr(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=nr(l.responseText)}catch(iN){Ji("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&Ji("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(In(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Fa),Zo=function(){function e(){f(this,e),this.rootNode_=Mo.EMPTY_NODE}return m(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function $o(){return{value:null,children:new Map}}function es(e,t,n){if(Za(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Ha(t);e.children.has(r)||e.children.set(r,$o()),es(e.children.get(r),t=Ga(t),n)}}function ts(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){ts(r,new qa(t.toString()+"/"+e),n)}))}var ns,rs=function(){function e(t){f(this,e),this.collection_=t,this.last_=null}return m(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&oa(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),is=1e4,as=3e4,os=function(){function e(t,n){f(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new rs(t);var r=is+(as-is)*Math.random();fa(this.reportStats_.bind(this),Math.floor(r))}return m(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;oa(t,(function(t,i){i>0&&ar(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),fa(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function ss(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ns||(ns={}));var us,cs=function(){function e(t,n,r){f(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=ns.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return m(e,[{key:"operationForChild",value:function(t){if(Za(this.path)){if(null!=this.affectedTree.value)return In(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new qa(t));return new e(Wa(),n,this.revert)}return In(Ha(this.path)===t,"operationForChild called for unrelated child."),new e(Ga(this.path),this.affectedTree,this.revert)}}]),e}(),ls=function(){function e(t,n,r){f(this,e),this.source=t,this.path=n,this.snap=r,this.type=ns.OVERWRITE}return m(e,[{key:"operationForChild",value:function(t){return Za(this.path)?new e(this.source,Wa(),this.snap.getImmediateChild(t)):new e(this.source,Ga(this.path),this.snap)}}]),e}(),hs=function(){function e(t,n,r){f(this,e),this.source=t,this.path=n,this.children=r,this.type=ns.MERGE}return m(e,[{key:"operationForChild",value:function(t){if(Za(this.path)){var n=this.children.subtree(new qa(t));return n.isEmpty()?null:n.value?new ls(this.source,Wa(),n.value):new e(this.source,Wa(),n)}return In(Ha(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ga(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),fs=function(){function e(t,n,r){f(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return m(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Za(e))return this.isFullyInitialized()&&!this.filtered_;var t=Ha(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function ds(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Nn("Should only compare child_ events.");var r=new lo(t.childName,t.snapshotNode),i=new lo(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function ps(e,t){return{eventCache:e,serverCache:t}}function vs(e,t,n,r){return ps(new fs(t,n,r),e.serverCache)}function ms(e,t,n,r){return ps(e.eventCache,new fs(t,n,r))}function ys(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function gs(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var ks=function(){return us||(us=new ko(na)),us},bs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ks();f(this,e),this.value=t,this.children=n}return m(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Wa(),value:this.value};if(Za(e))return null;var n=Ha(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ga(e),t);return null!=i?{path:Ja(new qa(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Za(t))return this;var n=Ha(t),r=this.children.get(n);return null!==r?r.subtree(Ga(t)):new e(null)}},{key:"set",value:function(t,n){if(Za(t))return new e(n,this.children);var r=Ha(t),i=(this.children.get(r)||new e(null)).set(Ga(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Za(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Ha(t),r=this.children.get(n);if(r){var i,a=r.remove(Ga(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Za(e))return this.value;var t=Ha(e),n=this.children.get(t);return n?n.get(Ga(e)):null}},{key:"setTree",value:function(t,n){if(Za(t))return n;var r,i=Ha(t),a=(this.children.get(i)||new e(null)).setTree(Ga(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Wa(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ja(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Wa(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Za(e))return null;var i=Ha(e),a=this.children.get(i);return a?a.findOnPath_(Ga(e),Ja(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Wa(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Za(t))return this;this.value&&r(n,this.value);var i=Ha(t),a=this.children.get(i);return a?a.foreachOnPath_(Ga(t),Ja(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Wa(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ja(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return oa(t,(function(e,t){n=n.set(new qa(e),t)})),n}}]),e}(),ws=function(){function e(t){f(this,e),this.writeTree_=t}return m(e,null,[{key:"empty",value:function(){return new e(new bs(null))}}]),e}();function _s(e,t,n){if(Za(t))return new ws(new bs(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=$a(i,t);return a=a.updateChild(o,n),new ws(e.writeTree_.set(i,a))}var s=new bs(n),u=e.writeTree_.setTree(t,s);return new ws(u)}function xs(e,t,n){var r=e;return oa(n,(function(e,n){r=_s(r,Ja(t,e),n)})),r}function Es(e,t){if(Za(t))return ws.empty();var n=e.writeTree_.setTree(t,new bs(null));return new ws(n)}function Ss(e,t){return null!=Cs(e,t)}function Cs(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild($a(n.path,t)):null}function Ts(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ao,(function(e,n){t.push(new lo(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new lo(e,n.value))})),t}function Is(e,t){if(Za(t))return e;var n=Cs(e,t);return new ws(null!=n?new bs(n):e.writeTree_.subtree(t))}function Ns(e){return e.writeTree_.isEmpty()}function Rs(e,t){return As(Wa(),e.writeTree_,t)}function As(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(In(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=As(Ja(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ja(e,".priority"),r)),n}function Ps(e,t){return Hs(t,e)}function Os(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));In(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Ds(s,r.path)?i=!1:to(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=js(e.allWrites,Ls,Wa()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Es(e.visibleWrites,r.path):oa(r.children,(function(t){e.visibleWrites=Es(e.visibleWrites,Ja(r.path,t))}));return!0}return!1}function Ds(e,t){if(e.snap)return to(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&to(Ja(e.path,n),t))return!0;return!1}function Ls(e){return e.visible}function js(e,t,n){for(var r=ws.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)to(n,o)?r=_s(r,s=$a(n,o),a.snap):to(o,n)&&(s=$a(o,n),r=_s(r,Wa(),a.snap.getChild(s)));else{if(!a.children)throw Nn("WriteRecord should have .snap or .children");if(to(n,o))r=xs(r,s=$a(n,o),a.children);else if(to(o,n))if(Za(s=$a(o,n)))r=xs(r,Wa(),a.children);else{var u=or(a.children,Ha(s));if(u){var c=u.getChild(Ga(s));r=_s(r,Wa(),c)}}}}}return r}function Ms(e,t,n,r,i){if(r||i){var a=Is(e.visibleWrites,t);if(!i&&Ns(a))return n;if(i||null!=n||Ss(a,Wa())){return Rs(js(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(to(e.path,t)||to(t,e.path))}),t),n||Mo.EMPTY_NODE)}return null}var o=Cs(e.visibleWrites,t);if(null!=o)return o;var s=Is(e.visibleWrites,t);return Ns(s)?n:null!=n||Ss(s,Wa())?Rs(s,n||Mo.EMPTY_NODE):null}function Fs(e,t,n,r){return Ms(e.writeTree,e.treePath,t,n,r)}function Us(e,t){return function(e,t,n){var r=Mo.EMPTY_NODE,i=Cs(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ao,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Is(e.visibleWrites,t);return n.forEachChild(Ao,(function(e,t){var n=Rs(Is(a,new qa(e)),t);r=r.updateImmediateChild(e,n)})),Ts(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Ts(Is(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Vs(e,t,n,r){return function(e,t,n,r,i){In(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ja(t,n);if(Ss(e.visibleWrites,a))return null;var o=Is(e.visibleWrites,a);return Ns(o)?i.getChild(n):Rs(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function zs(e,t){return function(e,t){return Cs(e.visibleWrites,t)}(e.writeTree,Ja(e.treePath,t))}function Bs(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Is(e.visibleWrites,t),c=Cs(u,Wa());if(null!=c)s=c;else{if(null==n)return[];s=Rs(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function qs(e,t,n){return function(e,t,n,r){var i=Ja(t,n),a=Cs(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Rs(Is(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Ws(e,t){return Hs(Ja(e.treePath,t),e.writeTree)}function Hs(e,t){return{treePath:e,writeTree:t}}var Ks=function(){function e(){f(this,e),this.changeMap=new Map}return m(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;In("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),In(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Go(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Ko(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Ho(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Nn("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Go(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Gs=new(function(){function e(){f(this,e)}return m(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Qs=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return m(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new fs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qs(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:gs(this.viewCache_),i=Bs(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Ys(e,t,n,r,i){var a,o,s=new Ks;if(n.type===ns.OVERWRITE){var u=n;u.source.fromUser?a=Zs(e,t,u.path,u.snap,r,i,s):(In(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Za(u.path),a=Js(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===ns.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=Ja(n,r);$s(t,Ha(c))&&(s=Zs(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=Ja(n,r);$s(t,Ha(c))||(s=Zs(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(In(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=tu(e,t,c.path,c.children,r,i,o,s))}else if(n.type===ns.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=zs(r,n))return t;var s,u=new Qs(r,t,i),c=t.eventCache.getNode();if(Za(n)||".priority"===Ha(n)){var l;if(t.serverCache.isFullyInitialized())l=Fs(r,gs(t));else{var h=t.serverCache.getNode();In(h instanceof Mo,"serverChildren would be complete if leaf node"),l=Us(r,h)}s=e.filter.updateFullNode(c,l,a)}else{var f=Ha(n),d=qs(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=c.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(c,f,d,Ga(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,Mo.EMPTY_NODE,Ga(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Fs(r,gs(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=zs(r,Wa()),vs(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=zs(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Za(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Js(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Za(n)){var c=new bs(null);return u.getNode().forEachChild(po,(function(e,t){c=c.set(new qa(e),t)})),tu(e,t,n,c,i,a,s,o)}return t}var l=new bs(null);return r.foreach((function(e,t){var r=Ja(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),tu(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==ns.LISTEN_COMPLETE)throw Nn("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=ms(t,a.getNode(),a.isFullyInitialized()||Za(n),a.isFiltered());return Xs(e,o,n,r,Gs,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=ys(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Wo(ys(t)))}}(t,a,h),{viewCache:a,changes:h}}function Xs(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=zs(r,n))return t;if(Za(n))if(In(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=gs(t),l=Us(r,c instanceof Mo?c:Mo.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var h=Fs(r,gs(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=Ha(n);if(".priority"===f){In(1===Ka(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Vs(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=Ga(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var y=Vs(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(f).updateChild(m,y):u.getNode().getImmediateChild(f)}else v=qs(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,a):u.getNode()}}return vs(t,o,u.isFullyInitialized()||Za(n),e.filter.filtersNodes())}function Js(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Za(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=Ha(n);if(!c.isCompleteForPath(n)&&Ka(n)>1)return t;var d=Ga(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Gs,null)}var v=ms(t,u,c.isFullyInitialized()||Za(n),l.filtersNodes());return Xs(e,v,n,i,new Qs(i,v,a),s)}function Zs(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new Qs(i,t,a);if(Za(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=vs(t,u,!0,e.filter.filtersNodes());else{var h=Ha(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=vs(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,d=Ga(n),p=c.getNode().getImmediateChild(h);if(Za(d))f=r;else{var v=l.getCompleteChild(h);f=null!=v?".priority"===Qa(d)&&v.getChild(Xa(d)).isEmpty()?v:v.updateChild(d,r):Mo.EMPTY_NODE}if(p.equals(f))s=t;else s=vs(t,e.filter.updateChild(c.getNode(),h,f,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function $s(e,t){return e.eventCache.isCompleteForChild(t)}function eu(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function tu(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Za(n)?r:new bs(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=eu(0,t.serverCache.getNode().getImmediateChild(n),r);c=Js(e,c,new qa(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var h=eu(0,t.serverCache.getNode().getImmediateChild(n),r);c=Js(e,c,new qa(n),h,i,a,o,s)}})),c}var nu;function ru(e,t){var n=gs(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Za(t)&&!n.getImmediateChild(Ha(t)).isEmpty())?n.getChild(t):null}function iu(e,t,n,r){t.type===ns.MERGE&&null!==t.source.queryId&&(In(gs(e.viewCache_),"We should always have a full cache before handling merges"),In(ys(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Ys(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,In(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),In(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),In(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,au(e,s.changes,s.viewCache.eventCache.getNode(),null)}function au(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),ds(e,i,"child_removed",t,r,n),ds(e,i,"child_added",t,r,n),ds(e,i,"child_moved",a,r,n),ds(e,i,"child_changed",t,r,n),ds(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var ou;function su(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return In(null!=a,"SyncTree gave us an op for an invalid query."),iu(a,t,n,r)}var o,s=[],u=S(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(iu(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function uu(e,t){var n,r=null,i=S(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||ru(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var cu=m((function e(t){f(this,e),this.listenProvider_=t,this.syncPointTree_=new bs(null),this.pendingWriteTree_={visibleWrites:ws.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function lu(e,t,n,r,i){return function(e,t,n,r,i){In(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=_s(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?vu(e,new ls({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function hu(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Os(e.pendingWriteTree_,t)){var i=new bs(null);return null!=r.snap?i=i.set(Wa(),!0):oa(r.children,(function(e){i=i.set(new qa(e),!0)})),vu(e,new cs(r.path,i,n))}return[]}function fu(e,t,n){return vu(e,new ls({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function du(e,t,n,r){var i=gu(e,r);if(null!=i){var a=ku(i),o=a.path,s=a.queryId,u=$a(o,t);return bu(e,o,new ls(ss(s),u,n))}return[]}function pu(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=uu(n,$a(e,t));if(r)return r}));return Ms(r,t,i,n,!0)}function vu(e,t){return mu(t,e.syncPointTree_,null,Ps(e.pendingWriteTree_,Wa()))}function mu(e,t,n,r){if(Za(e.path))return yu(e,t,n,r);var i=t.get(Wa());null==n&&null!=i&&(n=uu(i,Wa()));var a=[],o=Ha(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Ws(r,o);a=a.concat(mu(s,u,c,l))}return i&&(a=a.concat(su(i,e,r,n))),a}function yu(e,t,n,r){var i=t.get(Wa());null==n&&null!=i&&(n=uu(i,Wa()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Ws(r,t),u=e.operationForChild(t);u&&(a=a.concat(yu(u,i,o,s)))})),i&&(a=a.concat(su(i,e,r,n))),a}function gu(e,t){return e.tagToQueryMap.get(t)}function ku(e){var t=e.indexOf("$");return In(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new qa(e.substr(0,t))}}function bu(e,t,n){var r=e.syncPointTree_.get(t);return In(r,"Missing sync point for query tag that we're tracking"),su(r,n,Ps(e.pendingWriteTree_,t),null)}var wu=function(){function e(t){f(this,e),this.node_=t}return m(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),_u=function(){function e(t,n){f(this,e),this.syncTree_=t,this.path_=n}return m(e,[{key:"getImmediateChild",value:function(t){var n=Ja(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return pu(this.syncTree_,this.path_)}}]),e}(),xu=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Eu=function(e,t,n){return e&&"object"===typeof e?(In(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Su(e[".sv"],t,n):"object"===typeof e[".sv"]?Cu(e[".sv"],t):void In(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Su=function(e,t,n){if("timestamp"===e)return n.timestamp;In(!1,"Unexpected server value: "+e)},Cu=function(e,t,n){e.hasOwnProperty("increment")||In(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&In(!1,"Unexpected increment value: "+r);var i=t.node();if(In(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Tu=function(e,t,n,r){return Nu(t,new _u(n,e),r)},Iu=function(e,t,n){return Nu(e,new wu(t),n)};function Nu(e,t,n){var r,i=e.getPriority().val(),a=Eu(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=Eu(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new To(s,Vo(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new To(a))),u.forEachChild(Ao,(function(e,i){var a=Nu(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Ru=m((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};f(this,e),this.name=t,this.parent=n,this.node=r}));function Au(e,t){for(var n=t instanceof qa?t:new qa(t),r=e,i=Ha(n);null!==i;){var a=or(r.node.children,i)||{children:{},childCount:0};r=new Ru(i,r,a),i=Ha(n=Ga(n))}return r}function Pu(e){return e.node.value}function Ou(e,t){e.node.value=t,Fu(e)}function Du(e){return e.node.childCount>0}function Lu(e,t){oa(e.node.children,(function(n,r){t(new Ru(n,e,r))}))}function ju(e,t,n,r){n&&!r&&t(e),Lu(e,(function(e){ju(e,t,!0,r)})),n&&r&&t(e)}function Mu(e){return new qa(null===e.parent?e.name:Mu(e.parent)+"/"+e.name)}function Fu(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Pu(e)&&!Du(e)}(n),i=ar(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Fu(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Fu(e))}(e.parent,e.name,e)}var Uu=/[\[\].#$\/\u0000-\u001F\u007F]/,Vu=/[\[\].#$\u0000-\u001F\u007F]/,zu=10485760,Bu=function(e){return"string"===typeof e&&0!==e.length&&!Uu.test(e)},qu=function(e){return"string"===typeof e&&0!==e.length&&!Vu.test(e)},Wu=function(e,t,n,r){r&&void 0===t||Hu(yr(e,"value"),t,n)},Hu=function e(t,n,r){var i=r instanceof qa?new no(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+io(i));if("function"===typeof n)throw new Error(t+"contains a function "+io(i)+" with contents = "+n.toString());if(Zi(n))throw new Error(t+"contains "+n.toString()+" "+io(i));if("string"===typeof n&&n.length>zu/3&&gr(n)>zu)throw new Error(t+"contains a string greater than "+zu+" utf8 bytes "+io(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(oa(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Bu(n)))throw new Error(t+" contains an invalid key ("+n+") "+io(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=gr(t),ro(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=gr(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+io(i)+" in addition to actual children.")}},Ku=function(e,t,n,r){if((!r||void 0!==n)&&!qu(n))throw new Error(yr(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Gu=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ku(e,t,n,r)},Qu=function(e,t){if(".info"===Ha(t))throw new Error(e+" failed = Can't modify data under /.info/")},Yu=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Bu(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qu(e)}(n))throw new Error(yr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Xu=m((function e(){f(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Ju(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||eo(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Zu(e,t,n){Ju(e,n),$u(e,(function(e){return to(e,t)||to(t,e)}))}function $u(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ec(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ec(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Wi&&Gi("event: "+n.toString()),la(r)}}}var tc="repo_interrupt",nc=25,rc=function(){function e(t,n,r,i){f(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$o(),this.transactionQueueTree_=new Ru,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return m(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function ic(e,t,n){if(e.stats_=Ca(e.repoInfo_),e.forceRestClient_||ha())e.server_=new Jo(e.repoInfo_,(function(t,n,r,i){sc(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return uc(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rr(n)}catch(iN){throw new Error("Invalid authOverride provided: "+iN)}}e.persistentConnection_=new uo(e.repoInfo_,t,(function(t,n,r,i){sc(e,t,n,r,i)}),(function(t){uc(e,t)}),(function(t){!function(e,t){oa(t,(function(t,n){cc(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Sa[n]||(Sa[n]=t()),Sa[n]}(e.repoInfo_,(function(){return new os(e.stats_,e.server_)})),e.infoData_=new Zo,e.infoSyncTree_=new cu({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=fu(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),cc(e,"connected",!1),e.serverSyncTree_=new cu({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Zu(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ac(e){var t=e.infoData_.getNode(new qa(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function oc(e){return xu({timestamp:ac(e)})}function sc(e,t,n,r,i){e.dataUpdateCount++;var a=new qa(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=ur(n,(function(e){return Vo(e)}));o=function(e,t,n,r){var i=gu(e,r);if(i){var a=ku(i),o=a.path,s=a.queryId,u=$a(o,t),c=bs.fromObject(n);return bu(e,o,new hs(ss(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Vo(n);o=du(e.serverSyncTree_,a,u,i)}else if(r){var c=ur(n,(function(e){return Vo(e)}));o=function(e,t,n){var r=bs.fromObject(n);return vu(e,new hs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Vo(n);o=fu(e.serverSyncTree_,a,l)}var h=a;o.length>0&&(h=yc(e,a)),Zu(e.eventQueue_,h,o)}function uc(e,t){cc(e,"connected",t),!1===t&&function(e){dc(e,"onDisconnectEvents");var t=oc(e),n=$o();ts(e.onDisconnect_,Wa(),(function(r,i){var a=Tu(r,i,e.serverSyncTree_,t);es(n,r,a)}));var r=[];ts(n,Wa(),(function(t,n){r=r.concat(fu(e.serverSyncTree_,t,n));var i=_c(e,t);yc(e,i)})),e.onDisconnect_=$o(),Zu(e.eventQueue_,Wa(),r)}(e)}function cc(e,t,n){var r=new qa("/.info/"+t),i=Vo(n);e.infoData_.updateSnapshot(r,i);var a=fu(e.infoSyncTree_,r,i);Zu(e.eventQueue_,r,a)}function lc(e){return e.nextWriteId_++}function hc(e,t,n,r,i){dc(e,"set",{path:t.toString(),value:n,priority:r});var a=oc(e),o=Vo(n,r),s=pu(e.serverSyncTree_,t),u=Iu(o,s,a),c=lc(e),l=lu(e.serverSyncTree_,t,u,c,!0);Ju(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||Ji("set at "+t+" failed: "+n);var o=hu(e.serverSyncTree_,c,!a);Zu(e.eventQueue_,t,o),pc(e,i,n,r)}));var h=_c(e,t);yc(e,h),Zu(e.eventQueue_,h,[])}function fc(e){e.persistentConnection_&&e.persistentConnection_.interrupt(tc)}function dc(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Gi.apply(void 0,[t].concat(r))}function pc(e,t,n,r){t&&la((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function vc(e,t,n){return pu(e.serverSyncTree_,t,n)||Mo.EMPTY_NODE}function mc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||wc(e,t),Pu(t)){var n=kc(e,t);In(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=vc(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];In(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=$a(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){dc(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(hu(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);wc(e,Au(e.transactionQueueTree_,t)),mc(e,e.transactionQueueTree_),Zu(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)la(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{Ji("transaction at "+h.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}yc(e,t)}}),o)}(e,Mu(t),n)}else Du(t)&&Lu(t,(function(t){mc(e,t)}))}function yc(e,t){var n=gc(e,t),r=Mu(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=$a(n,c.path),h=!1;if(In(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,s=c.abortReason,i=i.concat(hu(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=nc)h=!0,s="maxretry",i=i.concat(hu(e.serverSyncTree_,c.currentWriteId,!0));else{var f=vc(e,c.path,o);c.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){Hu("transaction failed: Data returned ",d,c.path);var p=Vo(d);"object"===typeof d&&null!=d&&ar(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,m=oc(e),y=Iu(p,f,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=lc(e),o.splice(o.indexOf(v),1),i=(i=i.concat(lu(e.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(hu(e.serverSyncTree_,v,!0))}else h=!0,s="nodata",i=i.concat(hu(e.serverSyncTree_,c.currentWriteId,!0))}Zu(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);wc(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)la(r[c]);mc(e,e.transactionQueueTree_)}(e,kc(e,n),r),r}function gc(e,t){var n,r=e.transactionQueueTree_;for(n=Ha(t);null!==n&&void 0===Pu(r);)r=Au(r,n),n=Ha(t=Ga(t));return r}function kc(e,t){var n=[];return bc(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function bc(e,t,n){var r=Pu(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Lu(t,(function(t){bc(e,t,n)}))}function wc(e,t){var n=Pu(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ou(t,n.length>0?n:void 0)}Lu(t,(function(t){wc(e,t)}))}function _c(e,t){var n=Mu(gc(e,t)),r=Au(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){xc(e,t)})),xc(e,r),ju(r,(function(t){xc(e,t)})),n}function xc(e,t){var n=Pu(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(In(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(In(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(hu(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Ou(t,void 0):n.length=a+1,Zu(e.eventQueue_,Mu(t),i);for(var s=0;s<r.length;s++)la(r[s])}}var Ec=function(e,t){var n=Sc(e),r=n.namespace;"firebase.com"===n.domain&&Xi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Xi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ji("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new wa(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new qa(n.pathString)}},Sc=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(iN){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=S(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Ji("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Cc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Tc=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){f(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return m(e,[{key:"key",get:function(){return Za(this._path)?null:Qa(this._path)}},{key:"ref",get:function(){return new Ic(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Xo(this._queryParams),t=ia(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Xo(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=kr(t))instanceof e))return!1;var n=this._repo===t._repo,r=eo(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}());var Ic=function(e){g(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,r,new Qo,!1)}return m(n,[{key:"parent",get:function(){var e=Xa(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Tc);function Nc(e,t){return(e=kr(e))._checkNotDeleted("ref"),void 0!==t?Rc(e._root,t):e._root}function Rc(e,t){return null===Ha((e=kr(e))._path)?Gu("child","path",t,!1):Ku("child","path",t,!1),new Ic(e._repo,Ja(e._path,t))}function Ac(e,t){e=kr(e),Qu("set",e._path),Wu("set",t,e._path,!1);var n=new Wn;return hc(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}!function(e){In(!nu,"__referenceConstructor has already been defined"),nu=e}(Ic),function(e){In(!ou,"__referenceConstructor has already been defined"),ou=e}(Ic);var Pc="FIREBASE_DATABASE_EMULATOR_HOST",Oc={},Dc=!1;function Lc(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Xi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gi("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Ec(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/projekt_SOC_Skor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[Pc]),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=Ec(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new va(va.OWNER):new pa(e.name,e.options,t);Yu("Invalid Firebase Database URL",s),Za(s.path)||Xi("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Oc[t.name];i||(i={},Oc[t.name]=i);var a=i[e.toURLString()];a&&Xi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new rc(e,Dc,n,r),i[e.toURLString()]=a,a}(u,e,l,new da(e.name,n));return new jc(h,e)}var jc=function(){function e(t,n){f(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return m(e,[{key:"_repo",get:function(){return this._instanceStarted||(ic(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Ic(this._repo,Wa())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Oc[t];n&&n[e.key]===e||Xi("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),fc(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Xi("Cannot call "+e+" on a deleted database.")}}]),e}();function Mc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di(),t=arguments.length>1?arguments[1]:void 0,n=si(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=zn("database");r&&Fc.apply(void 0,[n].concat(h(r)))}return n}function Fc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=kr(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Xi("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new va(va.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Hn(r.mockUserToken,e.app.options.projectId);a=new va(o)}!function(e,t,n,r){e.repoInfo_=new wa("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}uo.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},uo.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};function Uc(){return Uc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Uc.apply(this,arguments)}!function(e){!function(e){Di=e}(hi),oi(new br("database",(function(e,t){var n=t.instanceIdentifier;return Lc(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),pi(Pi,Oi,e),pi(Pi,Oi,"esm2017")}();function Vc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var zc;Object.create;function Bc(){return Xe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var qc=Bc,Wc=new er("auth","Firebase",Bc()),Hc=new Ar("@firebase/auth");function Kc(e){if(Hc.logLevel<=Er.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Hc.warn.apply(Hc,["Auth (".concat(hi,"): ").concat(e)].concat(n))}}function Gc(e){if(Hc.logLevel<=Er.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Hc.error.apply(Hc,["Auth (".concat(hi,"): ").concat(e)].concat(n))}}function Qc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Jc.apply(void 0,[e].concat(n))}function Yc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Jc.apply(void 0,[e].concat(n))}function Xc(e,t,n){var r=Object.assign(Object.assign({},qc()),Xe({},t,n));return new er("auth","Firebase",r).create(t,{appName:e.name})}function Jc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return Wc.create.apply(Wc,[e].concat(n))}function Zc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Jc.apply(void 0,[t].concat(r))}}function $c(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Gc(t),new Error(t)}function el(e,t){e||$c(t)}function tl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function nl(){return"http:"===rl()||"https:"===rl()}function rl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function il(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(nl()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var al=function(){function e(t,n){f(this,e),this.shortDelay=t,this.longDelay=n,el(n>t,"Short delay should be less than long delay!"),this.isMobile=Gn()||Yn()}return m(e,[{key:"get",value:function(){return il()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function ol(e,t){el(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var sl=function(){function e(){f(this,e)}return m(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void $c("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void $c("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void $c("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ul=(Xe(zc={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Xe(zc,"MISSING_CUSTOM_TOKEN","internal-error"),Xe(zc,"INVALID_IDENTIFIER","invalid-email"),Xe(zc,"MISSING_CONTINUE_URI","internal-error"),Xe(zc,"INVALID_PASSWORD","wrong-password"),Xe(zc,"MISSING_PASSWORD","missing-password"),Xe(zc,"EMAIL_EXISTS","email-already-in-use"),Xe(zc,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Xe(zc,"INVALID_IDP_RESPONSE","invalid-credential"),Xe(zc,"INVALID_PENDING_TOKEN","invalid-credential"),Xe(zc,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Xe(zc,"MISSING_REQ_TYPE","internal-error"),Xe(zc,"EMAIL_NOT_FOUND","user-not-found"),Xe(zc,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Xe(zc,"EXPIRED_OOB_CODE","expired-action-code"),Xe(zc,"INVALID_OOB_CODE","invalid-action-code"),Xe(zc,"MISSING_OOB_CODE","internal-error"),Xe(zc,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Xe(zc,"INVALID_ID_TOKEN","invalid-user-token"),Xe(zc,"TOKEN_EXPIRED","user-token-expired"),Xe(zc,"USER_NOT_FOUND","user-token-expired"),Xe(zc,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Xe(zc,"INVALID_CODE","invalid-verification-code"),Xe(zc,"INVALID_SESSION_INFO","invalid-verification-id"),Xe(zc,"INVALID_TEMPORARY_PROOF","invalid-credential"),Xe(zc,"MISSING_SESSION_INFO","missing-verification-id"),Xe(zc,"SESSION_EXPIRED","code-expired"),Xe(zc,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Xe(zc,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Xe(zc,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Xe(zc,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Xe(zc,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Xe(zc,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Xe(zc,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Xe(zc,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Xe(zc,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Xe(zc,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Xe(zc,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Xe(zc,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Xe(zc,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Xe(zc,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Xe(zc,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Xe(zc,"MISSING_CLIENT_TYPE","missing-client-type"),Xe(zc,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Xe(zc,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Xe(zc,"INVALID_REQ_TYPE","invalid-req-type"),zc),cl=new al(3e4,6e4);function ll(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function hl(e,t,n,r){return fl.apply(this,arguments)}function fl(){return fl=et(Ye().mark((function e(t,n,r,i){var a,o=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",dl(t,a,et(Ye().mark((function e(){var a,o,s,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=hr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",sl.fetch()(yl(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}function dl(e,t,n){return pl.apply(this,arguments)}function pl(){return pl=et(Ye().mark((function e(t,n,r){var i,a,o,s,u,l,h,f,d,p;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ul),n),e.prev=2,a=new gl(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw kl(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),h=c(l,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw kl(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw kl(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw kl(t,"user-disabled",s);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Xc(t,p,d);case 34:Qc(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof $n)){e.next=41;break}throw e.t0;case 41:Qc(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),pl.apply(this,arguments)}function vl(e,t,n,r){return ml.apply(this,arguments)}function ml(){return ml=et(Ye().mark((function e(t,n,r,i){var a,o,s=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,hl(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Qc(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}function yl(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ol(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var gl=function(){function e(t){var n=this;f(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Yc(n.auth,"network-request-failed"))}),cl.get())}))}return m(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function kl(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Yc(e,t,r);return i.customData._tokenResponse=n,i}function bl(e,t){return wl.apply(this,arguments)}function wl(){return wl=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hl(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),wl.apply(this,arguments)}function _l(e,t){return xl.apply(this,arguments)}function xl(){return xl=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hl(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function El(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(iN){}}function Sl(){return Sl=et(Ye().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=kr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Zc((a=Tl(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:El(Cl(a.auth_time)),issuedAtTime:El(Cl(a.iat)),expirationTime:El(Cl(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}function Cl(e){return 1e3*Number(e)}function Tl(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ln(r);return a?JSON.parse(a):(Gc("Failed to decode base64 JWT payload"),null)}catch(iN){return Gc("Caught error parsing JWT payload as JSON",null===iN||void 0===iN?void 0:iN.toString()),null}}function Il(e,t){return Nl.apply(this,arguments)}function Nl(){return Nl=et(Ye().mark((function e(t,n){var r=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof $n&&Rl(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Nl.apply(this,arguments)}function Rl(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Al=function(){function e(t){f(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return m(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(et(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Pl=function(){function e(t,n){f(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return m(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ol(e){return Dl.apply(this,arguments)}function Dl(){return Dl=et(Ye().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,f;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Il(t,_l(r,{idToken:i}));case 6:Zc(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Vc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=jl(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pl(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Ll(){return(Ll=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kr(t),e.next=3,Ol(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jl(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function Ml(e,t){return Fl.apply(this,arguments)}function Fl(){return Fl=et(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dl(t,{},et(Ye().mark((function e(){var r,i,a,o,s,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=yl(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",sl.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Fl.apply(this,arguments)}var Ul=function(){function e(){f(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return m(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Zc(e.idToken,"internal-error"),Zc("undefined"!==typeof e.idToken,"internal-error"),Zc("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Tl(e);return Zc(t,"internal-error"),Zc("undefined"!==typeof t.exp,"internal-error"),Zc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=et(Ye().mark((function e(t){var n,r=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Zc(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=et(Ye().mark((function e(t,n){var r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ml(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return $c("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Zc("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Zc("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Zc("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Vl(e,t){Zc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var zl=function(){function e(t){f(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Vc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Al(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new Pl(a.createdAt||void 0,a.lastLoginAt||void 0)}return m(e,[{key:"getIdToken",value:function(){var e=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Il(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Zc(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Sl.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ll.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Zc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Zc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=et(Ye().mark((function e(t){var n,r,i=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ol(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=et(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Il(this,bl(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Zc(k&&x,t,"internal-error");var E=Ul.fromJSON(this.name,x);Zc("string"===typeof k,t,"internal-error"),Vl(h,t.name),Vl(f,t.name),Zc("boolean"===typeof b,t,"internal-error"),Zc("boolean"===typeof w,t,"internal-error"),Vl(d,t.name),Vl(p,t.name),Vl(v,t.name),Vl(m,t.name),Vl(y,t.name),Vl(g,t.name);var S=new e({uid:k,auth:t,email:f,emailVerified:b,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=et(Ye().mark((function t(n,r){var i,a,o,s=arguments;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Ul).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ol(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Bl=new Map;function ql(e){el(e instanceof Function,"Expected a class definition");var t=Bl.get(e);return t?(el(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Bl.set(e,t),t)}var Wl=function(){function e(){f(this,e),this.type="NONE",this.storage={}}return m(e,[{key:"_isAvailable",value:function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Wl.type="NONE";var Hl=Wl;function Kl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Gl=function(){function e(t,n,r){f(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Kl(this.userKey,a.apiKey,o),this.fullPersistenceKey=Kl("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return m(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=et(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?zl._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=et(Ye().mark((function t(n,r){var i,a,o,s,u,c,l,h,f,d,p,v=arguments;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ql(Hl),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ql(Hl),s=Kl(i,n.config.apiKey,n.name),u=null,c=S(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=zl._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ql(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Yl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eh(t))return"Blackberry";if(th(t))return"Webos";if(Xl(t))return"Safari";if((t.includes("chrome/")||Jl(t))&&!t.includes("edge/"))return"Chrome";if($l(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Yl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn();return/firefox\//i.test(e)}function Xl(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn();return/crios\//i.test(e)}function Zl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn();return/iemobile/i.test(e)}function $l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn();return/android/i.test(e)}function eh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn();return/blackberry/i.test(e)}function th(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn();return/webos/i.test(e)}function nh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function rh(){return function(){var e=Kn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ih(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn();return nh(e)||$l(e)||th(e)||eh(e)||/windows phone/i.test(e)||Zl(e)}function ah(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ql(Kn());break;case"Worker":t="".concat(Ql(Kn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(hi,"/").concat(r)}function oh(e,t){return sh.apply(this,arguments)}function sh(){return sh=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hl(t,"GET","/v2/recaptchaConfig",ll(t,n)));case 1:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}function uh(e){return void 0!==e&&void 0!==e.enterprise}var ch=m((function e(t){if(f(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function lh(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Yc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function hh(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var fh="https://www.google.com/recaptcha/enterprise.js?render=",dh="recaptcha-enterprise",ph=function(){function e(t){f(this,e),this.type=dh,this.auth=kh(t)}return m(e,[{key:"verify",value:function(){var e=et(Ye().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;uh(i)?i.enterprise.ready((function(){try{i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(e){r(e)}))}catch(Yi){r(Yi)}})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=et(Ye().mark((function e(n,r){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oh(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new ch(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&uh(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));lh(fh+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vh(e,t,n){return mh.apply(this,arguments)}function mh(){return mh=et(Ye().mark((function e(t,n,r){var i,a,o,s,u=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new ph(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),mh.apply(this,arguments)}var yh=function(){function e(t){f(this,e),this.auth=t,this.queue=[]}return m(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(iN){r(iN)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=et(Ye().mark((function e(t){var n,r,i,a,o,s,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=S(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=S(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gh=function(){function e(t,n,r,i){f(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bh(this),this.idTokenSubscription=new bh(this),this.beforeStateQueue=new yh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return m(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ql(t)),this._initializationPromise=this.queue(et(Ye().mark((function r(){var i,a;return Ye().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Gl.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=et(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=et(Ye().mark((function e(t){var n,r,i,a,o,s,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Zc(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ol(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?kr(t):null)&&Zc(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=et(Ye().mark((function e(t){var n,r=this,i=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Zc(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(et(Ye().mark((function n(){return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ql(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=et(Ye().mark((function e(){var t,n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oh(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new ch(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new ph(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new er("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=et(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Zc(n=t&&ql(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Gl.create(this,[ql(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=et(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=et(Ye().mark((function e(t){var n=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Zc(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Zc(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ah(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=et(Ye().mark((function e(){var t,n,r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=et(Ye().mark((function e(){var t,n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Kc("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function kh(e){return kr(e)}var bh=function(){function e(t){var n=this;f(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new vr(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return m(e,[{key:"next",get:function(){return Zc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function wh(e,t,n){var r=kh(e);Zc(r._canInitEmulator,r,"emulator-config-failed"),Zc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=_h(t),o=function(e){var t=_h(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:xh(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:xh(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function _h(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xh(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Eh=function(){function e(t,n){f(this,e),this.providerId=t,this.signInMethod=n}return m(e,[{key:"toJSON",value:function(){return $c("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return $c("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return $c("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return $c("not implemented")}}]),e}();function Sh(e,t){return Ch.apply(this,arguments)}function Ch(){return Ch=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ch.apply(this,arguments)}function Th(e,t){return Ih.apply(this,arguments)}function Ih(){return Ih=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vl(t,"POST","/v1/accounts:signInWithPassword",ll(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ih.apply(this,arguments)}function Nh(e,t){return Rh.apply(this,arguments)}function Rh(){return Rh=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vl(t,"POST","/v1/accounts:signInWithEmailLink",ll(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rh.apply(this,arguments)}function Ah(e,t){return Ph.apply(this,arguments)}function Ph(){return Ph=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vl(t,"POST","/v1/accounts:signInWithEmailLink",ll(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ph.apply(this,arguments)}var Oh=function(e){g(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return m(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=et(Ye().mark((function e(t){var n,r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,vh(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Th(t,i));case 11:return e.abrupt("return",Th(t,r).catch(function(){var e=et(Ye().mark((function e(n){var i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,vh(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Th(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Nh(t,{email:this._email,oobCode:this._password}));case 13:Qc(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Sh(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ah(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Qc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Eh);function Dh(e,t){return Lh.apply(this,arguments)}function Lh(){return Lh=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vl(t,"POST","/v1/accounts:signInWithIdp",ll(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lh.apply(this,arguments)}var jh=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return m(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Dh(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Dh(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Dh(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qc("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Vc(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Eh);function Mh(e,t){return Fh.apply(this,arguments)}function Fh(){return Fh=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hl(t,"POST","/v1/accounts:sendVerificationCode",ll(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fh.apply(this,arguments)}function Uh(){return Uh=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vl(t,"POST","/v1/accounts:signInWithPhoneNumber",ll(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uh.apply(this,arguments)}function Vh(){return Vh=et(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vl(t,"POST","/v1/accounts:signInWithPhoneNumber",ll(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw kl(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Vh.apply(this,arguments)}var zh=Xe({},"USER_NOT_FOUND","user-not-found");function Bh(){return Bh=et(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",vl(t,"POST","/v1/accounts:signInWithPhoneNumber",ll(t,r),zh));case 2:case"end":return e.stop()}}),e)}))),Bh.apply(this,arguments)}var qh=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this,"phone","phone")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Uh.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Vh.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Bh.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Eh);var Wh=function(){function e(t){var n,r,i,a,o,s;f(this,e);var u=fr(dr(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Zc(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return m(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=fr(dr(e)).link,n=t?fr(dr(t)).deep_link_id:null,r=fr(dr(e)).deep_link_id;return(r?fr(dr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(TS){return null}}}]),e}();var Hh=function(){function e(){f(this,e),this.providerId=e.PROVIDER_ID}return m(e,null,[{key:"credential",value:function(e,t){return Oh._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Wh.parseLink(t);return Zc(n,"argument-error"),Oh._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Hh.PROVIDER_ID="password",Hh.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Hh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Kh=function(){function e(t){f(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return m(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Gh=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).scopes=[],e}return m(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(Kh),Qh=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.call(this,"facebook.com")}return m(n,null,[{key:"credential",value:function(e){return jh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(TS){return null}}}]),n}(Gh);Qh.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qh.PROVIDER_ID="facebook.com";var Yh=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return m(n,null,[{key:"credential",value:function(e,t){return jh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(TS){return null}}}]),n}(Gh);Yh.GOOGLE_SIGN_IN_METHOD="google.com",Yh.PROVIDER_ID="google.com";var Xh=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.call(this,"github.com")}return m(n,null,[{key:"credential",value:function(e){return jh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(TS){return null}}}]),n}(Gh);Xh.GITHUB_SIGN_IN_METHOD="github.com",Xh.PROVIDER_ID="github.com";var Jh=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.call(this,"twitter.com")}return m(n,null,[{key:"credential",value:function(e,t){return jh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(TS){return null}}}]),n}(Gh);function Zh(e,t){return $h.apply(this,arguments)}function $h(){return $h=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vl(t,"POST","/v1/accounts:signUp",ll(t,n)));case 1:case"end":return e.stop()}}),e)}))),$h.apply(this,arguments)}Jh.TWITTER_SIGN_IN_METHOD="twitter.com",Jh.PROVIDER_ID="twitter.com";var ef=function(){function e(t){f(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return m(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=et(Ye().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,zl._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=tf(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=et(Ye().mark((function t(n,r,i){var a;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=tf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function tf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var nf=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o,s;return f(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(w(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return m(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}($n);function rf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw nf._fromErrorAndOperation(e,n,t,r);throw n}))}function af(e,t){return of.apply(this,arguments)}function of(){return of=et(Ye().mark((function e(t,n){var r,i,a=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Il,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ef._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}function sf(e,t){return uf.apply(this,arguments)}function uf(){return uf=et(Ye().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Il(t,rf(i,a,n,t),r);case 6:return Zc((o=e.sent).idToken,i,"internal-error"),Zc(s=Tl(o.idToken),i,"internal-error"),u=s.sub,Zc(t.uid===u,i,"user-mismatch"),e.abrupt("return",ef._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Qc(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),uf.apply(this,arguments)}function cf(e,t){return lf.apply(this,arguments)}function lf(){return lf=et(Ye().mark((function e(t,n){var r,i,a,o,s=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,rf(t,i,n);case 4:return a=e.sent,e.next=7,ef._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),lf.apply(this,arguments)}function hf(e,t){return ff.apply(this,arguments)}function ff(){return ff=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cf(kh(t),n));case 1:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}function df(){return df=et(Ye().mark((function e(t,n,r){var i,a,o,s,u,c,l;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=kh(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,vh(a,o,"signUpPassword");case 5:u=e.sent,s=Zh(a,u),e.next=10;break;case 9:s=Zh(a,o).catch(function(){var e=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,vh(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Zh(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,ef._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),df.apply(this,arguments)}function pf(e,t){return vf(kr(e),null,t)}function vf(e,t,n){return mf.apply(this,arguments)}function mf(){return mf=et(Ye().mark((function e(t,n,r){var i,a,o,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Il(t,Sh(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),mf.apply(this,arguments)}function yf(e,t){return hl(e,"POST","/v2/accounts/mfaEnrollment:start",ll(e,t))}function gf(e,t){return hl(e,"POST","/v2/accounts/mfaEnrollment:start",ll(e,t))}function kf(e,t){return hl(e,"POST","/v2/accounts/mfaEnrollment:finalize",ll(e,t))}new WeakMap;var bf="__sak",wf=function(){function e(t,n){f(this,e),this.storageRetriever=t,this.type=n}return m(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch(TS){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var _f=10,xf=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Kn();return Xl(e)||nh(e)}()&&function(){try{return!(!window||window===window.top)}catch(iN){return!1}}(),e.fallbackToPolling=ih(),e._shouldAllowMigration=!0,e}return m(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);rh()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,_f):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=et(Ye().mark((function e(t,r){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uc(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=et(Ye().mark((function e(t){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uc(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uc(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(wf);xf.type="LOCAL";var Ef=xf,Sf=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return m(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(wf);Sf.type="SESSION";var Cf=Sf;function Tf(e){return Promise.all(e.map(function(){var e=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var If=function(){function e(t){f(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return m(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=et(Ye().mark((function e(t){var n,r,i,a,o,s,u,c;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Tf(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Nf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}If.receivers=[];var Rf=function(){function e(t){f(this,e),this.target=t,this.handlers=new Set}return m(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=et(Ye().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Nf("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Af(){return window}function Pf(e){Af().location.href=e}function Of(){return"undefined"!==typeof Af().WorkerGlobalScope&&"function"===typeof Af().importScripts}function Df(){return Lf.apply(this,arguments)}function Lf(){return(Lf=et(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function jf(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Mf="firebaseLocalStorageDb",Ff=1,Uf="firebaseLocalStorage",Vf="fbase_key",zf=function(){function e(t){f(this,e),this.request=t}return m(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Bf(e,t){return e.transaction([Uf],t?"readwrite":"readonly").objectStore(Uf)}function qf(){var e=indexedDB.deleteDatabase(Mf);return new zf(e).toPromise()}function Wf(){var e=indexedDB.open(Mf,Ff);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Uf,{keyPath:Vf})}catch(iN){n(iN)}})),e.addEventListener("success",et(Ye().mark((function n(){var r;return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Uf)){n.next=12;break}return r.close(),n.next=5,qf();case 5:return n.t0=t,n.next=8,Wf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Hf(e,t,n){return Kf.apply(this,arguments)}function Kf(){return Kf=et(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Bf(t,!0).put((Xe(i={},Vf,n),Xe(i,"value",r),i)),e.abrupt("return",new zf(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Gf(e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=et(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bf(t,!1).get(n),e.next=3,new zf(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function Yf(e,t){var n=Bf(e,!0).delete(t);return new zf(n).toPromise()}var Xf=function(){function e(){f(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return m(e,[{key:"_openDb",value:function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Wf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=et(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=et(Ye().mark((function e(){var t=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=If._getInstance(Of()?self:null),this.receiver._subscribe("keyChanged",function(){var e=et(Ye().mark((function e(n,r){var i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=et(Ye().mark((function e(){var t,n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Df();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Rf(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&jf()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=et(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Wf();case 5:return t=e.sent,e.next=8,Hf(t,bf,"1");case 8:return e.next=10,Yf(t,bf);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=et(Ye().mark((function e(t,n){var r=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Hf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Gf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=et(Ye().mark((function e(t){var n=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Yf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=et(Ye().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Bf(e,!1).getAll();return new zf(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=S(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(et(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Xf.type="LOCAL";var Jf=Xf;function Zf(e,t){return hl(e,"POST","/v2/accounts/mfaSignIn:start",ll(e,t))}function $f(e,t){return hl(e,"POST","/v2/accounts/mfaSignIn:finalize",ll(e,t))}hh("rcb"),new al(3e4,6e4);var ed="recaptcha";function td(e,t,n){return nd.apply(this,arguments)}function nd(){return nd=et(Ye().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Zc("string"===typeof a,t,"argument-error"),Zc(r.type===ed,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Zc("enroll"===s.type,t,"internal-error"),e.next=13,yf(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Zc("signin"===s.type,t,"internal-error"),Zc(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Zf(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Mh(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),nd.apply(this,arguments)}var rd=function(){function e(t){f(this,e),this.providerId=e.PROVIDER_ID,this.auth=kh(t)}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return td(this.auth,e,kr(t))}}],[{key:"credential",value:function(e,t){return qh._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?qh._fromTokenResponse(n,r):null}}]),e}();function id(e,t){return t?ql(t):(Zc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}rd.PROVIDER_ID="phone",rd.PHONE_SIGN_IN_METHOD="phone";var ad=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this,"custom","custom")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return Dh(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Dh(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Dh(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Eh);function od(e){return cf(e.auth,new ad(e),e.bypassAuthState)}function sd(e){var t=e.auth,n=e.user;return Zc(n,t,"internal-error"),sf(n,new ad(e),e.bypassAuthState)}function ud(e){return cd.apply(this,arguments)}function cd(){return cd=et(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Zc(r=t.user,n,"internal-error"),e.abrupt("return",af(r,new ad(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}var ld=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];f(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return m(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=et(Ye().mark((function t(n,r){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=et(Ye().mark((function e(t){var n,r,i,a,o,s,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return od;case"linkViaPopup":case"linkViaRedirect":return ud;case"reauthViaPopup":case"reauthViaRedirect":return sd;default:Qc(this.auth,"internal-error")}}},{key:"resolve",value:function(e){el(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){el(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),hd=new al(2e3,1e4);var fd=function(e){g(n,e);var t=_(n);function n(e,r,i,a,o){var s;return f(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=w(s),s}return m(n,[{key:"executeNotNull",value:function(){var e=et(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Zc(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=et(Ye().mark((function e(){var t,n=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return el(1===this.filter.length,"Popup operations only handle one event"),t=Nf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Yc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Yc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Yc(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,hd.get())}()}}]),n}(ld);fd.currentPopupAction=null;var dd="pendingRedirect",pd=new Map,vd=function(e){g(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return m(n,[{key:"execute",value:function(){var e=et(Ye().mark((function e(){var t,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=pd.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,md(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Uc(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:pd.set(this.auth._key(),t);case 21:return this.bypassAuthState||pd.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=et(Ye().mark((function e(t){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Uc(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Uc(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ld);function md(e,t){return yd.apply(this,arguments)}function yd(){return yd=et(Ye().mark((function e(t,n){var r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bd(n),i=kd(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function gd(e,t){pd.set(e._key(),t)}function kd(e){return ql(e._redirectPersistence)}function bd(e){return Kl(dd,e.config.apiKey,e.name)}function wd(e,t){return _d.apply(this,arguments)}function _d(){return _d=et(Ye().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=kh(t),a=id(i,n),o=new vd(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),_d.apply(this,arguments)}var xd=function(){function e(t){f(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return m(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sd(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Sd(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Yc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ed(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ed(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ed(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Sd(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Cd(e){return Td.apply(this,arguments)}function Td(){return Td=et(Ye().mark((function e(t){var n,r=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",hl(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Td.apply(this,arguments)}var Id=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nd=/^https?/;function Rd(){return Rd=et(Ye().mark((function e(t){var n,r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Cd(t);case 4:n=e.sent,r=n.authorizedDomains,i=S(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ad(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Qc(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Rd.apply(this,arguments)}function Ad(e){var t=tl(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Nd.test(r))return!1;if(Id.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Pd=new al(3e4,6e4);function Od(){var e=Af().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Dd=null;function Ld(e){return Dd=Dd||function(e){return new Promise((function(t,n){var r,i,a;function o(){Od(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Od(),n(Yc(e,"network-request-failed"))},timeout:Pd.get()})}if(null===(i=null===(r=Af().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Af().gapi)||void 0===a?void 0:a.load)){var s=hh("iframefcb");return Af()[s]=function(){gapi.load?o():n(Yc(e,"network-request-failed"))},lh("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Dd=null,e}))}(e),Dd}var jd=new al(5e3,15e3),Md="__/auth/iframe",Fd="emulator/auth/iframe",Ud={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zd(e){var t=e.config;Zc(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ol(t,Fd):"https://".concat(e.config.authDomain,"/").concat(Md),r={apiKey:t.apiKey,appName:e.name,v:hi},i=Vd.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(hr(r).slice(1))}function Bd(e){return qd.apply(this,arguments)}function qd(){return qd=et(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(t);case 2:return n=e.sent,Zc(r=Af().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:zd(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ud,dontclear:!0},(function(e){return new Promise(function(){var n=et(Ye().mark((function n(r,i){var a,o,s;return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Af().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Yc(t,"network-request-failed"),o=Af().setTimeout((function(){i(a)}),jd.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}var Wd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hd=500,Kd=600,Gd="_blank",Qd="http://localhost",Yd=function(){function e(t){f(this,e),this.window=t,this.associatedEvent=null}return m(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(iN){}}}]),e}();function Xd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Hd,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kd,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Wd),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Kn().toLowerCase();n&&(s=Jl(l)?Gd:n),Yl(l)&&(t=t||Qd,u.scrollbars="yes");var h=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return nh(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Yd(null);var f=window.open(t||"",s,h);Zc(f,e,"popup-blocked");try{f.focus()}catch(iN){}return new Yd(f)}var Jd="__/auth/handler",Zd="emulator/auth/handler",$d=encodeURIComponent("fac");function ep(e,t,n,r,i,a){return tp.apply(this,arguments)}function tp(){return tp=et(Ye().mark((function e(t,n,r,i,a,o){var s,u,l,h,f,d,p,v,m,y,g,k,b;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zc(t.config.authDomain,t,"auth-domain-config-required"),Zc(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:hi,eventId:a},n instanceof Kh)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",sr(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,l=Object.entries(o||{});u<l.length;u++)h=c(l[u],2),f=h[0],d=h[1],s[f]=d;for(n instanceof Gh&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat($d,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(np(t),"?").concat(hr(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}function np(e){var t=e.config;return t.emulator?ol(t,Zd):"https://".concat(t.authDomain,"/").concat(Jd)}var rp="webStorageSupport",ip=function(){function e(){f(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cf,this._completeRedirectFn=wd,this._overrideRedirectResult=gd}return m(e,[{key:"_openPopup",value:function(){var e=et(Ye().mark((function e(t,n,r,i){var a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return el(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,ep(t,n,r,tl(),i);case 3:return o=e.sent,e.abrupt("return",Xd(t,o,Nf()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=et(Ye().mark((function e(t,n,r,i){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,ep(t,n,r,tl(),i);case 4:return Pf(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(el(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=et(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bd(t);case 2:return n=e.sent,r=new xd(t),n.register("authEvent",(function(e){return Zc(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(rp,{type:rp},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[rp];void 0!==i&&t(!!i),Qc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Rd.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ih()||Xl()||nh()}}]),e}(),ap=ip,op=function(){function e(t){f(this,e),this.factorId=t}return m(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return $c("unexpected MultiFactorSessionType")}}}]),e}(),sp=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this,"phone")).credential=e,r}return m(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return hl(e,"POST","/v2/accounts/mfaEnrollment:finalize",ll(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return hl(e,"POST","/v2/accounts/mfaSignIn:finalize",ll(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(op);(function(){function e(){f(this,e)}return m(e,null,[{key:"assertion",value:function(e){return sp._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var up=function(){function e(){f(this,e)}return m(e,null,[{key:"assertionForEnrollment",value:function(e,t){return cp._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return cp._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=et(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zc("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,gf(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",lp._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();up.FACTOR_ID="totp";var cp=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return m(n,[{key:"_finalizeEnroll",value:function(){var e=et(Ye().mark((function e(t,n,r){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zc("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",kf(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=et(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zc(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",$f(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(op),lp=function(){function e(t,n,r,i,a,o,s){f(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return m(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(hp(e)||hp(t))&&(r=!0),r&&(hp(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),hp(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function hp(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var fp="@firebase/auth",dp="0.23.0",pp=function(){function e(t){f(this,e),this.auth=t,this.internalListeners=new Map}return m(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Zc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var vp,mp=qn("authIdTokenMaxAge")||300,yp=null,gp=function(e){return function(){var t=et(Ye().mark((function t(n){var r,i,a;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>mp)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,yp!==a){t.next=12;break}return t.abrupt("return");case 12:return yp=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function kp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di(),t=si(e,"auth");if(t.isInitialized())return t.getImmediate();var n=function(e,t){var n=si(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(cr(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Qc(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ap,persistence:[Jf,Ef,Cf]}),r=qn("authTokenSyncURL");if(r){var i=gp(r);!function(e,t,n){kr(e).beforeAuthStateChanged(t,n)}(n,i,(function(){return i(n.currentUser)})),function(e,t,n,r){kr(e).onIdTokenChanged(t,n,r)}(n,(function(e){return i(e)}))}var a=Vn("auth");return a&&wh(n,"http://".concat(a)),n}vp="Browser",oi(new br("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Zc(s&&!s.includes(":"),"invalid-api-key",{appName:r.name}),Zc(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:vp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ah(vp)},l=new gh(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ql);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),oi(new br("auth-internal",(function(e){return function(e){return new pp(e)}(kh(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),pi(fp,dp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(vp)),pi(fp,dp,"esm2017");var bp,wp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},_p={},xp=xp||{},Ep=wp||self;function Sp(){}function Cp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Tp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ip="closure_uid_"+(1e9*Math.random()>>>0),Np=0;function Rp(e,t,n){return e.call.apply(e.bind,arguments)}function Ap(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Pp(e,t,n){return(Pp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rp:Ap).apply(null,arguments)}function Op(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Dp(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Lp(){this.s=this.s,this.o=this.o}Lp.prototype.s=!1,Lp.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ip)&&e[Ip]||(e[Ip]=++Np))},Lp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Mp(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Fp(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Cp(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Up(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Up.prototype.h=function(){this.defaultPrevented=!0};var Vp=function(){if(!Ep.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ep.addEventListener("test",Sp,t),Ep.removeEventListener("test",Sp,t)}catch(n){}return e}();function zp(e){return/^[\s\xa0]*$/.test(e)}var Bp=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function qp(e,t){return e<t?-1:e>t?1:0}function Wp(){var e=Ep.navigator;return e&&(e=e.userAgent)?e:""}function Hp(e){return-1!=Wp().indexOf(e)}function Kp(e){return Kp[" "](e),e}Kp[" "]=Sp;var Gp,Qp=Hp("Opera"),Yp=Hp("Trident")||Hp("MSIE"),Xp=Hp("Edge"),Jp=Xp||Yp,Zp=Hp("Gecko")&&!(-1!=Wp().toLowerCase().indexOf("webkit")&&!Hp("Edge"))&&!(Hp("Trident")||Hp("MSIE"))&&!Hp("Edge"),$p=-1!=Wp().toLowerCase().indexOf("webkit")&&!Hp("Edge");function ev(){var e=Ep.document;return e?e.documentMode:void 0}e:{var tv="",nv=function(){var e=Wp();return Zp?/rv:([^\);]+)(\)|;)/.exec(e):Xp?/Edge\/([\d\.]+)/.exec(e):Yp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$p?/WebKit\/(\S+)/.exec(e):Qp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nv&&(tv=nv?nv[1]:""),Yp){var rv=ev();if(null!=rv&&rv>parseFloat(tv)){Gp=String(rv);break e}}Gp=tv}var iv,av={};function ov(){return function(e){var t=av;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Bp(String(Gp)).split("."),n=Bp("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=qp(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||qp(0==a[2].length,0==o[2].length)||qp(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ep.document&&Yp){var sv=ev();iv=sv||(parseInt(Gp,10)||void 0)}else iv=void 0;var uv=iv;function cv(e,t){if(Up.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Zp){e:{try{Kp(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:lv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&cv.X.h.call(this)}}Dp(cv,Up);var lv={2:"touch",3:"pen",4:"mouse"};cv.prototype.h=function(){cv.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hv="closure_listenable_"+(1e6*Math.random()|0),fv=0;function dv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++fv,this.ba=this.ea=!1}function pv(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function vv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function mv(e){var t={};for(var n in e)t[n]=e[n];return t}var yv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gv(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<yv.length;a++)n=yv[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function kv(e){this.src=e,this.g={},this.h=0}function bv(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=jp(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(pv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function wv(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}kv.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=wv(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new dv(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var _v="closure_lm_"+(1e6*Math.random()|0),xv={};function Ev(e,t,n,r,i){if(r&&r.once)return Cv(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ev(e,t[a],n,r,i);return null}return n=Ov(n),e&&e[hv]?e.N(t,n,Tp(r)?!!r.capture:!!r,i):Sv(e,t,n,!1,r,i)}function Sv(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Tp(i)?!!i.capture:!!i,s=Av(e);if(s||(e[_v]=s=new kv(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Rv;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Vp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Nv(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Cv(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Cv(e,t[a],n,r,i);return null}return n=Ov(n),e&&e[hv]?e.O(t,n,Tp(r)?!!r.capture:!!r,i):Sv(e,t,n,!0,r,i)}function Tv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Tv(e,t[a],n,r,i);else r=Tp(r)?!!r.capture:!!r,n=Ov(n),e&&e[hv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=wv(a=e.g[t],n,r,i))&&(pv(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Av(e))&&(t=e.g[t.toString()],e=-1,t&&(e=wv(t,n,r,i)),(n=-1<e?t[e]:null)&&Iv(n))}function Iv(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[hv])bv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Nv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Av(t))?(bv(n,e),0==n.h&&(n.src=null,t[_v]=null)):pv(e)}}}function Nv(e){return e in xv?xv[e]:xv[e]="on"+e}function Rv(e,t){if(e.ba)e=!0;else{t=new cv(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Iv(e),e=n.call(r,t)}return e}function Av(e){return(e=e[_v])instanceof kv?e:null}var Pv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ov(e){return"function"===typeof e?e:(e[Pv]||(e[Pv]=function(t){return e.handleEvent(t)}),e[Pv])}function Dv(){Lp.call(this),this.i=new kv(this),this.P=this,this.I=null}function Lv(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Up(t,e);else if(t instanceof Up)t.target=t.target||e;else{var i=t;gv(t=new Up(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=jv(o,r,!0,t)&&i}if(i=jv(o=t.g=e,r,!0,t)&&i,i=jv(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=jv(o=t.g=n[a],r,!1,t)&&i}function jv(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&bv(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Dp(Dv,Lp),Dv.prototype[hv]=!0,Dv.prototype.removeEventListener=function(e,t,n,r){Tv(this,e,t,n,r)},Dv.prototype.M=function(){if(Dv.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pv(n[r]);delete t.g[e],t.h--}}this.I=null},Dv.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Dv.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Mv=Ep.JSON.stringify;function Fv(){var e=Kv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Uv,Vv=function(){function e(){f(this,e),this.h=this.g=null}return m(e,[{key:"add",value:function(e,t){var n=zv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),zv=new(function(){function e(t,n){f(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return m(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Bv}),(function(e){return e.reset()})),Bv=function(){function e(){f(this,e),this.next=this.g=this.h=null}return m(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function qv(e){Ep.setTimeout((function(){throw e}),0)}function Wv(e,t){Uv||function(){var e=Ep.Promise.resolve(void 0);Uv=function(){e.then(Gv)}}(),Hv||(Uv(),Hv=!0),Kv.add(e,t)}var Hv=!1,Kv=new Vv;function Gv(){for(var e;e=Fv();){try{e.h.call(e.g)}catch(n){qv(n)}var t=zv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Hv=!1}function Qv(e,t){Dv.call(this),this.h=e||1,this.g=t||Ep,this.j=Pp(this.lb,this),this.l=Date.now()}function Yv(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Xv(e,t,n){if("function"===typeof e)n&&(e=Pp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Pp(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ep.setTimeout(e,t||0)}function Jv(e){e.g=Xv((function(){e.g=null,e.i&&(e.i=!1,Jv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Dp(Qv,Dv),(bp=Qv.prototype).ca=!1,bp.R=null,bp.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Lv(this,"tick"),this.ca&&(Yv(this),this.start()))}},bp.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bp.M=function(){Qv.X.M.call(this),Yv(this),delete this.g};var Zv=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return m(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Jv(this)}},{key:"M",value:function(){Uc(k(n.prototype),"M",this).call(this),this.g&&(Ep.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Lp);function $v(e){Lp.call(this),this.h=e,this.g={}}Dp($v,Lp);var em=[];function tm(e,t,n,r){Array.isArray(n)||(n&&(em[0]=n.toString()),n=em);for(var i=0;i<n.length;i++){var a=Ev(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function nm(e){vv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Iv(e)}),e),e.g={}}function rm(){this.g=!0}function im(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Mv(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}$v.prototype.M=function(){$v.X.M.call(this),nm(this)},$v.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rm.prototype.Aa=function(){this.g=!1},rm.prototype.info=function(){};var am={},om=null;function sm(){return om=om||new Dv}function um(e){Up.call(this,am.Pa,e)}function cm(e){var t=sm();Lv(t,new um(t))}function lm(e,t){Up.call(this,am.STAT_EVENT,e),this.stat=t}function hm(e){var t=sm();Lv(t,new lm(t,e))}function fm(e,t){Up.call(this,am.Qa,e),this.size=t}function dm(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ep.setTimeout((function(){e()}),t)}am.Pa="serverreachability",Dp(um,Up),am.STAT_EVENT="statevent",Dp(lm,Up),am.Qa="timingevent",Dp(fm,Up);var pm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},vm={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function mm(){}function ym(e){return e.h||(e.h=e.i())}function gm(){}mm.prototype.h=null;var km,bm={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function wm(){Up.call(this,"d")}function _m(){Up.call(this,"c")}function xm(){}function Em(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new $v(this),this.O=Cm,e=Jp?125:void 0,this.T=new Qv(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Sm}function Sm(){this.i=null,this.g="",this.h=!1}Dp(wm,Up),Dp(_m,Up),Dp(xm,mm),xm.prototype.g=function(){return new XMLHttpRequest},xm.prototype.i=function(){return{}},km=new xm;var Cm=45e3,Tm={},Im={};function Nm(e,t,n){e.K=1,e.v=Qm(qm(t)),e.s=n,e.P=!0,Rm(e,null)}function Rm(e,t){e.F=Date.now(),Dm(e),e.A=qm(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),sy(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Sm,e.g=ug(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Zv(Pp(e.La,e,e.g),e.N)),tm(e.S,e.g,"readystatechange",e.ib),t=e.H?mv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),cm(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Am(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Pm(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Om(e,n))==Im){4==t&&(e.o=4,hm(14),i=!1),im(e.j,e.m,null,"[Incomplete Response]");break}if(r==Tm){e.o=4,hm(15),im(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}im(e.j,e.m,r,null),Um(e,r)}Am(e)&&r!=Im&&r!=Tm&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,hm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),eg(t),t.K=!0,hm(11))):(im(e.j,e.m,n,"[Invalid Chunked Response]"),Fm(e),Mm(e))}function Om(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Im:(n=Number(t.substring(n,r)),isNaN(n)?Tm:(r+=1)+n>t.length?Im:(t=t.substr(r,n),e.C=r+n,t))}function Dm(e){e.V=Date.now()+e.O,Lm(e,e.O)}function Lm(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=dm(Pp(e.gb,e),t)}function jm(e){e.B&&(Ep.clearTimeout(e.B),e.B=null)}function Mm(e){0==e.l.G||e.I||rg(e.l,e)}function Fm(e){jm(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Yv(e.T),nm(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Um(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||vy(n.h,e)))if(!e.J&&vy(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ng(n),Ky(n)}$y(n),hm(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=dm(Pp(n.cb,n),6e3));if(1>=py(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else ag(n,11)}else if((e.J||n.g==e)&&ng(n),!zp(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.h;h.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(my(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.za=f,Gm(r.F,r.D,f))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=sg(r,r.H?r.ka:null,r.V),d.J){yy(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(jm(p),Dm(p)),r.g=d}else Zy(r);0<n.i.length&&Qy(n)}else"stop"!=a[0]&&"close"!=a[0]||ag(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ag(n,7):Hy(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}cm()}catch(a){}}function Vm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Cp(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Cp(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Cp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(bp=Em.prototype).setTimeout=function(e){this.O=e},bp.ib=function(e){e=e.target;var t=this.L;t&&3==Uy(e)?t.l():this.La(e)},bp.La=function(e){try{if(e==this.g)e:{var t=Uy(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Jp||this.g&&(this.h.h||this.g.fa()||Vy(this.g)))){this.I||4!=t||7==n||cm(),jm(this);var r=this.g.aa();this.Y=r;t:if(Am(this)){var i=Vy(this.g);e="";var a=i.length,o=4==Uy(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Fm(this),Mm(this);var s="";break t}this.h.i=new Ep.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zp(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,hm(12),Fm(this),Mm(this);break e}im(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Um(this,r)}this.P?(Pm(this,t,s),Jp&&this.i&&3==t&&(tm(this.S,this.T,"tick",this.hb),this.T.start())):(im(this.j,this.m,s,null),Um(this,s)),4==t&&Fm(this),this.i&&!this.I&&(4==t?rg(this.l,this):(this.i=!1,Dm(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,hm(12)):(this.o=0,hm(13)),Fm(this),Mm(this)}}}catch(t){}},bp.hb=function(){if(this.g){var e=Uy(this.g),t=this.g.fa();this.C<t.length&&(jm(this),Pm(this,e,t),this.i&&4!=e&&Dm(this))}},bp.cancel=function(){this.I=!0,Fm(this)},bp.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(cm(),hm(17)),Fm(this),this.o=2,Mm(this)):Lm(this,this.V-e)};var zm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bm(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Bm){this.h=void 0!==t?t:e.h,Wm(this,e.j),this.s=e.s,this.g=e.g,Hm(this,e.m),this.l=e.l,t=e.i;var n=new ry;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Km(this,n),this.o=e.o}else e&&(n=String(e).match(zm))?(this.h=!!t,Wm(this,n[1]||"",!0),this.s=Ym(n[2]||""),this.g=Ym(n[3]||"",!0),Hm(this,n[4]),this.l=Ym(n[5]||"",!0),Km(this,n[6]||"",!0),this.o=Ym(n[7]||"")):(this.h=!!t,this.i=new ry(null,this.h))}function qm(e){return new Bm(e)}function Wm(e,t,n){e.j=n?Ym(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Hm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Km(e,t,n){t instanceof ry?(e.i=t,function(e,t){t&&!e.j&&(iy(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ay(this,t),sy(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Xm(t,ty)),e.i=new ry(t,e.h))}function Gm(e,t,n){e.i.set(t,n)}function Qm(e){return Gm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ym(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Jm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Xm(t,Zm,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Xm(t,Zm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Xm(n,"/"==n.charAt(0)?ey:$m,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Xm(n,ny)),e.join("")};var Zm=/[#\/\?@]/g,$m=/[#\?:]/g,ey=/[#\?]/g,ty=/[#\?@]/g,ny=/#/g;function ry(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function iy(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ay(e,t){iy(e),t=uy(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function oy(e,t){return iy(e),t=uy(e,t),e.g.has(t)}function sy(e,t,n){ay(e,t),0<n.length&&(e.i=null,e.g.set(uy(e,t),Mp(n)),e.h+=n.length)}function uy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(bp=ry.prototype).add=function(e,t){iy(this),this.i=null,e=uy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},bp.forEach=function(e,t){iy(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},bp.oa=function(){iy(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},bp.W=function(e){iy(this);var t=[];if("string"===typeof e)oy(this,e)&&(t=t.concat(this.g.get(uy(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},bp.set=function(e,t){return iy(this),this.i=null,oy(this,e=uy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},bp.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},bp.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var cy=m((function e(t,n){f(this,e),this.h=t,this.g=n}));function ly(e){this.l=e||fy,Ep.PerformanceNavigationTiming?e=0<(e=Ep.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ep.g&&Ep.g.Ga&&Ep.g.Ga()&&Ep.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hy,fy=10;function dy(e){return!!e.h||!!e.g&&e.g.size>=e.j}function py(e){return e.h?1:e.g?e.g.size:0}function vy(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function my(e,t){e.g?e.g.add(t):e.h=t}function yy(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function gy(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=S(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Mp(e.i)}function ky(){}function by(){this.g=new ky}function wy(e,t,n){var r=n||"";try{Vm(e,(function(e,n){var i=e;Tp(e)&&(i=Mv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(iN){throw t.push(r+"type="+encodeURIComponent("_badmap")),iN}}function _y(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function xy(e){this.l=e.ac||null,this.j=e.jb||!1}function Ey(e,t){Dv.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ly.prototype.cancel=function(){if(this.i=gy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=S(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ky.prototype.stringify=function(e){return Ep.JSON.stringify(e,void 0)},ky.prototype.parse=function(e){return Ep.JSON.parse(e,void 0)},Dp(xy,mm),xy.prototype.g=function(){return new Ey(this.l,this.j)},xy.prototype.i=(hy={},function(){return hy}),Dp(Ey,Dv);var Sy=0;function Cy(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Ty(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Iy(e)}function Iy(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(bp=Ey.prototype).open=function(e,t){if(this.readyState!=Sy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Iy(this)},bp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ep).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},bp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ty(this)),this.readyState=Sy},bp.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Iy(this)),this.g&&(this.readyState=3,Iy(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Ep.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cy(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},bp.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ty(this):Iy(this),3==this.readyState&&Cy(this)}},bp.Va=function(e){this.g&&(this.response=this.responseText=e,Ty(this))},bp.Ua=function(e){this.g&&(this.response=e,Ty(this))},bp.ga=function(){this.g&&Ty(this)},bp.setRequestHeader=function(e,t){this.v.append(e,t)},bp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},bp.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ey.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ny=Ep.JSON.parse;function Ry(e){Dv.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ay,this.K=this.L=!1}Dp(Ry,Dv);var Ay="",Py=/^https?$/i,Oy=["POST","PUT"];function Dy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ly(e),My(e)}function Ly(e){e.D||(e.D=!0,Lv(e,"complete"),Lv(e,"error"))}function jy(e){if(e.h&&"undefined"!=typeof xp&&(!e.C[1]||4!=Uy(e)||2!=e.aa()))if(e.v&&4==Uy(e))Xv(e.Ha,0,e);else if(Lv(e,"readystatechange"),4==Uy(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(zm)[1]||null;if(!a&&Ep.self&&Ep.self.location){var o=Ep.self.location.protocol;a=o.substr(0,o.length-1)}i=!Py.test(a?a.toLowerCase():"")}t=i}if(t)Lv(e,"complete"),Lv(e,"success");else{e.m=6;try{var s=2<Uy(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",Ly(e)}}finally{My(e)}}}function My(e,t){if(e.g){Fy(e);var n=e.g,r=e.C[0]?Sp:null;e.g=null,e.C=null,t||Lv(e,"ready");try{n.onreadystatechange=r}catch(iN){}}}function Fy(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ep.clearTimeout(e.A),e.A=null)}function Uy(e){return e.g?e.g.readyState:0}function Vy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ay:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Sg){return null}}function zy(e){var t="";return vv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function By(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zy(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Gm(e,t,n))}function qy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wy(e){this.Ca=0,this.i=[],this.j=new rm,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=qy("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=qy("baseRetryDelayMs",5e3,e),this.bb=qy("retryDelaySeedMs",1e4,e),this.$a=qy("forwardChannelMaxRetries",2,e),this.ta=qy("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new ly(e&&e.concurrentRequestLimit),this.Fa=new by,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Hy(e){if(Gy(e),3==e.G){var t=e.U++,n=qm(e.F);Gm(n,"SID",e.I),Gm(n,"RID",t),Gm(n,"TYPE","terminate"),Xy(e,n),(t=new Em(e,e.j,t,void 0)).K=2,t.v=Qm(qm(n)),n=!1,Ep.navigator&&Ep.navigator.sendBeacon&&(n=Ep.navigator.sendBeacon(t.v.toString(),"")),!n&&Ep.Image&&((new Image).src=t.v,n=!0),n||(t.g=ug(t.l,null),t.g.da(t.v)),t.F=Date.now(),Dm(t)}og(e)}function Ky(e){e.g&&(eg(e),e.g.cancel(),e.g=null)}function Gy(e){Ky(e),e.u&&(Ep.clearTimeout(e.u),e.u=null),ng(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Ep.clearTimeout(e.m),e.m=null)}function Qy(e){dy(e.h)||e.m||(e.m=!0,Wv(e.Ja,e),e.C=0)}function Yy(e,t){var n;n=t?t.m:e.U++;var r=qm(e.F);Gm(r,"SID",e.I),Gm(r,"RID",n),Gm(r,"AID",e.T),Xy(e,r),e.o&&e.s&&By(r,e.o,e.s),n=new Em(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Jy(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),my(e.h,n),Nm(n,r,t)}function Xy(e,t){e.ia&&vv(e.ia,(function(e,n){Gm(t,n,e)})),e.l&&Vm({},(function(e,n){Gm(t,n,e)}))}function Jy(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Pp(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{wy(l,o,"req"+c+"_")}catch(Lg){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Zy(e){e.g||e.u||(e.Z=1,Wv(e.Ia,e),e.A=0)}function $y(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=dm(Pp(e.Ia,e),ig(e,e.A)),e.A++,!0)}function eg(e){null!=e.B&&(Ep.clearTimeout(e.B),e.B=null)}function tg(e){e.g=new Em(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=qm(e.sa);Gm(t,"RID","rpc"),Gm(t,"SID",e.I),Gm(t,"CI",e.L?"0":"1"),Gm(t,"AID",e.T),Gm(t,"TYPE","xmlhttp"),Xy(e,t),e.o&&e.s&&By(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Qm(qm(t)),n.s=null,n.P=!0,Rm(n,e)}function ng(e){null!=e.v&&(Ep.clearTimeout(e.v),e.v=null)}function rg(e,t){var n=null;if(e.g==t){ng(e),eg(e),e.g=null;var r=2}else{if(!vy(e.h,t))return;n=t.D,yy(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Lv(r=sm(),new fm(r,n)),Qy(e)}else Zy(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(py(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=dm(Pp(e.Ja,e,t),ig(e,e.C)),e.C++,!0))}(e,t)||2==r&&$y(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ag(e,5);break;case 4:ag(e,10);break;case 3:ag(e,6);break;default:ag(e,2)}}function ig(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function ag(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Pp(e.kb,e);n||(n=new Bm("//www.google.com/images/cleardot.gif"),Ep.location&&"http"==Ep.location.protocol||Wm(n,"https"),Qm(n)),function(e,t){var n=new rm;if(Ep.Image){var r=new Image;r.onload=Op(_y,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Op(_y,n,r,"TestLoadImage: error",!1,t),r.onabort=Op(_y,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Op(_y,n,r,"TestLoadImage: timeout",!1,t),Ep.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else hm(2);e.G=0,e.l&&e.l.va(t),og(e),Gy(e)}function og(e){if(e.G=0,e.la=[],e.l){var t=gy(e.h);0==t.length&&0==e.i.length||(Fp(e.la,t),Fp(e.la,e.i),e.h.i.length=0,Mp(e.i),e.i.length=0),e.l.ua()}}function sg(e,t,n){var r=n instanceof Bm?qm(n):new Bm(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Hm(r,r.m);else{var i=Ep.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Bm(null,void 0);r&&Wm(a,r),t&&(a.g=t),i&&Hm(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Gm(r,n,t),Gm(r,"VER",e.ma),Xy(e,r),r}function ug(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Ry(new xy({jb:!0})):new Ry(e.ra)).Ka(e.H),t}function cg(){}function lg(){if(Yp&&!(10<=Number(uv)))throw Error("Environmental error: no available transport.")}function hg(e,t){Dv.call(this),this.g=new Wy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!zp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zp(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new pg(this)}function fg(e){wm.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dg(){_m.call(this),this.status=1}function pg(e){this.g=e}(bp=Ry.prototype).Ka=function(e){this.L=e},bp.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():km.g(),this.C=this.u?ym(this.u):ym(km),this.g.onreadystatechange=Pp(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Dy(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=S(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Ep.FormData&&e instanceof Ep.FormData,!(0<=jp(Oy,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=S(n);try{for(l.s();!(u=l.n()).done;){var h=c(u.value,2),f=h[0],d=h[1];this.g.setRequestHeader(f,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fy(this),0<this.B&&((this.K=function(e){return Yp&&ov()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pp(this.qa,this)):this.A=Xv(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Dy(this,s)}},bp.qa=function(){"undefined"!=typeof xp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lv(this,"timeout"),this.abort(8))},bp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Lv(this,"complete"),Lv(this,"abort"),My(this))},bp.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),My(this,!0)),Ry.X.M.call(this)},bp.Ha=function(){this.s||(this.F||this.v||this.l?jy(this):this.fb())},bp.fb=function(){jy(this)},bp.aa=function(){try{return 2<Uy(this)?this.g.status:-1}catch(hy){return-1}},bp.fa=function(){try{return this.g?this.g.responseText:""}catch(hy){return""}},bp.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ny(t)}},bp.Ea=function(){return this.m},bp.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(bp=Wy.prototype).ma=8,bp.G=1,bp.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Em(this,this.j,e,void 0),n=this.s;if(this.S&&(n?gv(n=mv(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Jy(this,t,r),Gm(i=qm(this.F),"RID",e),Gm(i,"CVER",22),this.D&&Gm(i,"X-HTTP-Session-Id",this.D),Xy(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(zy(n)))+"&"+r:this.o&&By(i,this.o,n)),my(this.h,t),this.Ya&&Gm(i,"TYPE","init"),this.O?(Gm(i,"$req",r),Gm(i,"SID","null"),t.Z=!0,Nm(t,i,null)):Nm(t,i,r),this.G=2}}else 3==this.G&&(e?Yy(this,e):0==this.i.length||dy(this.h)||Yy(this))},bp.Ia=function(){if(this.u=null,tg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=dm(Pp(this.eb,this),e)}},bp.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,hm(10),Ky(this),tg(this))},bp.cb=function(){null!=this.v&&(this.v=null,Ky(this),$y(this),hm(19))},bp.kb=function(e){e?(this.j.info("Successfully pinged google.com"),hm(2)):(this.j.info("Failed to ping google.com"),hm(1))},(bp=cg.prototype).xa=function(){},bp.wa=function(){},bp.va=function(){},bp.ua=function(){},bp.Ra=function(){},lg.prototype.g=function(e,t){return new hg(e,t)},Dp(hg,Dv),hg.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;hm(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=sg(e,null,e.V),Qy(e)},hg.prototype.close=function(){Hy(this.g)},hg.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Mv(e),e=n);t.i.push(new cy(t.ab++,e)),3==t.G&&Qy(t)},hg.prototype.M=function(){this.g.l=null,delete this.j,Hy(this.g),delete this.g,hg.X.M.call(this)},Dp(fg,wm),Dp(dg,_m),Dp(pg,cg),pg.prototype.xa=function(){Lv(this.g,"a")},pg.prototype.wa=function(e){Lv(this.g,new fg(e))},pg.prototype.va=function(e){Lv(this.g,new dg)},pg.prototype.ua=function(){Lv(this.g,"b")},lg.prototype.createWebChannel=lg.prototype.g,hg.prototype.send=hg.prototype.u,hg.prototype.open=hg.prototype.m,hg.prototype.close=hg.prototype.close,pm.NO_ERROR=0,pm.TIMEOUT=8,pm.HTTP_ERROR=6,vm.COMPLETE="complete",gm.EventType=bm,bm.OPEN="a",bm.CLOSE="b",bm.ERROR="c",bm.MESSAGE="d",Dv.prototype.listen=Dv.prototype.N,Ry.prototype.listenOnce=Ry.prototype.O,Ry.prototype.getLastError=Ry.prototype.Oa,Ry.prototype.getLastErrorCode=Ry.prototype.Ea,Ry.prototype.getStatus=Ry.prototype.aa,Ry.prototype.getResponseJson=Ry.prototype.Sa,Ry.prototype.getResponseText=Ry.prototype.fa,Ry.prototype.send=Ry.prototype.da,Ry.prototype.setWithCredentials=Ry.prototype.Ka;var vg=_p.createWebChannelTransport=function(){return new lg},mg=_p.getStatEventTarget=function(){return sm()},yg=_p.ErrorCode=pm,gg=_p.EventType=vm,kg=_p.Event=am,bg=_p.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},wg=_p.FetchXmlHttpFactory=xy,_g=_p.WebChannel=gm,xg=_p.XhrIo=Ry,Eg="@firebase/firestore",Sg=function(){function e(t){f(this,e),this.uid=t}return m(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Sg.UNAUTHENTICATED=new Sg(null),Sg.GOOGLE_CREDENTIALS=new Sg("google-credentials-uid"),Sg.FIRST_PARTY=new Sg("first-party-uid"),Sg.MOCK_USER=new Sg("mock-user");var Cg="9.20.0",Tg=new Ar("@firebase/firestore");function Ig(){return Tg.logLevel}function Ng(e){if(Tg.logLevel<=Er.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Pg);Tg.debug.apply(Tg,["Firestore (".concat(Cg,"): ").concat(e)].concat(h(i)))}}function Rg(e){if(Tg.logLevel<=Er.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Pg);Tg.error.apply(Tg,["Firestore (".concat(Cg,"): ").concat(e)].concat(h(i)))}}function Ag(e){if(Tg.logLevel<=Er.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Pg);Tg.warn.apply(Tg,["Firestore (".concat(Cg,"): ").concat(e)].concat(h(i)))}}function Pg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Og(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Cg,") INTERNAL ASSERTION FAILED: ")+e;throw Rg(t),new Error(t)}function Dg(e,t){e||Og()}function Lg(e,t){return e}var jg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Mg=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return m(n)}($n),Fg=m((function e(){var t=this;f(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ug=m((function e(t,n){f(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Vg=function(){function e(){f(this,e)}return m(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Sg.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),zg=function(){function e(t){f(this,e),this.token=t,this.changeListener=null}return m(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Bg=function(){function e(t){f(this,e),this.t=t,this.currentUser=Sg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Fg;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Fg,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Ng("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Ng("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fg)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ng("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Dg("string"==typeof n.accessToken),new Ug(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Dg(null===e||"string"==typeof e),new Sg(e)}}]),e}(),qg=function(){function e(t,n,r){f(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Sg.FIRST_PARTY,this.g=new Map}return m(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Wg=function(){function e(t,n,r){f(this,e),this.h=t,this.l=n,this.m=r}return m(e,[{key:"getToken",value:function(){return Promise.resolve(new qg(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Sg.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Hg=m((function e(t){f(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Kg=function(){function e(t){f(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ng("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Ng("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ng("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Ng("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Dg("string"==typeof t.token),e.T=t.token,new Hg(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Gg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Qg=function(){function e(){f(this,e)}return m(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Gg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Yg(e,t){return e<t?-1:e>t?1:0}function Xg(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Jg=function(){function e(t,n){if(f(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Mg(jg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Mg(jg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Mg(jg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mg(jg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return m(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Yg(this.nanoseconds,e.nanoseconds):Yg(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Zg=function(){function e(t){f(this,e),this.timestamp=t}return m(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Jg(0,0))}},{key:"max",value:function(){return new e(new Jg(253402300799,999999999))}}]),e}(),$g=function(){function e(t,n,r){f(this,e),void 0===n?n=0:n>t.length&&Og(),void 0===r?r=t.length-n:r>t.length-n&&Og(),this.segments=t,this.offset=n,this.len=r}return m(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ek=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Mg(jg.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($g),tk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nk=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return tk.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Mg(jg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Mg(jg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Mg(jg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Mg(jg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($g),rk=function(){function e(t){f(this,e),this.path=t}return m(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ek.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ek.fromString(t))}},{key:"fromName",value:function(t){return new e(ek.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ek.emptyPath())}},{key:"comparator",value:function(e,t){return ek.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ek(t.slice()))}}]),e}(),ik=m((function e(t,n,r,i){f(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));ik.UNKNOWN_ID=-1;function ak(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Zg.fromTimestamp(1e9===r?new Jg(n+1,0):new Jg(n,r));return new sk(i,rk.empty(),t)}function ok(e){return new sk(e.readTime,e.key,-1)}var sk=function(){function e(t,n,r){f(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return m(e,null,[{key:"min",value:function(){return new e(Zg.min(),rk.empty(),-1)}},{key:"max",value:function(){return new e(Zg.max(),rk.empty(),-1)}}]),e}();function uk(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=rk.comparator(e.documentKey,t.documentKey))?n:Yg(e.largestBatchId,t.largestBatchId)}var ck="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lk=function(){function e(){f(this,e),this.onCommittedListeners=[]}return m(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function hk(e){return fk.apply(this,arguments)}function fk(){return fk=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===jg.FAILED_PRECONDITION&&t.message===ck){e.next=2;break}throw t;case 2:Ng("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),fk.apply(this,arguments)}var dk=function(){function e(t){var n=this;f(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return m(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Og(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=S(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function pk(e){return"IndexedDbTransactionError"===e.name}var vk=function(){function e(t,n){var r=this;f(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return m(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function mk(e){return null==e}function yk(e){return 0===e&&1/e==-1/0}function gk(e){return"number"==typeof e&&Number.isInteger(e)&&!yk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}vk.ct=-1;var kk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),bk=([].concat(h(kk),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),wk=bk;[].concat(wk,["indexConfiguration","indexState","indexEntries"]);function _k(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ek(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Sk=function(){function e(t,n){f(this,e),this.comparator=t,this.root=n||Tk.EMPTY}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Tk.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tk.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ck(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ck(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ck(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ck(this.root,e,this.comparator,!0)}}]),e}(),Ck=function(){function e(t,n,r,i){f(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return m(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Tk=function(){function e(t,n,r,i,a){f(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Og();if(this.right.isRed())throw Og();var e=this.left.check();if(e!==this.right.check())throw Og();return e+(this.isRed()?0:1)}}]),e}();Tk.EMPTY=null,Tk.RED=!0,Tk.BLACK=!1,Tk.EMPTY=new(function(){function e(){f(this,e),this.size=0}return m(e,[{key:"key",get:function(){throw Og()}},{key:"value",get:function(){throw Og()}},{key:"color",get:function(){throw Og()}},{key:"left",get:function(){throw Og()}},{key:"right",get:function(){throw Og()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Tk(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ik=function(){function e(t){f(this,e),this.comparator=t,this.data=new Sk(this.comparator)}return m(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Nk(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Nk(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Nk=function(){function e(t){f(this,e),this.iter=t}return m(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Rk=function(){function e(t){f(this,e),this.fields=t,t.sort(nk.comparator)}return m(e,[{key:"unionWith",value:function(t){var n,r=new Ik(nk.comparator),i=S(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=S(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=S(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Xg(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Ak=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return m(n)}(E(Error));var Pk=function(e){function t(e){f(this,t),this.binaryString=e}return m(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Yg(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ak("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Pk.EMPTY_BYTE_STRING=new Pk("");var Ok=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dk(e){if(Dg(!!e),"string"==typeof e){var t=0,n=Ok.exec(e);if(Dg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Lk(e.seconds),nanos:Lk(e.nanos)}}function Lk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jk(e){return"string"==typeof e?Pk.fromBase64String(e):Pk.fromUint8Array(e)}function Mk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fk(e){var t=e.mapValue.fields.__previous_value__;return Mk(t)?Fk(t):t}function Uk(e){var t=Dk(e.mapValue.fields.__local_write_time__.timestampValue);return new Jg(t.seconds,t.nanos)}var Vk=m((function e(t,n,r,i,a,o,s,u){f(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),zk=function(){function e(t,n){f(this,e),this.projectId=t,this.database=n||"(default)"}return m(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Bk={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Mk(e)?4:rb(e)?9007199254740991:10:Og()}function Wk(e,t){if(e===t)return!0;var n=qk(e);if(n!==qk(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Uk(e).isEqual(Uk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Dk(e.timestampValue),r=Dk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jk(e.bytesValue).isEqual(jk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Lk(e.geoPointValue.latitude)===Lk(t.geoPointValue.latitude)&&Lk(e.geoPointValue.longitude)===Lk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Lk(e.integerValue)===Lk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Lk(e.doubleValue),r=Lk(t.doubleValue);return n===r?yk(n)===yk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xg(e.arrayValue.values||[],t.arrayValue.values||[],Wk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_k(n)!==_k(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Wk(n[i],r[i])))return!1;return!0}(e,t);default:return Og()}}function Hk(e,t){return void 0!==(e.values||[]).find((function(e){return Wk(e,t)}))}function Kk(e,t){if(e===t)return 0;var n=qk(e),r=qk(t);if(n!==r)return Yg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yg(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Lk(e.integerValue||e.doubleValue),r=Lk(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gk(e.timestampValue,t.timestampValue);case 4:return Gk(Uk(e),Uk(t));case 5:return Yg(e.stringValue,t.stringValue);case 6:return function(e,t){var n=jk(e),r=jk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Yg(n[i],r[i]);if(0!==a)return a}return Yg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Yg(Lk(e.latitude),Lk(t.latitude));return 0!==n?n:Yg(Lk(e.longitude),Lk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Kk(n[i],r[i]);if(a)return a}return Yg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Bk.mapValue&&t===Bk.mapValue)return 0;if(e===Bk.mapValue)return 1;if(t===Bk.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Yg(r[o],a[o]);if(0!==s)return s;var u=Kk(n[r[o]],i[a[o]]);if(0!==u)return u}return Yg(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Og()}}function Gk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yg(e,t);var n=Dk(e),r=Dk(t),i=Yg(n.seconds,r.seconds);return 0!==i?i:Yg(n.nanos,r.nanos)}function Qk(e){return Yk(e)}function Yk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Dk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?jk(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,rk.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=S(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Yk(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=S(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Yk(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Og();var t,n}function Xk(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Jk(e){return!!e&&"integerValue"in e}function Zk(e){return!!e&&"arrayValue"in e}function $k(e){return!!e&&"nullValue"in e}function eb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tb(e){return!!e&&"mapValue"in e}function nb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return xk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=nb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=nb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function rb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var ib=function(){function e(t){f(this,e),this.value=t}return m(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!tb(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nb(t)}},{key:"setAll",value:function(e){var t=this,n=nk.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=nb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());tb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Wk(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];tb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){xk(t,(function(t,n){return e[t]=n}));var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(nb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ab(e){var t=[];return xk(e.fields,(function(e,n){var r=new nk([e]);if(tb(n)){var i=ab(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=S(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Rk(t)}var ob=function(){function e(t,n,r,i,a,o,s){f(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return m(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Zg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ib.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ib.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Zg.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Zg.min(),Zg.min(),Zg.min(),ib.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Zg.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Zg.min(),Zg.min(),ib.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Zg.min(),Zg.min(),ib.empty(),2)}}]),e}(),sb=m((function e(t,n){f(this,e),this.position=t,this.inclusive=n}));function ub(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?rk.comparator(rk.fromName(o.referenceValue),n.key):Kk(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function cb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Wk(e.position[n],t.position[n]))return!1;return!0}var lb=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";f(this,e),this.field=t,this.dir=n}));function hb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var fb=m((function e(){f(this,e)})),db=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Kk(t,this.value)):null!==t&&qk(this.value)===qk(t)&&this.matchesComparison(Kk(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Og()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new wb(e,t,r):"array-contains"===t?new Sb(e,r):"in"===t?new Cb(e,r):"not-in"===t?new Tb(e,r):"array-contains-any"===t?new Ib(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new _b(e,n):new xb(e,n)}}]),n}(fb),pb=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return m(n,[{key:"matches",value:function(e){return vb(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=S(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(fb);function vb(e){return"and"===e.op}function mb(e){return yb(e)&&vb(e)}function yb(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof pb)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function gb(e){if(e instanceof db)return e.field.canonicalString()+e.op.toString()+Qk(e.value);if(mb(e))return e.filters.map((function(e){return gb(e)})).join(",");var t=e.filters.map((function(e){return gb(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function kb(e,t){return e instanceof db?function(e,t){return t instanceof db&&e.op===t.op&&e.field.isEqual(t.field)&&Wk(e.value,t.value)}(e,t):e instanceof pb?function(e,t){return t instanceof pb&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&kb(n,t.filters[r])}),!0)}(e,t):void Og()}function bb(e){return e instanceof db?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Qk(e.value))}(e):e instanceof pb?function(e){return e.op.toString()+" {"+e.getFilters().map(bb).join(" ,")+"}"}(e):"Filter"}var wb=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,i)).key=rk.fromName(i.referenceValue),a}return m(n,[{key:"matches",value:function(e){var t=rk.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(db),_b=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,"in",r)).keys=Eb("in",r),i}return m(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(db),xb=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,"not-in",r)).keys=Eb("not-in",r),i}return m(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(db);function Eb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return rk.fromName(e.referenceValue)}))}var Sb=function(e){g(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"array-contains",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Zk(t)&&Hk(t.arrayValue,this.value)}}]),n}(db),Cb=function(e){g(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"in",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Hk(this.value.arrayValue,t)}}]),n}(db),Tb=function(e){g(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"not-in",r)}return m(n,[{key:"matches",value:function(e){if(Hk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Hk(this.value.arrayValue,t)}}]),n}(db),Ib=function(e){g(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"array-contains-any",r)}return m(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Zk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Hk(t.value.arrayValue,e)}))}}]),n}(db),Nb=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;f(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function Rb(e){return new Nb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ab(e){var t=Lg(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return gb(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),mk(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Qk(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Qk(e)})).join(",")),t.ft=n}return t.ft}function Pb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!hb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!kb(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cb(e.startAt,t.startAt)&&cb(e.endAt,t.endAt)}function Ob(e){return rk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Db=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;f(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this.wt=null,this.startAt,this.endAt}));function Lb(e,t,n,r,i,a,o,s){return new Db(e,t,n,r,i,a,o,s)}function jb(e){return new Db(e)}function Mb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Fb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ub(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Vb(e){return null!==e.collectionGroup}function zb(e){var t=Lg(e);if(null===t.dt){t.dt=[];var n=Ub(t),r=Fb(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new lb(n)),t.dt.push(new lb(nk.keyField(),"asc"));else{var i,a=!1,o=S(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new lb(nk.keyField(),u))}}}return t.dt}function Bb(e){var t=Lg(e);if(!t.wt)if("F"===t.limitType)t.wt=Rb(t.path,t.collectionGroup,zb(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=S(zb(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new lb(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new sb(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new sb(t.startAt.position,t.startAt.inclusive):null;t.wt=Rb(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function qb(e,t){t.getFirstInequalityField(),Ub(e);var n=e.filters.concat([t]);return new Db(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Wb(e,t,n){return new Db(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hb(e,t){return Pb(Bb(e),Bb(t))&&e.limitType===t.limitType}function Kb(e){return"".concat(Ab(Bb(e)),"|lt:").concat(e.limitType)}function Gb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return bb(e)})).join(", "),"]")),mk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Qk(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Qk(e)})).join(",")),"Target(".concat(t,")")}(Bb(e)),"; limitType=").concat(e.limitType,")")}function Qb(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):rk.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=S(zb(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=S(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ub(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,zb(e),t))&&!(e.endAt&&!function(e,t,n){var r=ub(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,zb(e),t))}(e,t)}function Yb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xb(e){return function(t,n){var r,i=!1,a=S(zb(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Jb(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Jb(e,t,n){var r=e.field.isKeyField()?rk.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Kk(r,i):Og()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Og()}}var Zb=function(){function e(t,n){f(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return m(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){xk(this.inner,(function(t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ek(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),$b=new Sk(rk.comparator);function ew(){return $b}var tw=new Sk(rk.comparator);function nw(){for(var e=tw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function rw(e){var t=tw;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function iw(){return ow()}function aw(){return ow()}function ow(){return new Zb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var sw=new Sk(rk.comparator),uw=new Ik(rk.comparator);function cw(){for(var e=uw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var lw=new Ik(Yg);function hw(){return lw}function fw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yk(t)?"-0":t}}function dw(e){return{integerValue:""+e}}function pw(e,t){return gk(t)?dw(t):fw(e,t)}var vw=m((function e(){f(this,e),this._=void 0}));function mw(e,t,n){return e instanceof kw?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof bw?ww(e,t):e instanceof _w?xw(e,t):function(e,t){var n=gw(e,t),r=Sw(n)+Sw(e._t);return Jk(n)&&Jk(e._t)?dw(r):fw(e.serializer,r)}(e,t)}function yw(e,t,n){return e instanceof bw?ww(e,t):e instanceof _w?xw(e,t):n}function gw(e,t){return e instanceof Ew?Jk(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var kw=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n)}(vw),bw=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).elements=e,r}return m(n)}(vw);function ww(e,t){var n,r=Cw(t),i=S(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Wk(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var _w=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).elements=e,r}return m(n)}(vw);function xw(e,t){var n,r=Cw(t),i=S(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Wk(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ew=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).serializer=e,i._t=r,i}return m(n)}(vw);function Sw(e){return Lk(e.integerValue||e.doubleValue)}function Cw(e){return Zk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Tw=m((function e(t,n){f(this,e),this.version=t,this.transformResults=n})),Iw=function(){function e(t,n){f(this,e),this.updateTime=t,this.exists=n}return m(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Nw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Rw=m((function e(){f(this,e)}));function Aw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qw(e.key,Iw.none()):new jw(e.key,e.data,Iw.none());var n,r=e.data,i=ib.empty(),a=new Ik(nk.comparator),o=S(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Mw(e.key,i,new Rk(a.toArray()),Iw.none())}function Pw(e,t,n){e instanceof jw?function(e,t,n){var r=e.value.clone(),i=Uw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mw?function(e,t,n){if(Nw(e.precondition,t)){var r=Uw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Fw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ow(e,t,n,r){return e instanceof jw?function(e,t,n,r){if(!Nw(e.precondition,t))return n;var i=e.value.clone(),a=Vw(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Mw?function(e,t,n,r){if(!Nw(e.precondition,t))return n;var i=Vw(e.fieldTransforms,r,t),a=t.data;return a.setAll(Fw(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Nw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Dw(e,t){var n,r=null,i=S(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=gw(a.transform,o||null);null!=s&&(null===r&&(r=ib.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Lw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xg(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof bw&&t instanceof bw||e instanceof _w&&t instanceof _w?Xg(e.elements,t.elements,Wk):e instanceof Ew&&t instanceof Ew?Wk(e._t,t._t):e instanceof kw&&t instanceof kw}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var jw=function(e){g(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return f(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rw),Mw=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return f(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return m(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Rw);function Fw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Uw(e,t,n){var r=new Map;Dg(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,yw(o,s,n[i]))}return r}function Vw(e,t,n){var r,i=new Map,a=S(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,mw(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var zw,Bw,qw=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rw),Ww=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rw),Hw=function(){function e(t,n,r,i){f(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return m(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Pw(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=S(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ow(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=S(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Ow(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=aw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Aw(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Zg.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),cw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Xg(this.mutations,e.mutations,(function(e,t){return Lw(e,t)}))&&Xg(this.baseMutations,e.baseMutations,(function(e,t){return Lw(e,t)}))}}]),e}(),Kw=function(){function e(t,n,r,i){f(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return m(e,null,[{key:"from",value:function(t,n,r){Dg(t.mutations.length===r.length);for(var i=sw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Gw=function(){function e(t,n){f(this,e),this.largestBatchId=t,this.mutation=n}return m(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Qw=m((function e(t){f(this,e),this.count=t}));function Yw(e){switch(e){default:return Og();case jg.CANCELLED:case jg.UNKNOWN:case jg.DEADLINE_EXCEEDED:case jg.RESOURCE_EXHAUSTED:case jg.INTERNAL:case jg.UNAVAILABLE:case jg.UNAUTHENTICATED:return!1;case jg.INVALID_ARGUMENT:case jg.NOT_FOUND:case jg.ALREADY_EXISTS:case jg.PERMISSION_DENIED:case jg.FAILED_PRECONDITION:case jg.ABORTED:case jg.OUT_OF_RANGE:case jg.UNIMPLEMENTED:case jg.DATA_LOSS:return!0}}function Xw(e){if(void 0===e)return Rg("GRPC error has no .code"),jg.UNKNOWN;switch(e){case zw.OK:return jg.OK;case zw.CANCELLED:return jg.CANCELLED;case zw.UNKNOWN:return jg.UNKNOWN;case zw.DEADLINE_EXCEEDED:return jg.DEADLINE_EXCEEDED;case zw.RESOURCE_EXHAUSTED:return jg.RESOURCE_EXHAUSTED;case zw.INTERNAL:return jg.INTERNAL;case zw.UNAVAILABLE:return jg.UNAVAILABLE;case zw.UNAUTHENTICATED:return jg.UNAUTHENTICATED;case zw.INVALID_ARGUMENT:return jg.INVALID_ARGUMENT;case zw.NOT_FOUND:return jg.NOT_FOUND;case zw.ALREADY_EXISTS:return jg.ALREADY_EXISTS;case zw.PERMISSION_DENIED:return jg.PERMISSION_DENIED;case zw.FAILED_PRECONDITION:return jg.FAILED_PRECONDITION;case zw.ABORTED:return jg.ABORTED;case zw.OUT_OF_RANGE:return jg.OUT_OF_RANGE;case zw.UNIMPLEMENTED:return jg.UNIMPLEMENTED;case zw.DATA_LOSS:return jg.DATA_LOSS;default:return Og()}}(Bw=zw||(zw={}))[Bw.OK=0]="OK",Bw[Bw.CANCELLED=1]="CANCELLED",Bw[Bw.UNKNOWN=2]="UNKNOWN",Bw[Bw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bw[Bw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bw[Bw.NOT_FOUND=5]="NOT_FOUND",Bw[Bw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bw[Bw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bw[Bw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bw[Bw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bw[Bw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bw[Bw.ABORTED=10]="ABORTED",Bw[Bw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bw[Bw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bw[Bw.INTERNAL=13]="INTERNAL",Bw[Bw.UNAVAILABLE=14]="UNAVAILABLE",Bw[Bw.DATA_LOSS=15]="DATA_LOSS";var Jw=function(){function e(){f(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return m(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Zw}},{key:"getOrCreateInstance",value:function(){return null===Zw&&(Zw=new e),Zw}}]),e}(),Zw=null,$w=function(){function e(t,n,r,i,a){f(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return m(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,e_.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Zg.min(),i,hw(),ew(),cw())}}]),e}(),e_=function(){function e(t,n,r,i,a){f(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return m(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,cw(),cw(),cw())}}]),e}(),t_=m((function e(t,n,r,i){f(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),n_=m((function e(t,n){f(this,e),this.targetId=t,this.Et=n})),r_=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pk.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),i_=function(){function e(){f(this,e),this.At=0,this.Rt=s_(),this.vt=Pk.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return m(e,[{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=cw(),t=cw(),n=cw();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Og()}})),new e_(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=s_()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}}]),e}(),a_=function(){function e(t){f(this,e),this.Ft=t,this.Bt=new Map,this.Lt=ew(),this.qt=o_(),this.Ut=new Ik(Yg)}return m(e,[{key:"Kt",value:function(e){var t,n=S(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=S(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Og()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.Wt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){var a=i.target;if(Ob(a))if(0===r){var o=new rk(a.path);this.Qt(n,o,ob.newNoDocument(o,Zg.min()))}else Dg(1===r);else{var s=this.Zt(n);s!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=Jw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:s,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Ob(a.target)){var o=new rk(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,ob.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=cw();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new $w(e,n,this.Ut,this.Lt,r);return this.Lt=ew(),this.qt=o_(),this.Ut=new Ik(Yg),i}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new i_,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Ik(Yg),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||Ng("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new i_),this.Ft.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function o_(){return new Sk(rk.comparator)}function s_(){return new Sk(rk.comparator)}var u_={asc:"ASCENDING",desc:"DESCENDING"},c_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l_={and:"AND",or:"OR"},h_=m((function e(t,n){f(this,e),this.databaseId=t,this.useProto3Json=n}));function f_(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function d_(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function p_(e,t){return f_(e,t.toTimestamp())}function v_(e){return Dg(!!e),Zg.fromTimestamp(function(e){var t=Dk(e);return new Jg(t.seconds,t.nanos)}(e))}function m_(e,t){return function(e){return new ek(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function y_(e){var t=ek.fromString(e);return Dg(M_(t)),t}function g_(e,t){return m_(e.databaseId,t.path)}function k_(e,t){var n=y_(t);if(n.get(1)!==e.databaseId.projectId)throw new Mg(jg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Mg(jg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rk(x_(n))}function b_(e,t){return m_(e.databaseId,t)}function w_(e){var t=y_(e);return 4===t.length?ek.emptyPath():x_(t)}function __(e){return new ek(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function x_(e){return Dg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function E_(e,t,n){return{name:g_(e,t),fields:n.value.mapValue.fields}}function S_(e,t){var n;if(t instanceof jw)n={update:E_(e,t.key,t.value)};else if(t instanceof qw)n={delete:g_(e,t.key)};else if(t instanceof Mw)n={update:E_(e,t.key,t.data),updateMask:j_(t.fieldMask)};else{if(!(t instanceof Ww))return Og();n={verify:g_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof kw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _w)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ew)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Og()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:p_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Og()}(e,t.precondition)),n}function C_(e,t){return{documents:[b_(e,t.path)]}}function T_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=b_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=b_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return L_(pb.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:O_(e.field),direction:R_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.useProto3Json||mk(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function I_(e){var t=w_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Dg(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=N_(e);return t instanceof pb&&mb(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new lb(D_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return mk(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new sb(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new sb(n,t)}(n.endAt)),Lb(t,i,s,o,u,"F",c,l)}function N_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=D_(e.unaryFilter.field);return db.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=D_(e.unaryFilter.field);return db.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=D_(e.unaryFilter.field);return db.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=D_(e.unaryFilter.field);return db.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Og()}}(e):void 0!==e.fieldFilter?function(e){return db.create(D_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Og()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return pb.create(e.compositeFilter.filters.map((function(e){return N_(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Og()}}(e.compositeFilter.op))}(e):Og()}function R_(e){return u_[e]}function A_(e){return c_[e]}function P_(e){return l_[e]}function O_(e){return{fieldPath:e.canonicalString()}}function D_(e){return nk.fromServerFormat(e.fieldPath)}function L_(e){return e instanceof db?function(e){if("=="===e.op){if(eb(e.value))return{unaryFilter:{field:O_(e.field),op:"IS_NAN"}};if($k(e.value))return{unaryFilter:{field:O_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eb(e.value))return{unaryFilter:{field:O_(e.field),op:"IS_NOT_NAN"}};if($k(e.value))return{unaryFilter:{field:O_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:O_(e.field),op:A_(e.op),value:e.value}}}(e):e instanceof pb?function(e){var t=e.getFilters().map((function(e){return L_(e)}));return 1===t.length?t[0]:{compositeFilter:{op:P_(e.op),filters:t}}}(e):Og()}function j_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function M_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var F_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Zg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Zg.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Pk.EMPTY_BYTE_STRING;f(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return m(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),U_=m((function e(t){f(this,e),this.se=t}));function V_(e){var t=I_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wb(t,t.limit,"L"):t}var z_=function(){function e(){f(this,e)}return m(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(Lk(e.integerValue));else if("doubleValue"in e){var n=Lk(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),yk(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(jk(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?rb(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):Og()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.fe(a,t),this.ue(n[a],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ue(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),rk.fromName(e).path.forEach((function(e){n.ae(t,60),n.ye(e,t)}))}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();z_.pe=new z_;var B_=function(){function e(){f(this,e),this.He=new q_}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),dk.resolve()}},{key:"getCollectionParents",value:function(e,t){return dk.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return dk.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return dk.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return dk.resolve(null)}},{key:"getIndexType",value:function(e,t){return dk.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return dk.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return dk.resolve(null)}},{key:"getMinOffset",value:function(e,t){return dk.resolve(sk.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return dk.resolve(sk.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return dk.resolve()}},{key:"updateIndexEntries",value:function(e,t){return dk.resolve()}}]),e}(),q_=function(){function e(){f(this,e),this.index={}}return m(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ik(ek.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ik(ek.comparator)).toArray()}}]),e}();new Uint8Array(0);var W_=function(){function e(t,n,r){f(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return m(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();W_.DEFAULT_COLLECTION_PERCENTILE=10,W_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,W_.DEFAULT=new W_(41943040,W_.DEFAULT_COLLECTION_PERCENTILE,W_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),W_.DISABLED=new W_(-1,0,0);var H_=function(){function e(t){f(this,e),this.Rn=t}return m(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}();var K_=function(){function e(){f(this,e),this.changes=new Zb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return m(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ob.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?dk.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var G_=m((function e(t,n){f(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Q_=function(){function e(t,n,r,i){f(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return m(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Ow(r.mutation,e,Rk.empty(),Jg.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,cw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cw(),i=iw();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=nw();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=iw();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,cw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ew(),a=ow(),o=ow();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Mw)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Ow(o.mutation,t,o.mutation.getFieldMask(),Jg.now())):a.set(t.key,Rk.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new G_(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=ow(),i=new Sk((function(e,t){return e-t})),a=cw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=S(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Rk.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||cw()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=aw();c.forEach((function(e){if(!a.has(e)){var n=Aw(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return dk.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return rk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):dk.resolve(iw()),s=-1,u=a;return o.next((function(t){return dk.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?dk.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,cw())})).next((function(e){return{batchId:s,changes:rw(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new rk(t)).next((function(e){var t=nw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=nw();return this.indexManager.getCollectionParents(e,i).next((function(o){return dk.forEach(o,(function(o){var s=function(e,t){return new Db(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,ob.newInvalidDocument(r)))}));var n=nw();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Ow(a.mutation,i,Rk.empty(),Jg.now()),Qb(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Y_=function(){function e(t){f(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return m(e,[{key:"getBundleMetadata",value:function(e,t){return dk.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:v_(n.createTime)}),dk.resolve()}},{key:"getNamedQuery",value:function(e,t){return dk.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:V_(e.bundledQuery),readTime:v_(e.readTime)}}(t)),dk.resolve()}}]),e}(),X_=function(){function e(){f(this,e),this.overlays=new Sk(rk.comparator),this.ts=new Map}return m(e,[{key:"getOverlay",value:function(e,t){return dk.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=iw();return dk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.re(e,t,i)})),dk.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ts.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ts.delete(n)),dk.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=iw(),i=t.length+1,a=new rk(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return dk.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Sk((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=iw(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=iw(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return dk.resolve(u)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Gw(t,n));var a=this.ts.get(t);void 0===a&&(a=cw(),this.ts.set(t,a)),this.ts.set(t,a.add(n.key))}}]),e}(),J_=function(){function e(){f(this,e),this.es=new Ik(Z_.ns),this.ss=new Ik(Z_.rs)}return m(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Z_(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.us(new Z_(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"hs",value:function(e){var t=this,n=new rk(new ek([])),r=new Z_(n,e),i=new Z_(n,e+1),a=[];return this.ss.forEachInRange([r,i],(function(e){t.us(e),a.push(e.key)})),a}},{key:"ls",value:function(){var e=this;this.es.forEach((function(t){return e.us(t)}))}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new rk(new ek([])),n=new Z_(t,e),r=new Z_(t,e+1),i=cw();return this.ss.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Z_(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Z_=function(){function e(t,n){f(this,e),this.key=t,this.ds=n}return m(e,null,[{key:"ns",value:function(e,t){return rk.comparator(e.key,t.key)||Yg(e.ds,t.ds)}},{key:"rs",value:function(e,t){return Yg(e.ds,t.ds)||rk.comparator(e.key,t.key)}}]),e}(),$_=function(){function e(t,n){f(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Ik(Z_.ns)}return m(e,[{key:"checkEmpty",value:function(e){return dk.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Hw(i,t,n,r);this.mutationQueue.push(a);var o,s=S(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this._s=this._s.add(new Z_(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return dk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return dk.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),i=r<0?0:r;return dk.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return dk.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return dk.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Z_(t,0),i=new Z_(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],(function(e){var t=n.gs(e.ds);a.push(t)})),dk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ik(Yg);return t.forEach((function(e){var t=new Z_(e,0),i=new Z_(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,i],(function(e){r=r.add(e.ds)}))})),dk.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;rk.isDocumentKey(i)||(i=i.child(""));var a=new Z_(new rk(i),0),o=new Ik(Yg);return this._s.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)}),a),dk.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.gs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Dg(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return dk.forEach(t.mutations,(function(i){var a=new Z_(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n._s=r}))}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Z_(t,0),r=this._s.firstAfterOrEqual(n);return dk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,dk.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ex=function(){function e(t){f(this,e),this.Ts=t,this.docs=new Sk(rk.comparator),this.size=0}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return dk.resolve(n?n.document.mutableCopy():ob.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ew();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ob.newInvalidDocument(e))})),dk.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=ew(),a=t.path,o=new rk(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||uk(ok(l),n)<=0||(r.has(l.key)||Qb(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return dk.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Og()}},{key:"Es",value:function(e,t){return dk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new tx(this)}},{key:"getSize",value:function(e){return dk.resolve(this.size)}}]),e}(),tx=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).Jn=e,r}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Jn.addEntry(e,i)):t.Jn.removeEntry(r)})),dk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),n}(K_),nx=function(){function e(t){f(this,e),this.persistence=t,this.As=new Zb((function(e){return Ab(e)}),Pb),this.lastRemoteSnapshotVersion=Zg.min(),this.highestTargetId=0,this.Rs=0,this.vs=new J_,this.targetCount=0,this.bs=H_.vn()}return m(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach((function(e,n){return t(n)})),dk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return dk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return dk.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),dk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),dk.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new H_(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,dk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),dk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,dk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.As.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.As.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),dk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return dk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return dk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),dk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),dk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),dk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return dk.resolve(n)}},{key:"containsKey",value:function(e,t){return dk.resolve(this.vs.containsKey(t))}}]),e}(),rx=function(){function e(t,n){var r=this;f(this,e),this.Ps={},this.overlays={},this.Vs=new vk(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new nx(this),this.indexManager=new B_,this.remoteDocumentCache=new ex((function(e){return r.referenceDelegate.Cs(e)})),this.serializer=new U_(n),this.xs=new Y_(this.serializer)}return m(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ss}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new X_,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new $_(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;Ng("MemoryPersistence","Starting transaction:",e);var i=new ix(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next((function(e){return r.referenceDelegate.ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return dk.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ix=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return m(n)}(lk),ax=function(){function e(t){f(this,e),this.persistence=t,this.$s=new J_,this.Ms=null}return m(e,[{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw Og()}},{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),dk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),dk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),dk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach((function(e){return n.Bs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Bs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dk.forEach(this.Bs,(function(r){var i=rk.fromPath(r);return t.Ls(e,i).next((function(e){e||n.removeEntry(i,Zg.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next((function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())}))}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return dk.or([function(){return dk.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}();var ox=function(){function e(t,n,r,i){f(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}return m(e,null,[{key:"Di",value:function(t,n){var r,i=cw(),a=cw(),o=S(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),sx=function(){function e(){f(this,e),this.Ci=!1}return m(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ni(e,t).next((function(a){return a||i.ki(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"Ni",value:function(e,t){var n=this;if(Mb(t))return dk.resolve(null);var r=Bb(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Wb(t,null,"F"),r=Bb(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=cw.apply(void 0,h(i));return n.xi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.$i(t,i);return n.Mi(t,o,a,r.readTime)?n.Ni(e,Wb(t,null,"F")):n.Fi(e,o,t,r)}))}))})))}))}},{key:"ki",value:function(e,t,n,r){var i=this;return Mb(t)||r.isEqual(Zg.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next((function(a){var o=i.$i(t,a);return i.Mi(t,o,n,r)?i.Oi(e,t):(Ig()<=Er.DEBUG&&Ng("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gb(t)),i.Fi(e,o,t,ak(r,-1)))}))}},{key:"$i",value:function(e,t){var n=new Ik(Xb(e));return t.forEach((function(t,r){Qb(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return Ig()<=Er.DEBUG&&Ng("QueryEngine","Using full collection scan to execute query:",Gb(t)),this.xi.getDocumentsMatchingQuery(e,t,sk.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ux=function(){function e(t,n,r,i){f(this,e),this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new Sk(Yg),this.qi=new Zb((function(e){return Ab(e)}),Pb),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return m(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q_(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Li)}))}}]),e}();function cx(e,t,n,r){return new ux(e,t,n,r)}function lx(e,t){return hx.apply(this,arguments)}function hx(){return hx=et(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=cw(),u=S(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,h=S(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=S(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=S(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Qi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),hx.apply(this,arguments)}function fx(e,t){var n=Lg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=dk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Dg(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=cw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function dx(e){var t=Lg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ds.getLastRemoteSnapshotVersion(e)}))}function px(e,t){var n=Lg(e),r=t.snapshotVersion,i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Ds.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Ds.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Pk.EMPTY_BYTE_STRING,Zg.min()).withLastLimboFreeSnapshotVersion(Zg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Ds.updateTargetData(e,c))}}));var s=ew(),u=cw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(vx(e,a,t.documentUpdates).next((function(e){s=e.zi,u=e.ji}))),!r.isEqual(Zg.min())){var c=n.Ds.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return dk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Li=i,e}))}function vx(e,t,n){var r=cw(),i=cw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ew();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Zg.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ng("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{zi:r,ji:i}}))}function mx(e,t){var n=Lg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function yx(e,t){var n=Lg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ds.getTargetData(e,t).next((function(i){return i?(r=i,dk.resolve(r)):n.Ds.allocateTargetId(e).next((function(i){return r=new F_(t,i,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function gx(e,t,n){return kx.apply(this,arguments)}function kx(){return kx=et(Ye().mark((function e(t,n,r){var i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Lg(t),a=i.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),pk(e.t1)){e.next=12;break}throw e.t1;case 12:Ng("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Li=i.Li.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),kx.apply(this,arguments)}function bx(e,t,n){var r=Lg(e),i=Zg.min(),a=cw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Lg(e),i=r.qi.get(n);return void 0!==i?dk.resolve(r.Li.get(i)):r.Ds.getTargetData(t,n)}(r,e,Bb(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?i:Zg.min(),n?a:cw())})).next((function(e){return wx(r,Yb(t),e),{documents:e,Wi:a}}))}))}function wx(e,t,n){var r=e.Ui.get(t)||Zg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ui.set(t,r)}var _x=function(){function e(){f(this,e),this.activeTargetIds=hw()}return m(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),xx=function(){function e(){f(this,e),this.Br=new _x,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return m(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new _x,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Ex=function(){function e(){f(this,e)}return m(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Sx=function(){function e(){var t=this;f(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return m(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){Ng("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=S(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){Ng("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=S(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Cx=null;function Tx(){return null===Cx?Cx=268435456+Math.round(2147483648*Math.random()):Cx++,"0x"+Cx.toString(16)}var Ix={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Nx=function(){function e(t){f(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return m(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),Rx="WebChannelConnection",Ax=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return m(n,[{key:"lo",value:function(e,t,n,r){var i=Tx();return new Promise((function(a,o){var s=new xg;s.setWithCredentials(!0),s.listenOnce(gg.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case yg.NO_ERROR:var t=s.getResponseJson();Ng(Rx,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case yg.TIMEOUT:Ng(Rx,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Mg(jg.DEADLINE_EXCEEDED,"Request time out"));break;case yg.HTTP_ERROR:var n=s.getStatus();if(Ng(Rx,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(jg).indexOf(t)>=0?t:jg.UNKNOWN}(u.status);o(new Mg(c,u.message))}else o(new Mg(jg.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Mg(jg.UNAVAILABLE,"Connection failed."));break;default:Og()}}finally{Ng(Rx,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Ng(Rx,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=Tx(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=vg(),o=mg(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new wg({})),this.ho(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var u=i.join("");Ng(Rx,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);var c=a.createWebChannel(u,s),l=!1,h=!1,f=new Nx({Wr:function(t){h?Ng(Rx,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(Ng(Rx,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),Ng(Rx,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Hr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,_g.EventType.OPEN,(function(){h||Ng(Rx,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,_g.EventType.CLOSE,(function(){h||(h=!0,Ng(Rx,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.so())})),d(c,_g.EventType.ERROR,(function(t){h||(h=!0,Ag(Rx,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.so(new Mg(jg.UNAVAILABLE,"The operation could not be completed")))})),d(c,_g.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Dg(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Ng(Rx,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=zw[e];if(void 0!==t)return Xw(t)}(s),l=o.message;void 0===u&&(u=jg.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),h=!0,f.so(new Mg(u,l)),c.close()}else Ng(Rx,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.io(i)}})),d(o,kg.STAT_EVENT,(function(t){t.stat===bg.PROXY?Ng(Rx,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===bg.NOPROXY&&Ng(Rx,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){f.no()}),0),f}}]),n}(function(){function e(t){f(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return m(e,[{key:"uo",get:function(){return!1}},{key:"co",value:function(e,t,n,r,i){var a=Tx(),o=this.ao(e,t);Ng("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.ho(s,r,i),this.lo(e,o,s,n).then((function(t){return Ng("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Ag("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=Ix[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}}]),e}());function Px(){return"undefined"!=typeof document?document:null}function Ox(e){return new h_(e,!0)}var Dx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;f(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return m(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Ng("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),Lx=function(){function e(t,n,r,i,a,o,s,u){f(this,e),this.Ws=t,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Dx(t,n)}return m(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,(function(){return e.Mo()})))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===jg.RESOURCE_EXHAUSTED?(Rg(n.toString()),Rg("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===jg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Vo===n&&e.Ko(i,a)}),(function(n){t((function(){var t=new Mg(jg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)}))}))}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr((function(){r((function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,(function(){return n.No()&&(n.state=3),Promise.resolve()})),n.listener.Jr()}))})),this.stream.Zr((function(e){r((function(){return n.Go(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao(et(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Go",value:function(e){return Ng("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget((function(){return t.Vo===e?n():(Ng("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),jx=function(e){g(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return f(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return m(n,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Og()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Dg(void 0===t||"string"==typeof t),Pk.fromBase64String(t||"")):(Dg(void 0===t||t instanceof Uint8Array),Pk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?jg.UNKNOWN:Xw(e.code);return new Mg(t,e.message||"")}(o);n=new r_(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=k_(e,u.document.name),l=v_(u.document.updateTime),h=u.document.createTime?v_(u.document.createTime):Zg.min(),f=new ib({mapValue:{fields:u.document.fields}}),d=ob.newFoundDocument(c,l,h,f),p=u.targetIds||[],v=u.removedTargetIds||[];n=new t_(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=k_(e,m.document),g=m.readTime?v_(m.readTime):Zg.min(),k=ob.newNoDocument(y,g),b=m.removedTargetIds||[];n=new t_([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=k_(e,w.document),x=w.removedTargetIds||[];n=new t_([],x,_,null)}else{if(!("filter"in t))return Og();t.filter;var E=t.filter;E.targetId;var S=E.count||0,C=new Qw(S),T=E.targetId;n=new n_(T,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Zg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Zg.min():t.readTime?v_(t.readTime):Zg.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=__(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=Ob(r)?{documents:C_(e,r)}:{query:T_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=d_(e,t.resumeToken):t.snapshotVersion.compareTo(Zg.min())>0&&(n.readTime=f_(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Og()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=__(this.serializer),t.removeTarget=e,this.Fo(t)}}]),n}(Lx),Mx=function(e){g(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return f(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.Ho=!1,u}return m(n,[{key:"Jo",get:function(){return this.Ho}},{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,Uc(k(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Dg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(Dg(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?v_(e.updateTime):v_(t);return n.isEqual(Zg.min())&&(n=v_(t)),new Tw(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=v_(e.commitTime);return this.listener.Zo(n,t)}return Dg(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=__(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return S_(t.serializer,e)}))};this.Fo(n)}}]),n}(Lx),Fx=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.eu=!1,o}return m(n,[{key:"nu",value:function(){if(this.eu)throw new Mg(jg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.connection.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Mg(jg.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),s=o[0],u=o[1];return i.connection.fo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jg.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Mg(jg.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.eu=!0}}]),n}(function(){return m((function e(){f(this,e)}))}());var Ux=function(){function e(t,n){f(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return m(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?(Rg(t),this.ru=!1):Ng("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),Vx=m((function e(t,n,r,i,a){var o=this;f(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr((function(e){r.enqueueAndForget(et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Jx(o),!e.t0){e.next=5;break}return Ng("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Lg(t)).du.add(4),e.next=4,qx(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,zx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.mu=new Ux(r,i)}));function zx(e){return Bx.apply(this,arguments)}function Bx(){return Bx=et(Ye().mark((function e(t){var n,r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jx(t)){e.next=18;break}n=S(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Bx.apply(this,arguments)}function qx(e){return Wx.apply(this,arguments)}function Wx(){return Wx=et(Ye().mark((function e(t){var n,r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Wx.apply(this,arguments)}function Hx(e,t){var n=Lg(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),Xx(n)?Yx(n):CE(n).No()&&Gx(n,t))}function Kx(e,t){var n=Lg(e),r=CE(n);n.fu.delete(t),r.No()&&Qx(n,t),0===n.fu.size&&(r.No()?r.$o():Jx(n)&&n.mu.set("Unknown"))}function Gx(e,t){e.gu.Ot(t.targetId),CE(e).jo(t)}function Qx(e,t){e.gu.Ot(t),CE(e).Wo(t)}function Yx(e){e.gu=new a_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),CE(e).start(),e.mu.ou()}function Xx(e){return Jx(e)&&!CE(e).xo()&&e.fu.size>0}function Jx(e){return 0===Lg(e).du.size}function Zx(e){e.gu=void 0}function $x(e){return eE.apply(this,arguments)}function eE(){return eE=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach((function(e,n){Gx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}function tE(e,t){return nE.apply(this,arguments)}function nE(){return nE=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zx(t),Xx(t)?(t.mu.au(n),Yx(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(e,t,n){return iE.apply(this,arguments)}function iE(){return iE=et(Ye().mark((function e(t,n,r){var i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof r_&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=et(Ye().mark((function e(t,n){var r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=S(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.fu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.fu.delete(o),t.gu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ng("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,aE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof t_?t.gu.Kt(n):n instanceof n_?t.gu.Jt(n):t.gu.zt(n),r.isEqual(Zg.min())){e.next=29;break}return e.prev=14,e.next=17,dx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.fu.get(r);i&&e.fu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(Pk.EMPTY_BYTE_STRING,n.snapshotVersion)),Qx(e,t);var r=new F_(n.target,t,1,n.sequenceNumber);Gx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ng("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,aE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),iE.apply(this,arguments)}function aE(e,t,n){return oE.apply(this,arguments)}function oE(){return oE=et(Ye().mark((function e(t,n,r){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pk(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,qx(t);case 5:t.mu.set("Offline"),r||(r=function(){return dx(t.localStore)}),t.asyncQueue.enqueueRetryable(et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ng("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,zx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function sE(e,t){return t().catch((function(n){return aE(e,n,t)}))}function uE(e){return cE.apply(this,arguments)}function cE(){return cE=et(Ye().mark((function e(t){var n,r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Lg(t),r=TE(n),i=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!lE(n)){e.next=19;break}return e.prev=3,e.next=6,mx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,hE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,aE(n,e.t0);case 17:e.next=2;break;case 19:fE(n)&&dE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),cE.apply(this,arguments)}function lE(e){return Jx(e)&&e.lu.length<10}function hE(e,t){e.lu.push(t);var n=TE(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function fE(e){return Jx(e)&&!TE(e).xo()&&e.lu.length>0}function dE(e){TE(e).start()}function pE(e){return vE.apply(this,arguments)}function vE(){return vE=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:TE(t).tu();case 1:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function mE(e){return yE.apply(this,arguments)}function yE(){return yE=et(Ye().mark((function e(t){var n,r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=TE(t),r=S(t.lu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Yo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function gE(e,t,n){return kE.apply(this,arguments)}function kE(){return kE=et(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lu.shift(),a=Kw.from(i,n,r),e.next=3,sE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,uE(t);case 5:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}function bE(e,t){return wE.apply(this,arguments)}function wE(){return wE=et(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&TE(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=et(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Yw(i=n.code)||i===jg.ABORTED){e.next=7;break}return r=t.lu.shift(),TE(t).Oo(),e.next=5,sE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,uE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:fE(t)&&dE(t);case 5:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}function _E(e,t){return xE.apply(this,arguments)}function xE(){return xE=et(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Lg(t)).asyncQueue.verifyOperationInProgress(),Ng("RemoteStore","RemoteStore received new credentials"),i=Jx(r),r.du.add(3),e.next=6,qx(r);case 6:return i&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,zx(r);case 12:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function EE(e,t){return SE.apply(this,arguments)}function SE(){return SE=et(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lg(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,zx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,qx(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function CE(e){return e.yu||(e.yu=function(e,t,n){var r=Lg(e);return r.nu(),new jx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:$x.bind(null,e),Zr:tE.bind(null,e),zo:rE.bind(null,e)}),e.wu.push(function(){var t=et(Ye().mark((function t(n){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),Xx(e)?Yx(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:Zx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}function TE(e){return e.pu||(e.pu=function(e,t,n){var r=Lg(e);return r.nu(),new Mx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:pE.bind(null,e),Zr:bE.bind(null,e),Xo:mE.bind(null,e),Zo:gE.bind(null,e)}),e.wu.push(function(){var t=et(Ye().mark((function t(n){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,uE(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(Ng("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}var IE=function(){function e(t,n,r,i,a){f(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Fg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return m(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mg(jg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function NE(e,t){if(Rg("AsyncQueue","".concat(t,": ").concat(e)),pk(e))return new Mg(jg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var RE=function(){function e(t){f(this,e),this.comparator=t?function(e,n){return t(e,n)||rk.comparator(e.key,n.key)}:function(e,t){return rk.comparator(e.key,t.key)},this.keyedMap=nw(),this.sortedSet=new Sk(this.comparator)}return m(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),AE=function(){function e(){f(this,e),this.Iu=new Sk(rk.comparator)}return m(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):Og():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),PE=function(){function e(t,n,r,i,a,o,s,u,c){f(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return m(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,RE.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),OE=m((function e(){f(this,e),this.Eu=void 0,this.listeners=[]})),DE=m((function e(){f(this,e),this.queries=new Zb((function(e){return Kb(e)}),Hb),this.onlineState="Unknown",this.Au=new Set}));function LE(e,t){return jE.apply(this,arguments)}function jE(){return jE=et(Ye().mark((function e(t,n){var r,i,a,o,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lg(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new OE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=NE(e.t0,"Initialization of query '".concat(Gb(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&zE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),jE.apply(this,arguments)}function ME(e,t){return FE.apply(this,arguments)}function FE(){return FE=et(Ye().mark((function e(t,n){var r,i,a,o,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lg(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}function UE(e,t){var n,r=Lg(e),i=!1,a=S(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=S(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.vu(o)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}u.Eu=o}}}catch(h){a.e(h)}finally{a.f()}i&&zE(r)}function VE(e,t,n){var r=Lg(e),i=r.queries.get(t);if(i){var a,o=S(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function zE(e){e.Au.forEach((function(e){e.next()}))}var BE=function(){function e(t,n,r){f(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return m(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=S(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new PE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),a=!0):this.Du(e,this.onlineState)&&(this.Cu(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=PE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}();var qE=m((function e(t){f(this,e),this.key=t})),WE=m((function e(t){f(this,e),this.key=t})),HE=function(){function e(t,n){f(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=cw(),this.mutatedKeys=cw(),this.Ku=Xb(t),this.Gu=new RE(this.Ku)}return m(e,[{key:"Qu",get:function(){return this.Lu}},{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new AE,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=Qb(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Wu(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ku(h,u)>0||c&&n.Ku(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,ju:r,Mi:s,mutatedKeys:a}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.ju.Tu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Og()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],s=0===this.Uu.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new PE(this.query,e.Gu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new AE,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=cw(),this.Gu.forEach((function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))}));var n=[];return t.forEach((function(t){e.Uu.has(t)||n.push(new WE(t))})),this.Uu.forEach((function(e){t.has(e)||n.push(new qE(e))})),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=cw();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return PE.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),KE=m((function e(t,n,r){f(this,e),this.query=t,this.targetId=n,this.view=r})),GE=m((function e(t){f(this,e),this.key=t,this.ec=!1})),QE=function(){function e(t,n,r,i,a,o){f(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Zb((function(e){return Kb(e)}),Hb),this.ic=new Map,this.rc=new Set,this.oc=new Sk(rk.comparator),this.uc=new Map,this.cc=new J_,this.ac={},this.hc=new Map,this.lc=H_.bn(),this.onlineState="Unknown",this.fc=void 0}return m(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function YE(e,t){return XE.apply(this,arguments)}function XE(){return XE=et(Ye().mark((function e(t,n){var r,i,a,o,s,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ES(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,yx(r.localStore,Bb(n));case 8:return s=e.sent,r.isPrimaryClient&&Hx(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,JE(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),XE.apply(this,arguments)}function JE(e,t,n,r,i){return ZE.apply(this,arguments)}function ZE(){return ZE=et(Ye().mark((function e(t,n,r,i,a){var o,s,u,c,l,h;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=et(Ye().mark((function e(t,n,r,i){var a,o,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.zu(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,bx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.zu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(mS(t,n.targetId,s.Yu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,bx(t.localStore,n,!0);case 3:return o=e.sent,s=new HE(n,o.Wi),u=s.zu(o.documents),c=e_.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),mS(t,r,l.Yu),h=new KE(n,r,s),e.abrupt("return",(t.sc.set(n,h),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function $E(e,t){return eS.apply(this,arguments)}function eS(){return eS=et(Ye().mark((function e(t,n){var r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lg(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Hb(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,gx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Kx(r.remoteStore,i.targetId),pS(r,i.targetId)})).catch(hk);case 9:e.next=14;break;case 11:return pS(r,i.targetId),e.next=14,gx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t,n){return nS.apply(this,arguments)}function nS(){return nS=et(Ye().mark((function e(t,n,r){var i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=SS(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Lg(e),a=Jg.now(),o=t.reduce((function(e,t){return e.add(t.key)}),cw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=ew(),u=cw();return i.Ki.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=S(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Dw(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Mw(c.key,l,ab(l.value.mapValue),Iw.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:rw(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new Sk(Yg)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,kS(i,a.changes);case 9:return e.next=11,uE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=NE(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),nS.apply(this,arguments)}function rS(e,t){return iS.apply(this,arguments)}function iS(){return iS=et(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),e.prev=1,e.next=4,px(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Dg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Dg(n.ec):e.removedDocuments.size>0&&(Dg(n.ec),n.ec=!1))})),e.next=8,kS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,hk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),iS.apply(this,arguments)}function aS(e,t,n){var r=Lg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.Ru(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Lg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=S(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ru(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&zE(n)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function oS(e,t,n){return sS.apply(this,arguments)}function sS(){return sS=et(Ye().mark((function e(t,n,r){var i,a,o,s,u,c;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Lg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Sk(rk.comparator)).insert(o,ob.newNoDocument(o,Zg.min())),u=cw().add(o),c=new $w(Zg.min(),new Map,new Ik(Yg),s,u),e.next=9,rS(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),gS(i),e.next=16;break;case 14:return e.next=16,gx(i.localStore,n,!1).then((function(){return pS(i,n,r)})).catch(hk);case 16:case"end":return e.stop()}}),e)}))),sS.apply(this,arguments)}function uS(e,t){return cS.apply(this,arguments)}function cS(){return cS=et(Ye().mark((function e(t,n){var r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),i=n.batch.batchId,e.prev=1,e.next=4,fx(r.localStore,n);case 4:return a=e.sent,dS(r,i,null),fS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,kS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,hk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),cS.apply(this,arguments)}function lS(e,t,n){return hS.apply(this,arguments)}function hS(){return hS=et(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lg(t),e.prev=1,e.next=4,function(e,t){var n=Lg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Dg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,dS(i,n,r),fS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,kS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,hk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hS.apply(this,arguments)}function fS(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function dS(e,t,n){var r=Lg(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function pS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=S(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach((function(t){e.cc.containsKey(t)||vS(e,t)}))}function vS(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(Kx(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),gS(e))}function mS(e,t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof qE?(e.cc.addReference(a.key,t),yS(e,a)):a instanceof WE?(Ng("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||vS(e,a.key)):Og()}}catch(o){i.e(o)}finally{i.f()}}function yS(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Ng("SyncEngine","New document in limbo: "+n),e.rc.add(r),gS(e))}function gS(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new rk(ek.fromString(t)),r=e.lc.next();e.uc.set(r,new GE(n)),e.oc=e.oc.insert(n,r),Hx(e.remoteStore,new F_(Bb(jb(n.path)),r,2,vk.ct))}}function kS(e,t,n){return bS.apply(this,arguments)}function bS(){return bS=et(Ye().mark((function e(t,n,r){var i,a,o,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Lg(t),a=[],o=[],s=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){s.push(i.dc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=ox.Di(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.nc.zo(a),e.next=9,function(){var e=et(Ye().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return dk.forEach(n,(function(t){return dk.forEach(t.Vi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return dk.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),pk(e.t0)){e.next=10;break}throw e.t0;case 10:Ng("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=S(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Li.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Li=r.Li.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function wS(e,t){return _S.apply(this,arguments)}function _S(){return _S=et(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Lg(t)).currentUser.isEqual(n)){e.next=11;break}return Ng("SyncEngine","User change. New user:",n.toKey()),e.next=5,lx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Mg(jg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,kS(r,i.Qi);case 11:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function xS(e,t){var n=Lg(e),r=n.uc.get(t);if(r&&r.ec)return cw().add(r.key);var i=cw(),a=n.ic.get(t);if(!a)return i;var o,s=S(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.sc.get(u);i=i.unionWith(c.view.Qu)}}catch(l){s.e(l)}finally{s.f()}return i}function ES(e){var t=Lg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oS.bind(null,t),t.nc.zo=UE.bind(null,t.eventManager),t.nc.wc=VE.bind(null,t.eventManager),t}function SS(e){var t=Lg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lS.bind(null,t),t}var CS=function(){function e(){f(this,e),this.synchronizeTabs=!1}return m(e,[{key:"initialize",value:function(){var e=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Ox(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return cx(this.persistence,new sx,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new rx(ax.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new xx}},{key:"terminate",value:function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),TS=function(){function e(){f(this,e)}return m(e,[{key:"initialize",value:function(){var e=et(Ye().mark((function e(t,n){var r=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return aS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wS.bind(null,this.syncEngine),e.next=12,EE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new DE}},{key:"createDatastore",value:function(e){var t,n=Ox(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ax(t));return function(e,t,n,r){return new Fx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return aS(o.syncEngine,e,0)},a=Sx.D()?new Sx:new Ex,new Vx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new QE(e,t,n,r,i,a);return o&&(s.fc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lg(t),Ng("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,qx(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var IS=function(){function e(t){f(this,e),this.observer=t,this.muted=!1}return m(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):Rg("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),NS=function(){function e(t,n,r,i){var a=this;f(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sg.UNAUTHENTICATED,this.clientId=Qg.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ng("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ng("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return m(e,[{key:"getConfiguration",value:function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Mg(jg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Fg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(et(Ye().mark((function n(){var r;return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=NE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function RS(e,t){return AS.apply(this,arguments)}function AS(){return AS=et(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ng("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,lx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),AS.apply(this,arguments)}function PS(e,t){return OS.apply(this,arguments)}function OS(){return OS=et(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,LS(t);case 3:return r=e.sent,Ng("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return _E(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return _E(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function DS(e){return"FirebaseError"===e.name?e.code===jg.FAILED_PRECONDITION||e.code===jg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function LS(e){return jS.apply(this,arguments)}function jS(){return jS=et(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Ng("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,RS(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),DS(n=e.t0)){e.next=13;break}throw n;case 13:return Ag("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,RS(t,new CS);case 16:e.next=21;break;case 18:return Ng("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,RS(t,new CS);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),jS.apply(this,arguments)}function MS(e){return FS.apply(this,arguments)}function FS(){return FS=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Ng("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,PS(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Ng("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,PS(t,new TS);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function US(e){return MS(e).then((function(e){return e.syncEngine}))}function VS(e){return zS.apply(this,arguments)}function zS(){return zS=et(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MS(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=YE.bind(null,n.syncEngine),r.onUnlisten=$E.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function BS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fg;return e.asyncQueue.enqueueAndForget(et(Ye().mark((function i(){return Ye().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new IS({next:function(a){t.enqueueAndForget((function(){return ME(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Mg(jg.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Mg(jg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new BE(jb(n.path),a,{includeMetadataChanges:!0,xu:!0});return LE(e,o)},i.next=3,VS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function qS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fg;return e.asyncQueue.enqueueAndForget(et(Ye().mark((function i(){return Ye().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new IS({next:function(n){t.enqueueAndForget((function(){return ME(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Mg(jg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new BE(n,a,{includeMetadataChanges:!0,xu:!0});return LE(e,o)},i.next=3,VS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var WS=new Map;function HS(e,t,n){if(!n)throw new Mg(jg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function KS(e){if(!rk.isDocumentKey(e))throw new Mg(jg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function GS(e){if(rk.isDocumentKey(e))throw new Mg(jg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function QS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Og()}function YS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Mg(jg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=QS(e);throw new Mg(jg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var XS=function(){function e(t){var n;if(f(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Mg(jg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mg(jg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Mg(jg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return m(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),JS=function(){function e(t,n,r,i){f(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XS({}),this._settingsFrozen=!1}return m(e,[{key:"app",get:function(){if(!this._app)throw new Mg(jg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Mg(jg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vg;switch(e.type){case"firstParty":return new Wg(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Mg(jg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=WS.get(e);t&&(Ng("ComponentProvider","Removing Datastore"),WS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ZS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=YS(e,JS))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Ag("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Sg.MOCK_USER;else{o=Hn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Mg(jg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Sg(u)}e._authCredentials=new zg(new Ug(o,s))}}var $S=function(){function e(t,n,r){f(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return m(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new tC(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),eC=function(){function e(t,n,r){f(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return m(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),tC=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,jb(i)))._path=i,a.type="collection",a}return m(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new $S(this.firestore,null,new rk(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(eC);function nC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kr(e),HS("collection","path",t),e instanceof JS){var a=ek.fromString.apply(ek,[t].concat(r));return GS(a),new tC(e,null,a)}if(!(e instanceof $S||e instanceof tC))throw new Mg(jg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ek.fromString.apply(ek,[t].concat(r)));return GS(o),new tC(e.firestore,null,o)}function rC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kr(e),1===arguments.length&&(t=Qg.A()),HS("doc","path",t),e instanceof JS){var a=ek.fromString.apply(ek,[t].concat(r));return KS(a),new $S(e,null,new rk(a))}if(!(e instanceof $S||e instanceof tC))throw new Mg(jg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ek.fromString.apply(ek,[t].concat(r)));return KS(o),new $S(e.firestore,e instanceof tC?e.converter:null,new rk(o))}var iC=function(){function e(){var t=this;f(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Dx(this,"async_queue_retry"),this.qc=function(){var e=Px();e&&Ng("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=Px();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return m(e,[{key:"isShuttingDown",get:function(){return this.Oc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=Px();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise((function(){}));var n=new Fg;return this.Kc((function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.kc.push(e),t.Gc()}))}},{key:"Gc",value:function(){var e=et(Ye().mark((function e(){var t=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),pk(e.t0)){e.next=12;break}throw e.t0;case 12:Ng("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao((function(){return t.Gc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then((function(){return t.Fc=!0,e().catch((function(e){t.Mc=e,t.Fc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Rg("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Fc=!1,e}))}));return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var i=IE.createAndSchedule(this,e,t,n,(function(e){return r.Qc(e)}));return this.$c.push(i),i}},{key:"Uc",value:function(){this.Mc&&Og()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=et(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=S(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=S(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();var aC=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new iC,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return m(n,[{key:"_terminate",value:function(){return this._firestoreClient||sC(this),this._firestoreClient.terminate()}}]),n}(JS);function oC(e){return e._firestoreClient||sC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function sC(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Vk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new NS(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var uC=function(){function e(t){f(this,e),this._byteString=t}return m(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Pk.fromBase64String(t))}catch(t){throw new Mg(jg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Pk.fromUint8Array(t))}}]),e}(),cC=function(){function e(){f(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Mg(jg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nk(n)}return m(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var lC=m((function e(t){f(this,e),this._methodName=t})),hC=function(){function e(t,n){if(f(this,e),!isFinite(t)||t<-90||t>90)throw new Mg(jg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Mg(jg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return m(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Yg(this._lat,e._lat)||Yg(this._long,e._long)}}]),e}(),fC=/^__.*__$/,dC=function(){function e(t,n,r){f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Mw(e,this.data,this.fieldMask,t,this.fieldTransforms):new jw(e,this.data,t,this.fieldTransforms)}}]),e}(),pC=function(){function e(t,n,r){f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return new Mw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function vC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Og()}}var mC=function(){function e(t,n,r,i,a,o){f(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return m(e,[{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}},{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return AC(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(vC(this.Yc)&&fC.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}]),e}(),yC=function(){function e(t,n,r){f(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ox(t)}return m(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new mC({Yc:e,methodName:t,oa:n,path:nk.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function gC(e){var t=e._freezeSettings(),n=Ox(e._databaseId);return new yC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ua(a.merge||a.mergeFields?2:0,t,n,i);TC("Data must be an object, but it was:",o,r);var s,u,c=SC(r,o);if(a.merge)s=new Rk(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=S(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var d=IC(t,l.value,n);if(!o.contains(d))throw new Mg(jg.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));PC(h,d)||h.push(d)}}catch(p){f.e(p)}finally{f.f()}s=new Rk(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new dC(new ib(c),s,u)}var bC=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Yc)throw 1===e.Yc?e.ia("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ia("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(lC);function wC(e,t,n,r){var i=e.ua(1,t,n);TC("Data must be an object, but it was:",i,r);var a=[],o=ib.empty();xk(r,(function(e,r){var s=RC(t,e,n);r=kr(r);var u=i.na(s);if(r instanceof bC)a.push(s);else{var c=EC(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Rk(a);return new pC(o,s,i.fieldTransforms)}function _C(e,t,n,r,i,a){var o=e.ua(1,t,n),s=[IC(t,r,n)],u=[i];if(a.length%2!=0)throw new Mg(jg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(IC(t,a[c])),u.push(a[c+1]);for(var l=[],h=ib.empty(),f=s.length-1;f>=0;--f)if(!PC(l,s[f])){var d=s[f],p=u[f];p=kr(p);var v=o.na(d);if(p instanceof bC)l.push(d);else{var m=EC(p,v);null!=m&&(l.push(d),h.set(d,m))}}var y=new Rk(l);return new pC(h,y,o.fieldTransforms)}function xC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return EC(n,e.ua(r?4:3,t))}function EC(e,t){if(CC(e=kr(e)))return TC("Unsupported field value:",t,e),SC(e,t);if(e instanceof lC)return function(e,t){if(!vC(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=S(e);try{for(a.s();!(n=a.n()).done;){var o=EC(n.value,t.sa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=kr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Jg.fromDate(e);return{timestampValue:f_(t.serializer,n)}}if(e instanceof Jg){var r=new Jg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:f_(t.serializer,r)}}if(e instanceof hC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uC)return{bytesValue:d_(t.serializer,e._byteString)};if(e instanceof $S){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ia("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:m_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(QS(e)))}(e,t)}function SC(e,t){var n={};return Ek(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xk(e,(function(e,r){var i=EC(r,t.Xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function CC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Jg||e instanceof hC||e instanceof uC||e instanceof $S||e instanceof lC)}function TC(e,t,n){if(!CC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=QS(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function IC(e,t,n){if((t=kr(t))instanceof cC)return t._internalPath;if("string"==typeof t)return RC(e,t);throw AC("Field path arguments must be of type string or ",e,!1,void 0,n)}var NC=new RegExp("[~\\*/\\[\\]]");function RC(e,t,n){if(t.search(NC)>=0)throw AC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return x(cC,h(t.split(".")))._internalPath}catch(r){throw AC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function AC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Mg(jg.INVALID_ARGUMENT,s+e+u)}function PC(e,t){return e.some((function(e){return e.isEqual(t)}))}var OC=function(){function e(t,n,r,i,a){f(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return m(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new $S(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new DC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(LC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),DC=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){return Uc(k(n.prototype),"data",this).call(this)}}]),n}(OC);function LC(e,t){return"string"==typeof t?RC(e,t):t instanceof cC?t._internalPath:t._delegate._internalPath}function jC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Mg(jg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var MC=m((function e(){f(this,e)})),FC=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n)}(MC);function UC(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof MC&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof BC})).length,n=e.filter((function(e){return e instanceof VC})).length;if(t>1||t>0&&n>0)throw new Mg(jg.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=S(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var VC=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return m(n,[{key:"_apply",value:function(e){var t=this._parse(e);return HC(e._query,t),new eC(e.firestore,e.converter,qb(e._query,t))}},{key:"_parse",value:function(e){var t=gC(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Mg(jg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){WC(o,a);var u,c=[],l=S(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push(qC(r,e,h))}}catch(f){l.e(f)}finally{l.f()}s={arrayValue:{values:c}}}else s=qC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||WC(o,a),s=xC(n,"where",o,"in"===a||"not-in"===a);return db.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(FC);function zC(e,t,n){var r=t,i=LC("where",e);return VC._create(i,r,n)}var BC=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return m(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:pb.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=S(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;HC(r,a),r=qb(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new eC(e.firestore,e.converter,qb(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(MC);function qC(e,t,n){if("string"==typeof(n=kr(n))){if(""===n)throw new Mg(jg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vb(t)&&-1!==n.indexOf("/"))throw new Mg(jg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ek.fromString(n));if(!rk.isDocumentKey(r))throw new Mg(jg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Xk(e,new rk(r))}if(n instanceof $S)return Xk(e,n._key);throw new Mg(jg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(QS(n),"."))}function WC(e,t){if(!Array.isArray(e)||0===e.length)throw new Mg(jg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function HC(e,t){if(t.isInequality()){var n=Ub(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Mg(jg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Fb(e);null!==i&&KC(e,r,i)}var a=function(e,t){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i,a=S(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Mg(jg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Mg(jg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function KC(e,t,n){if(!n.isEqual(t))throw new Mg(jg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var GC=function(){function e(){f(this,e)}return m(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(qk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Og()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return xk(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new hC(Lk(e.latitude),Lk(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Fk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Uk(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Dk(e);return new Jg(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ek.fromString(e);Dg(M_(n));var r=new zk(n.get(1),n.get(3)),i=new rk(n.popFirst(5));return r.isEqual(t)||Rg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function QC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var YC=function(){function e(t,n){f(this,e),this.hasPendingWrites=t,this.fromCache=n}return m(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),XC=function(e){g(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return f(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return m(n,[{key:"exists",value:function(){return Uc(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new JC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(LC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(OC),JC=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Uc(k(n.prototype),"data",this).call(this,e)}}]),n}(XC),ZC=function(){function e(t,n,r,i){f(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new YC(i.hasPendingWrites,i.fromCache),this.query=r}return m(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new JC(n._firestore,n._userDataWriter,r.key,r,new YC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Mg(jg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new JC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new YC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new JC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new YC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:$C(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function $C(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Og()}}function eT(e){e=YS(e,$S);var t=YS(e.firestore,aC);return BS(oC(t),e._key).then((function(n){return sT(t,e,n)}))}var tT=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new uC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $S(this.firestore,null,t)}}]),n}(GC);function nT(e){e=YS(e,eC);var t=YS(e.firestore,aC),n=oC(t),r=new tT(t);return jC(e._query),qS(n,e._query).then((function(n){return new ZC(t,r,e,n)}))}function rT(e,t,n){e=YS(e,$S);for(var r=YS(e.firestore,aC),i=gC(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return oT(r,[("string"==typeof(t=kr(t))||t instanceof cC?_C(i,"updateDoc",e._key,t,n,o):wC(i,"updateDoc",e._key,t)).toMutation(e._key,Iw.exists(!0))])}function iT(e){return oT(YS(e.firestore,aC),[new qw(e._key,Iw.none())])}function aT(e,t){var n=YS(e.firestore,aC),r=rC(e),i=QC(e.converter,t);return oT(n,[kC(gC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Iw.exists(!1))]).then((function(){return r}))}function oT(e,t){return function(e,t){var n=new Fg;return e.asyncQueue.enqueueAndForget(et(Ye().mark((function r(){return Ye().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=tS,r.next=3,US(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(oC(e),t)}function sT(e,t,n){var r=n.docs.get(t._key),i=new tT(e);return new XC(e,i,t._key,r,new YC(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Cg=e}(hi),oi(new br("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new aC(new Bg(e.getProvider("auth-internal")),new Kg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Mg(jg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zk(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),pi(Eg,"3.10.1",e),pi(Eg,"3.10.1","esm2017")}();var uT,cT="firebasestorage.googleapis.com",lT="storageBucket",hT=12e4,fT=6e5,dT=function(e){g(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f(this,n),(i=t.call(this,pT(e),"Firebase Storage: ".concat(r," (").concat(pT(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(w(i),n.prototype),i}return m(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return pT(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}($n);function pT(e){return"storage/"+e}function vT(){return new dT(uT.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function mT(){return new dT(uT.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yT(){return new dT(uT.CANCELED,"User canceled the upload/download.")}function gT(){return new dT(uT.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kT(e){return new dT(uT.INVALID_ARGUMENT,e)}function bT(){return new dT(uT.APP_DELETED,"The Firebase app was deleted.")}function wT(e,t){return new dT(uT.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function _T(e){throw new dT(uT.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(uT||(uT={}));var xT,ET=function(){function e(t,n){f(this,e),this.bucket=t,this.path_=n}return m(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(iN){return new e(t,"")}if(""===r.path)return r;throw i=t,new dT(uT.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===cT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new dT(uT.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),ST=function(){function e(t){f(this,e),this.promise_=Promise.reject(t)}return m(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function CT(e){return"string"===typeof e||e instanceof String}function TT(e){return IT()&&e instanceof Blob}function IT(){return"undefined"!==typeof Blob&&!Qn()}function NT(e,t,n,r){if(r<t)throw kT("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw kT("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function RT(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function AT(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function PT(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(xT||(xT={}));var OT=function(){function e(t,n,r,i,a,o,s,u,c,l,h){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];f(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return m(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(iN){i(iN)}else if(null!==a){var s=vT();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?bT():yT());else i(mT())}};this.canceled_?t(0,new DT(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function f(){a&&clearTimeout(a)}function d(e){if(c)f();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return f(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return f(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),h(a)}}var p=!1;function v(e){p||(p=!0,f(),c||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new DT(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===xT.NO_ERROR,a=r.getStatus();if(!n||PT(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===xT.ABORT;t(!1,new DT(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new DT(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),DT=m((function e(t,n,r){f(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function LT(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function jT(){for(var e=LT(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(IT())return new Blob(n);throw new dT(uT.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function MT(e){if("undefined"===typeof atob)throw t="base-64",new dT(uT.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var FT={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},UT=m((function e(t,n){f(this,e),this.data=t,this.contentType=n||null}));function VT(e,t){switch(e){case FT.RAW:return new UT(zT(t));case FT.BASE64:case FT.BASE64URL:return new UT(BT(e,t));case FT.DATA_URL:return new UT(function(e){var t=new qT(e);return t.base64?BT(FT.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(iN){throw wT(FT.DATA_URL,"Malformed data URL.")}return zT(t)}(t.rest)}(t),new qT(t).contentType)}throw vT()}function zT(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function BT(e,t){switch(e){case FT.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw wT(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case FT.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw wT(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=MT(t)}catch(iN){if(iN.message.includes("polyfill"))throw iN;throw wT(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var qT=m((function e(t){f(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw wT(FT.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var WT=function(){function e(t,n){f(this,e);var r=0,i="";TT(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return m(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(TT(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(IT()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(jT.apply(null,i))}var a=n.map((function(e){return CT(e)?VT(FT.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function HT(e){var t;try{t=JSON.parse(e)}catch(iN){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function KT(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function GT(e,t){return t}var QT=m((function e(t,n,r,i){f(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||GT})),YT=null;function XT(){if(YT)return YT;var e=[];e.push(new QT("bucket")),e.push(new QT("generation")),e.push(new QT("metageneration")),e.push(new QT("name","fullPath",!0));var t=new QT("name");t.xform=function(e,t){return function(e){return!CT(e)||e.length<2?e:KT(e)}(t)},e.push(t);var n=new QT("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new QT("timeCreated")),e.push(new QT("updated")),e.push(new QT("md5Hash",null,!0)),e.push(new QT("cacheControl",null,!0)),e.push(new QT("contentDisposition",null,!0)),e.push(new QT("contentEncoding",null,!0)),e.push(new QT("contentLanguage",null,!0)),e.push(new QT("contentType",null,!0)),e.push(new QT("metadata","customMetadata",!0)),YT=e}function JT(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new ET(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ZT(e,t,n){var r=HT(t);return null===r?null:JT(e,r,n)}function $T(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var eI=m((function e(t,n,r,i){f(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function tI(e){if(!e)throw vT()}function nI(e,t){return function(n,r){var i=ZT(e,r,t);return tI(null!==i),i}}function rI(e,t){return function(n,r){var i=ZT(e,r,t);return tI(null!==i),function(e,t,n,r){var i=HT(t);if(null===i)return null;if(!CT(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return RT("/b/"+o(i)+"/o/"+o(a),n,r)+AT({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function iI(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new dT(uT.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new dT(uT.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new dT(uT.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new dT(uT.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function aI(e){var t=iI(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new dT(uT.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function oI(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function sI(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=oI(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+$T(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=WT.getBlob(c,r,l);if(null===h)throw gT();var f={name:u.fullPath},d=RT(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new eI(d,"POST",nI(e,n),p);return v.urlParams=f,v.headers=o,v.body=h.uploadData(),v.errorHandler=iI(t),v}var uI=null,cI=function(){function e(){var t=this;f(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xT.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=xT.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=xT.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return m(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw _T("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw _T("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw _T("cannot .getStatus() before sending");try{return this.xhr_.status}catch(iN){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw _T("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw _T("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),lI=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(cI);function hI(){return uI?uI():new lI}var fI=function(){function e(t,n){f(this,e),this._service=t,this._location=n instanceof ET?n:ET.makeFromUrl(n,t.host)}return m(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new ET(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return KT(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new ET(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new dT(uT.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function dI(e,t,n){e._throwIfRoot("uploadBytes");var r=sI(e.storage,e._location,XT(),new WT(t,!0),n);return e.storage.makeRequestWithTokens(r,hI).then((function(t){return{metadata:t,ref:e}}))}function pI(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=RT(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new eI(r,"GET",rI(e,n),i);return a.errorHandler=aI(t),a}(e.storage,e._location,XT());return e.storage.makeRequestWithTokens(t,hI).then((function(e){if(null===e)throw new dT(uT.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function vI(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ET(e._location.bucket,n);return new fI(e.storage,r)}function mI(e,t){if(e instanceof kI){var n=e;if(null==n._bucket)throw new dT(uT.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lT+"' property when initializing the app?");var r=new fI(n,n._bucket);return null!=t?mI(r,t):r}return void 0!==t?vI(e,t):e}function yI(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof kI)return new fI(e,t);throw kT("To use ref(service, url), the first argument must be a Storage instance.")}return mI(e,t)}function gI(e,t){var n=null===t||void 0===t?void 0:t[lT];return null==n?null:ET.makeFromBucketSpec(n,e)}var kI=function(){function e(t,n,r,i,a){f(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=cT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hT,this._maxUploadRetryTime=fT,this._requests=new Set,this._bucket=null!=i?ET.makeFromBucketSpec(i,this._host):gI(this._host,this.app.options)}return m(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=ET.makeFromBucketSpec(this._url,e):this._bucket=gI(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){NT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){NT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=et(Ye().mark((function e(){var t,n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=et(Ye().mark((function e(){var t,n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new fI(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new ST(bT());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=AT(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new OT(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=et(Ye().mark((function e(t,n){var r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),bI="@firebase/storage",wI="0.11.2",_I="storage";function xI(e,t,n){return dI(e=kr(e),t,n)}function EI(e){return pI(e=kr(e))}function SI(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Hn(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function CI(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new kI(r,i,a,n,hi)}oi(new br(_I,CI,"PUBLIC").setMultipleInstances(!0)),pi(bI,wI,""),pi(bI,wI,"esm2017");var TI=fi({apiKey:"AIzaSyClmLHHI40s5L-VUY8h-TK0Su7zj6mmK44",authDomain:"bilza-8760c.firebaseapp.com",databaseURL:"https://bilza-8760c-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bilza-8760c",storageBucket:"bilza-8760c.appspot.com",messagingSenderId:"367213897697",appId:"1:367213897697:web:f0f333aa568505b76b14a0",measurementId:"G-TJ381HXYMH"}),II=kp(TI),NI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di(),t=arguments.length>1?arguments[1]:void 0,n=si(e=kr(e),_I).getImmediate({identifier:t}),r=zn("storage");return r&&SI.apply(void 0,[n].concat(h(r))),n}(TI),RI=function(e,t){var n="string"==typeof e?e:t||"(default)",r=si("object"==typeof e?e:di(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=zn("firestore");i&&ZS.apply(void 0,[r].concat(h(i)))}return r}(TI),AI=(Mc(TI),n.p+"static/media/cartlogo.f169fc8f6736261634c5.png"),PI=n.p+"static/media/profilelogo.7639ed4930050e0faff0.png",OI=n.p+"static/media/logo.1c89cd8b91ebd231965a.png",DI=function(){var e=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1];return nC(RI,"users"),(0,t.useEffect)((function(){II.onAuthStateChanged((function(e){if(e){var t=function(){var t=et(Ye().mark((function t(){var n,i;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=UC(nC(RI,"users"),zC("uid","==",e.uid)),t.next=3,nT(n);case 3:i=t.sent,r(i.docs.map((function(e){return Ze(Ze({},e.data()),{},{id:e.id})})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}else r(null)}))}),[]),n}(),n=Ee(),r=c((0,t.useState)([]),2),i=r[0],a=r[1];if(e){var o=function(){var t=et(Ye().mark((function t(){var n,r;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r="cart-".concat(e[0].uid),nT(nC(RI,r)).then((function(e){e.forEach((function(e){n.push(Ze(Ze({},e.data()),{},{id:e.id}))})),a(n)})).catch("Error error error");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o()}return(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("div",{className:"navbar",children:[(0,ht.jsx)("div",{className:"LeftContainer",children:(0,ht.jsx)("img",{src:OI})}),(0,ht.jsxs)("div",{className:"RightContainer",children:[!e&&(0,ht.jsxs)("nav",{children:[(0,ht.jsx)(Ke,{to:"/",children:(0,ht.jsx)("button",{children:"Domov"})}),(0,ht.jsx)(Ke,{to:"/signup",children:(0,ht.jsx)("button",{children:"Register"})}),(0,ht.jsx)(Ke,{to:"/login",children:(0,ht.jsx)("button",{children:"Login"})}),(0,ht.jsx)(Ke,{to:"/cart",children:(0,ht.jsxs)("div",{className:"cart-btn",children:[(0,ht.jsx)("img",{src:AI,alt:"no img"}),(0,ht.jsx)("span",{className:"cart-icon-css",children:"0"})]})}),(0,ht.jsx)(Ke,{to:"/userprofile",children:(0,ht.jsx)("img",{src:PI,className:"profile-icon"})})]}),e&&(0,ht.jsxs)("nav",{children:[(0,ht.jsx)(Ke,{to:"/",children:(0,ht.jsx)("button",{children:"Domov"})}),(0,ht.jsx)(Ke,{to:"/addproduct",children:(0,ht.jsx)("button",{children:"Prida\u0165 produkt"})}),(0,ht.jsxs)("div",{className:"cart-btn",children:[(0,ht.jsx)(Ke,{to:"/cartdata",children:(0,ht.jsx)("img",{src:AI,alt:"no img"})}),(0,ht.jsx)("button",{className:"cart-icon-css",children:i.length})]}),(0,ht.jsx)(Ke,{to:"/userprofile",children:(0,ht.jsx)("img",{src:PI,className:"profile-icon"})}),(0,ht.jsx)("button",{className:"logout-btn",onClick:function(){II.signOut().then((function(){n("/login")}))},children:"Logout"})]})]})]}),(0,ht.jsxs)("div",{className:"product-types",children:[(0,ht.jsx)("button",{onClick:function(){n("/loading"),setTimeout((function(){n("/product-type/mobiles",{replace:!0})}),20)},children:"Mobily"}),(0,ht.jsx)("button",{onClick:function(){n("/loading"),setTimeout((function(){n("/product-type/kamery",{replace:!0})}),20)},children:"Kamery"}),(0,ht.jsx)("button",{onClick:function(){n("/loading"),setTimeout((function(){n("/product-type/laptopy",{replace:!0})}),20)},children:"Laptopy"}),(0,ht.jsx)("button",{onClick:function(){n("/loading"),setTimeout((function(){n("/product-type/tablety",{replace:!0})}),20)},children:"Tablety"}),(0,ht.jsx)("button",{onClick:function(){n("/loading"),setTimeout((function(){n("/product-type/kl\xe1vensnice",{replace:!0})}),20)},children:"Kl\xe1vensnice"}),(0,ht.jsx)("button",{onClick:function(){n("/loading"),setTimeout((function(){n("/product-type/my\u0161ky",{replace:!0})}),20)},children:"My\u0161y"})]})]})},LI=function(e){var n=Ee(),r=c((0,t.useState)(""),2),i=(r[0],r[1]),a=c((0,t.useState)(""),2),o=(a[0],a[1]);var s=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1];return nC(RI,"users"),(0,t.useEffect)((function(){II.onAuthStateChanged((function(e){if(e){var t=function(){var t=et(Ye().mark((function t(){var n,i;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=UC(nC(RI,"users"),zC("uid","==",e.uid)),t.next=3,nT(n);case 3:i=t.sent,r(i.docs.map((function(e){return Ze(Ze({},e.data()),{},{id:e.id})})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}else r(null)}))}),[]),n}(),u=(e.product.price,parseFloat(e.product.price)),l=(u+=.1*u).toFixed(2),h=e.product;return(0,ht.jsxs)("div",{className:"mini-product-container",children:[(0,ht.jsx)("div",{className:"mini-img-container",children:(0,ht.jsx)("button",{className:"clean",onClick:function(){n("/loading"),setTimeout((function(){n("/product/".concat(h.producttype,"/").concat(h.id),{replace:!0})}),20)},children:(0,ht.jsx)("img",{src:e.product.productimage})})}),(0,ht.jsxs)("div",{className:"mini-product-details",children:[(0,ht.jsx)("p",{className:"mini-producttitle",children:e.product.producttitle}),(0,ht.jsx)("div",{className:"mini-price-container",children:(0,ht.jsx)("p",{className:"mrp",children:(0,ht.jsxs)("p",{className:"rate",children:[l,"\u20ac"]})})}),(0,ht.jsx)("button",{onClick:function(){s?aT(nC(RI,"cart-".concat(s[0].uid)),{product:e.product,quantity:1}).then((function(){i("Produkt pridan\xfd do ko\u0161\xedka")})).catch((function(e){o(e.message)})):o("najprv sa mus\xedte prihl\xe1si\u0165")},className:"showmore-btn",children:"Do ko\u0161\xedka"})]})]})},jI=n(766),MI=function(e){var n=c((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){!function(){var t=[],n="products-".concat(e.type.toUpperCase());console.log(e),nT(nC(RI,n)).then((function(e){e.forEach((function(e){t.push(Ze(Ze({},e.data()),{},{id:e.id})),console.log(e.id," => ",e.data())})),i(t)})).catch("Error error error")}()}),[]),(0,ht.jsx)("div",{children:(0,ht.jsx)(jI.default,{className:"cardslider-container2",responsive:{superLargeDesktop:{breakpoint:{max:2e3,min:10},items:7},desktop:{breakpoint:{max:3e3,min:1024},items:5},tablet:{breakpoint:{max:1024,min:464},items:3},mobile:{breakpoint:{max:464,min:0},items:3}},children:r.map((function(e){return(0,ht.jsx)(LI,{className:"slide",product:e},e.id)}))})})},FI=function(){!function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1];nC(RI,"users"),(0,t.useEffect)((function(){II.onAuthStateChanged((function(e){if(e){var t=function(){var t=et(Ye().mark((function t(){var n,i;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=UC(nC(RI,"users"),zC("uid","==",e.uid)),t.next=3,nT(n);case 3:i=t.sent,r(i.docs.map((function(e){return Ze(Ze({},e.data()),{},{id:e.id})})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}else r(null)}))}),[])}();return(0,ht.jsxs)("div",{children:[(0,ht.jsx)(DI,{}),(0,ht.jsx)(Cn,{}),(0,ht.jsx)("div",{className:"slider-head",children:(0,ht.jsx)("p",{children:"Top produkty"})}),(0,ht.jsxs)("div",{className:"homeslider-container",children:[(0,ht.jsx)("div",{className:"cat",children:"Mobily"}),(0,ht.jsx)(MI,{className:"home-slider",type:"Mobile"}),(0,ht.jsx)("div",{className:"cat",children:"Laptopy"}),(0,ht.jsx)(MI,{className:"home-slider",type:"laptopy"}),(0,ht.jsx)("div",{className:"cat",children:"Kamery"}),(0,ht.jsx)(MI,{className:"home-slider",type:"kamery"}),(0,ht.jsx)("div",{className:"cat",children:"Kl\xe1vesnice"}),(0,ht.jsx)(MI,{className:"home-slider",type:"Kl\xe1vensnice"}),(0,ht.jsx)("div",{className:"cat",children:"My\u0161ky"}),(0,ht.jsx)(MI,{className:"home-slider",type:"My\u0161ky"}),(0,ht.jsx)("div",{className:"cat",children:"Tablety"}),(0,ht.jsx)(MI,{className:"home-slider",type:"tablety"})]}),(0,ht.jsx)("index",{})]})},UI=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],o=i[1],s=c((0,t.useState)(""),2),u=s[0],l=s[1],h=c((0,t.useState)(""),2),f=h[0],d=h[1],p=kp(),v=Ee();return(0,ht.jsxs)("div",{children:[(0,ht.jsx)(DI,{}),(0,ht.jsx)("div",{className:"login-container",children:(0,ht.jsxs)("form",{className:"login-form",children:[(0,ht.jsx)("p",{children:"Login"}),f&&(0,ht.jsx)(ht.Fragment,{children:(0,ht.jsx)("div",{className:"success-msg",children:f})}),u&&(0,ht.jsx)(ht.Fragment,{children:(0,ht.jsx)("div",{className:"error-msg",children:u})}),(0,ht.jsx)("label",{children:"Email"}),(0,ht.jsx)("input",{onChange:function(e){return o(e.target.value)},type:"email",placeholder:"V\xe1\u0161 email"}),(0,ht.jsx)("label",{children:"Heslo"}),(0,ht.jsx)("input",{onChange:function(e){return r(e.target.value)},type:"password",placeholder:"Va\u0161e heslo"}),(0,ht.jsx)("button",{onClick:function(e){e.preventDefault(),function(e,t,n){return hf(kr(e),Hh.credential(t,n))}(p,a,n).then((function(e){d("Prihl\xe1sili ste sa \xfaspe\u0161ne"),o(""),r(""),l(""),setTimeout((function(){d(""),v("/home")}),2e3)})).catch((function(e){e.code;console.log(e.message),"Firebase: Error (auth/invalid-email)."==e.message&&l("Vyplnte v\u0161etky pol\xed\u010dka"),"Firebase: Error (auth/user-not-found)."==e.message&&l("Email sme nena\u0161li"),"Firebase: Error (auth/wrong-password)."==e.message&&l("Zl\xe9 heslo")}))},children:"Login"}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("span",{children:"Nem\xe1te \xfa\u010det?"}),(0,ht.jsx)(Ke,{to:"/signup",children:"Registrova\u0165 sa"})]})]})})]})},VI=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],o=i[1],s=c((0,t.useState)(""),2),u=s[0],l=s[1],h=Ee(),f=c((0,t.useState)(""),2),d=f[0],p=f[1],v=c((0,t.useState)(""),2),m=v[0],y=v[1];return(0,ht.jsxs)("div",{children:[(0,ht.jsx)(DI,{}),(0,ht.jsx)("div",{className:"signup-container",children:(0,ht.jsxs)("form",{className:"signup-form",onSubmit:function(e){e.preventDefault(),function(e,t,n){return df.apply(this,arguments)}(II,u,a).then((function(e){var t=e.user;aT(nC(RI,"users"),{username:n,email:u,password:a,cart:0,uid:t.uid}).then((function(){y("Nov\xfd pou\u017e\xedvate\u013e \xfaspe\u0161ne pridan\xfd"),r(""),l(""),o(""),p(""),setTimeout((function(){y(""),h("/home")}),4e3)})).catch((function(e){p(e.message)}))})).catch((function(e){"Firebase: Error (auth/invalid-email)."==e.message&&p("Vyplnte v\u0161etky pol\xed\u010dka"),"Firebase: Error (auth/email-already-in-use)."==e.message&&p("U\u017e\xedvate\u013e u\u017e existuje")}))},children:[(0,ht.jsx)("p",{children:"Vytvori\u0165 \xfa\u010det"}),m&&(0,ht.jsx)(ht.Fragment,{children:(0,ht.jsx)("div",{className:"success-msg",children:m})}),d&&(0,ht.jsx)(ht.Fragment,{children:(0,ht.jsx)("div",{className:"error-msg",children:d})}),(0,ht.jsx)("label",{children:"Va\u0161e meno"}),(0,ht.jsx)("input",{onChange:function(e){return r(e.target.value)},type:"text",placeholder:"Meno a priezvisko"}),(0,ht.jsx)("label",{children:"Email"}),(0,ht.jsx)("input",{onChange:function(e){return l(e.target.value)},type:"email",placeholder:"V\xe1\u0161 email"}),(0,ht.jsx)("label",{children:"Heslo"}),(0,ht.jsx)("input",{onChange:function(e){return o(e.target.value)},type:"password",placeholder:"Va\u0161e heslo"}),(0,ht.jsx)("button",{type:"submit",children:"Signup"}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("span",{children:"U\u017e m\xe1te \xfa\u010det?"}),(0,ht.jsx)(Ke,{to:"/login",children:"Prihl\xe1si\u0165 sa"})]})]})})]})},zI=function(){return(0,ht.jsxs)("div",{children:[(0,ht.jsx)(DI,{}),(0,ht.jsx)("p",{children:"404 Not Found"})]})},BI=function(e){var n=c((0,t.useState)(e.itemdata.quantity),2),r=n[0],i=n[1],a=e.itemdata.product.price,o=(parseFloat(a)+.1*parseFloat(a)).toFixed(2),s=parseFloat(a),u=(s*r).toFixed(2),l=parseFloat(a),h=(l=(l+.1*l)*r).toFixed(2),f=function(){var t=et(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,iT(rC(RI,"cart-".concat(e.userid),"".concat(e.itemdata.id))).then((function(){console.log("mo\u017eno?")}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=et(Ye().mark((function t(){var n;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(r+1),n=rC(RI,"cart-".concat(e.userid),"".concat(e.itemdata.id)),t.next=4,rT(n,{quantity:r+1});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=et(Ye().mark((function t(){var n;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r>=1)){t.next=7;break}return i(r-1),n=rC(RI,"cart-".concat(e.userid),"".concat(e.itemdata.id)),t.next=5,rT(n,{quantity:r-1});case 5:t.next=8;break;case 7:f();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,ht.jsxs)("div",{className:"just-flex",children:[(0,ht.jsxs)("div",{className:"cart-prod-container",children:[(0,ht.jsxs)("div",{className:"cart-prod-imgtitle",children:[(0,ht.jsx)("div",{className:"prod-image",children:(0,ht.jsx)("img",{src:e.itemdata.product.productimage})}),(0,ht.jsx)("div",{className:"prod-title",children:e.itemdata.product.producttitle})]}),(0,ht.jsx)("div",{className:"prodquantity-div-container",children:(0,ht.jsxs)("div",{className:"prodquantity-div",children:[(0,ht.jsx)("button",{onClick:d,children:"+"}),r,(0,ht.jsx)("button",{onClick:p,children:"-"})]})}),(0,ht.jsxs)("div",{className:"one-price-contianer",children:[(0,ht.jsxs)("div",{className:"saleprice-one",children:[o,"\u20ac"]}),(0,ht.jsxs)("div",{className:"dph",children:[s.toFixed(2),"\u20ac bez DPH"]})]}),(0,ht.jsxs)("div",{className:"prodprice",children:[(0,ht.jsxs)("div",{className:"saleprice",children:[h,"\u20ac"]}),(0,ht.jsxs)("div",{className:"dph",children:[u,"\u20ac bez DPH"]})]})]}),(0,ht.jsx)("button",{onClick:f,className:"smol-btn",children:(0,ht.jsx)("img",{className:"smol-img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAAD1CAYAAAAYosqqAAAmLUlEQVR4Xu1dC5CcVZXu53TP9MxkSGaACEuGCJvlEQQRArJEAxItixWSCGFBQOVtIQksSJVu6S6gW0h4CBGBAnmJEIQgWrIuuCLhGaAQTLJulhACAkOYyWTeM/2Y7v3O/0+HyWR6+t77n9t9//7vXzXlI/9/7jnfPafv69zvhEP28YxArrNzZm7z5kNzW7YcNtrZ+Q+j7777j/lt22aFstlIIZ32LF9FQDiRCIXi8Xxkxoy3o/vs83y0rW1jrL39z7HZs9+ItbV9oCLTfvMxAmELhhoCI6+99vn0Cy+cknnmmbMLPT2pEDlqNBoK4y8UBqyRiPtXzSefD4Xor1AIFUZHQyH6QyCHm5oydccdd3fiiCNWJ+fNe7KaKvq1bRs4Ej2X6+hoH/r1r5eP/P73F2M0iYaTSSdYqh4gEjY4r1IwIYgKIyM0KmUTJ5zws9SSJTfEZs58R1ZUUN+3gSPQ85lNmw4dvPfe/8i+9NKXQg0NoXBdnf+CpZSdxSDq7w/Fjzrqd6mzz/5e3X77vSEAS6BfsYEzRfdj7fKJ/ttuW5lds2ZRuLk5FIrFattZcrlQoa8vFJ8//+GmCy+8BGuhrbVtsLp1NnBKYDewevWyoZ/97CasB2g6o46wH7/MZkMFjEANF110SePixbf40QTdOtvAmYBwvq+veft3v/vs6ObNhzhBE+CHgic6e/Zru/3oR8dHmpt7AgzFLqZXedvHrK5Ir1v32a7TT/8o39ER+KChnqEfDmDxaWDSAWyONqu3qquNDZwx/IeeeuqM3ssuez5cX5+o+bWMjM9hXQdMksDmBWD0zzKf1vK7dqqG3t2xnpk+vZb72rNthe5uu+4ZQzHwI87gE098w9kEsEFTNrAII2B1MzA7u+zLNf5CoEccnP4v6Lvyyj/aoJHzchp5mq+55otBzjoIbOBQfln3mWe+hwVwxHcn/3J+zv82Dk2x45affvfds4OabRDYwOk655y3kWPWbjcCFOMKh6XhlpbNrXfd9UlFCb7+LJBrnP777/9BfutWGzReXBe7bcBwNrD8vhcxfv02cCMOEjX36T7rrHfsuobHZWm9M/2++2ZhyvYuj0R/SAnciNN/660/DXpGAKdrEpbAdCWnTD/IClTgIMt5LjKcTwxc7plOT0QeHzD9J8JWZzOmyQ5U4Aw99ti/2NGG3wUJU2C7nF+yuRIDs8bJDwykuhYtGrBrGz3OSGud1scea4w0Ng7qacEsqYEZcdKvvfYF53qzffQgAGyB8XF6hJsntcZvZn0M+Mgzz5zl3Nys5EO3K6v5VJDzgLAljGHub6tpcqXaDkzgZF999SsVCxy6STk87FyvjuyxxzZ0JuFM0+Li1Hjif1J/y0ybCxMchP43/VGk0t8ozlhaiVsAmc2VubkK7gXCuFKOW+12AhE4mY0bD+1ZtiwWInINzU9hcDAU3Xvvv6bOP/9byU9/+k+am5tSPOXiDd5xx09H33vvgHAqpVcVGt3S6TrCum7OnNf1NlZ96YFY42Ref31hJdY3hd7eUPKkk66fcdttB1Y7aMi1oMPTji4nnfRj0k37g3UOsD5eezsGNBCIwEk/++w3wpqJNohqKblkyfXN5513uQH9upMK0OlK6LbCoYPS+BDGwPpMjU0YI1pmXm2M0jKKONvQX/3qQHjaNJnP5N51if+G2h59VPN8SE6tiW93LlkyjHVXUmc2OI1srY880oRt6QFv2pr9dc2POJkNG47W6ShO94Lcr27BgofM7uoQ6fiAw+ap88Fax8G8xp+aD5z0K6+c4jBuanxoCgQ62Yc1NsEimnTUPl0D1sB8MYvCBgup+cDJvvzyaQ5Nrc6HRpyDDnpBZxMcsqHjc9pHHNqWJsxr/KnpwKErBKA3atY6VcOZTXTffbdgTt9vuq9AxyHo+mYIOmt7MFUD5i3Afpa2NgwQXNOBM/LiiycR17POpwAnTCxYcKfONjhlQ9d7SGetDzAH9l/W2kaVhdds4IBTYI+hn/98hfZsAZTNqDv88Mer3I/CzTu6aq7ZQ5gD+xuJe1tYMZ+9WJOBgxPz47rPPXcz0k3qtE7TqLPdfDA/bevrJycBJkTsiD74H+oLn8WEkLpCHQ7602Oyb755JPKf/h7nIsTaV/xuYs7UVI2K5GdNJW+8ruPbL+ZpFbBjlMqtX78ADCwNTopJJZIc3TOcNEpk/GYMl2JO2vjcNMKlqGfxv4t00MT+KeIzHqep/r/xbdF7o9kXXzwVmyX6f1CoZZcNJ4QztKHYwQc/g93N4pWDyfxuYt+L+EsRQxE/nOqdAtZ/25BXuDG+//4vJ+bOfb5c55QMHNzo+xQuJ12RefrpM5xCRGMp+U7FMZOfahR6GqsxYzIsO3Sz+EzaTU7FOnrGprF1xx//YMOiRdeWqhU0aeD0XHfdLzJPPnmGc1uyGkD7wgOtkjWLwLhiW3ULF/6i5Yordkkj2ilwsJjbc/vFF/8ZU549dR8a1izo1rCaQoAOjBELnbutXHno+KLDOwKHggaLuY1I1Gu2JH011ffWGK8I0P2qXK5/+p13HoDgeZ/E7QicrrPO+hvukuxtg8Yryvb7mkSAmEtTqfda77vv78g+Zy8VbIz/nu/utkFTkz1ujWJBgJhLESPEAuuMONheTnYh3Rw8wCzyrRCLQC0jAL7xUOujj7ZEwExiCfpquaetbbwIgIARMfPFSHrt2rO1p6Xwqm6lWQSqhgDFCmLm9MjoW28t0J52XzUzbcMWAWYEcK6JmPlcJL99e6oiqSnM+ltxFoGqIEDXJrZvb4mEE4msk1JjH4uARaA8AsRVl0gMRyJ77rnBBk55vOwbFgEHAQQOYub/IvG5cx/XfrHJYm4RqBEEKFZwp+nBSOLoox8JDQ3ViFnWDIuAZgQQKwic30WQNr0+OmfOOq330DXbYsVbBCqCAPFLzJnzCsWMk3LTtHz5mYW+voq0bRuxCPgVAYoRxMo5pL8TOHRZp+Gii5ZROoF9LAIWgV0RoNhAjHwbsbJuR+DQf2lcvPjm+q997d+ospZ9LAIWgY8RoJhAbPwAMbKjSPAuN0CHnnrqtIEf//hB5/Yn8nLsYxEILALZrMOZ0Pid75zWcMIJq8bjMOnV6XxfX1PvT37y8+yaNV8lXjInl60SxBeB7SFruDEIEMFIJhOineb4/Pm/mrZs2bmR5uZdNgCmZLkhbrKRZ59dOrxq1U+cQ1IbPMb0r1VEAwKujxfqly5dnjz22Idw2/OjUq0I0UNtu/jit0Fr2m5vh2roLCvSHARou3nWrP+dfsMNB5RTSoiQMNzQsL2cIPvvFoGaQCAWE8oGEAucpqaSQ1ZNgGWNsAiMIYBNsa0iYIgFTjLZHyqIkCWKNGnfsQgYigB8HFRQQlUnxAKnvt6mFRja11YtXgTAeS3k62KBk0gM7KAI5dXTSrMIGIMA+Tju2gjVLhULnGRSKAqNQcAqYhFQRABTNSFfFwucuroiy7yiOvYzi4A/EMBhv5CvCwUOUm+G/WG21dIi4BGBeHxERIJQ4ESamrq1F10V0da+YxHQiQDWOI6vCzxCgYMFk9ChkEB79hWLgNEIwNf5pmpO4FgmHKM73CrHgIDLYCM0SAiNOFjjCM37GFS3IiwC1UUgHk+LKCAUOGEbOCJY2ndqAAH4OmPg1NcP2KlaDXiFNWFqBGiqRr4u8AiNOJFUqkdAln3FIuB7BODrvSJGCAUO7uGkbZKnCJz2HV8jQInMsRiuf5Z/hAInQjsNYaE7b+VbtG9YBExFAD7u+LrAIxQ4uE6KkyGxVwXatK9YBMxEgHw8EhGqQCAaDXa4MbOrrVZVQiAm0m6ksXHooxNPFHnV3HfcktuhnVKHUCTIKAYfOmRG2odzhYP+6CEd8ecU/zJl1C8ywRR1LOqJArO+5qUAvvB1oV01ocAZ68ActqRjxnSeaIgSNxaofqLt7Zvrjjnml7FZs16l+iagwGrNbdlyROall07Jv//+XijFXb1OJ0ccdvNo4/Pm/SZ+0EFPR1tbt+B/hke7umZlN2xYkF279iv079gurV4A0Y/P4GAostdeWxNHHbUq1t7+MqiTthXS6YbcO+8cnnn++dNHt2xpB0eF/zj56EcrGh37tSrvXMJTsM7Fi9MQXOenwCn09obixxzzaNO5514amznzb6XgyGza9KmBO+64Mbd+/QKHiLGSDzljOj2S+ta3Lkx9+cv3TtX04BNPfH3w1ltvReDXV/qXnYj5YgcfvKbx/POJBvYvpfTMdXTs23/nnddnn39+UXjatEoi6a0td7TPtq1eDRLB8o944CxdSoegvil7SFy/Td/73lfq58//bXkY3DcGVq/+9tDtt99csdL1GA0ju+++frcVK47BFEHoAlV+YKB5++WXv5D/6KODKsW06vAmX3DBpaCAvUkUy+E1a5b0//CHj1QMS1HFSr3ncqoNta1ahalH+Ud0cyAUbmzsKS/OjDeI67f5qqsWygQNaQ7HuCW1bNk3aKTS/mCkQdBsmHHbbXNFg4Z0onfxzcH49q+VKM1CWACTb8oEDekJ7B9FH3zJT1zk8HGhHy+nH0QdBHPrHj+k3RRGRkLJU09dkZw37ylR28a/h+nSPZjePRLCaKDzobXCtKuvXqjaBr49gWRofYABsFgNTO5WaQd98F/oi+upT4x/3HQb4cFBPHAaGoSFVg0kGm7R2c3nnXeFFx2aLrzwEprT63qc4F6yZAUoVj9QbQPfvg8ZWp2SMAAW31bVkb5DX1zu/Aj54FoKNjW2idoqHjh0M850bjVsj9YtWPBLUeNLvQen7IjNnbtW21QonQ4lFyy4z6uejgzI0vJgKkkYeAnuol7ok4eMv0FMnGpNTRoCJ5kU2t/W0omCQollHlu5/y34+pSvxQ877CktRYXplzeRoGJeToEiL4+zu5VIjOr4NSfbYwcc8JIX/Yrfok+ecioAGP6A4UbYx8VHHMF062pjg8Uzy5QyMmPGFl224NBVKK1DpH3IEj57EJE3/h1g8JbsN5O9H50x430OObpliJIRkh7igYO72EEiJXQuNI0/GefsNZSSYBOnK5vAJa4QnrpMZQ8dkLLZq0nQGBmh8G6LeOAIErVpsktYrB86CVMr5M+wPcJncQotsgS4L/oE4IiSEcqNOKmUEG2OQuewflLIZpMcAkVJGzjaMlUGpSZx6MbVJxy6TCUDaVfC5WxkRhzhhZNuA0vKRyIktnpZcmYCz+wjwfhSrr/RJ81OkqrhD0YcDVM1nXN+EwEVJG0wUXU2nfgw0Dmd5DGXCNclSGnERxxBojYeKzxIyWaRPuz9EWU78d6SZwks65DJtGDDgKlPPCNVRoDM9FwmcHxBSojrArtzAIxt3mEd5yMculVEBk3VCAOGB2c4xu+qUV9rCRxk4mo6ombomTERzoWvXI5lcwBzctx6C/jDhEFhYKDV6RvTHwkfFx5xRGlzqo0N0u5349DBUmLhkE+QKqkc3lx9Uq4dr/8uY69w4OAXOOuTqQvPQpRogkzPzfPqKVN979rOtX7i6ROd9ro3QIVT4oUDxxe/wKD3wdan0EUknX1QM7JjMWFHmjIGR0bMX+PAAD0jjl9ICTMZll018GsFfnMAGAifa0z5Y0F9Yjovn0tGKLyOFx9xfFLqA+kdPCOOIL9WzYwukxnChAFbn+gEG1M1UTJCUkM4cESJ2nTaJiIbjDY8mwOCNEEiOvn1HWSas2xHs+106gZS4odCOHDYQNRpPGUK53IJnU1Y2fIIOD9murK45dUp+YWMjwsHDqN+WkWhk1rYGvDD2QObsRMEMdqOPpmuS81qyZULHEYwdRmM+TTfiIObmj7ZgueF072lyrUVTbxx5u+qRaNS9koFDsgMiM2Tt5O4pWWz4uykZdpGtmxgswdgO99d52zW7HMcSrdpaBDeUZPbHMDb4J3i2Z7kDpaiPMyjcY7DltuB3CU+59Flsya5sJ3tR8PhGzB8jQPfFirvscPVZHBHVPLsssg0KvsuIx8a7O2Rbb5W3oftfPevdDHxMIIta6/sVG2b8VM1XjC7g2TvDujcqUtwfjRce4Vvf8pP1VKpLka/1CYKSYU8i9FYzPwRli+fbOf+iMVY6DfZ+kKbt7iCZa5NSwdOqK5u0BeJj/m81Ehaqk8wz9dH56nZEbyKh+0861mmvvBqz5TfU7pNXZ3GNU4yab4jYRGa50q78csPBbdXuY7EEjjoiwbTNwacEUeCjFB6xAFhm/mBQ8mEuVycw5dkweRo0xQZbLbncnXGJ3hS4NTXC1cqkA8c/5ASspwbyIJpitNz6MFoO0tfcNhUSsYYGaHUoCC1FpAhbNNpaDnZ+cHB5nLviPw7zfODxF46HhNcdWa5i8PVFyL95eUdlGTcKvO9XOCkUj0ywqv27ugo11RN6leoavYyN+z8WDDtqoFGmC2Tg9nMncVJUEPJT9VoAaWLT5kLFcoeyGRYCDvA8iK108Jlggly8Av8IYceTl8YnjVAPo3ZlFRfy404klHJAbyKDDbKVQnWE0k9pRIKJWXzvB6PSzlSyfUDEyUxj1GlpciQEcqPOHQL1PSHRpyBAZZyx7K/QqZDI6Mf265aNpswfsQBMDKcamqBY3p2tOsdUiPpFA5VMH5qKhMNou+603GWURFXClg4IERVV3rPJSOUOreScjDk80jtdSsZwfARV2fJDt8Mqhsjgov+1hd3cWjEkfRtucDxCS0s1jgsl9lkh29jvJ5BEdlf4CnWOCx9wWBSaREu3a9Ubp5U4PiCFtaW+vDuY5I8ylM16PDc+eDmsAwZofRaQIawzXvveZDAxY6vb1fNg3EV+pTL9myWJ1Nds9myvi034viElBBnBywLUlkwNfdtRcVz2e6LSgUuGaHUbV+pwHEI23ywq8ZVlc0nfNksu187RaXLo8xyddqpxmb645IR6ttV8wMpIZWTYGSO5HdK053oY/1YbKe+8EWJDwkyQvk1TmOjL3K3CsPDjRz+iemKL7bfOWydKIPLdq6+0GHjeJkgI9Q44lBLcZb8Sd048KSy6yv1wfJrrg1EhTn/FLrw9IU2Y9V8WmqNQ7ojFcN4kj7Mq1l2cvyyptPhU7Jz/lI6GF92hbbek0kpTjXpqZoDTjzOsmjU0dmOTLoBylVzUnLeq82mSgumzQEu2zOZlPE3QONx6btH8iOOD1j8C4ODrRy+hnkvH7cYh0IVlMFlO/qirYJqKzUFMkLptax84NTXm801RtnRQ0MzlBC0H7EjYHxf0FStvr5H1nD5wGloMJ5bjZUdn4jXg/YwbgAhb9B4lhskePbKdrF84PiAa4yzYgGS/0b9cOgr2/El33cXy2zicDeK5WiATaFJBKkktEoHDvi2hk0nJcROTh0b0AoLR7a2qyWIcQOItS904OFyyEkztkoHDtvNQB0gkEy6385I8o1fI6l0c11mVVIubJbeni2pH/WF4ZwD8Gmpw0/HzWQ7BLst3bLfVPx9TkIRprv3EzDgPADllOWqyWkzZ19ociQVn5YOHGzddQWJaww7LmbvInI7k7vLJMXcz61CJeU5ZITwadk25QMnYJRJ2ByQHsZlO8G094NmswoNmHTgYBiXXkhVwzFQXoJnN4fuIAXtYSpvgj5I+QI6BZ+WDhzjNweKPcVUXgIL5cBlD6hsz04aIEx9oDv4VHxaPnCIlND0BZ9b6oMl0dMP2++sjqW4PTuZDr4o8UFrHAWiTfnA8QMpoVvqg+UsR+XXiNWRqyBMZXt2UjX9UuJDwaflA6excbtPTtJZ7oH4oiYQc3Ax2szSB8zm7SyOdhEbG3tk25APHIVhTVYpjve5yksQt1qQtt/HasWw7CRy9QGHP0wlozJTNSJuM52wgzKkma5PY9rii+vinM7FZjOVWzE8a4B8GdvR0jvF0iOOLHEbZ4fKyOKqWKACqoyeJr7LdY6DEYeF/F47RgqMPtKBAxIH6fmgdsMna4CJBhfnVsE7x1E415i0j31S4kPFp6UDB8RtadOzo2l6wEX2zbbDVJVfD7VGuXYSHfJ706dqisQk0oETqa8fNH6N4/oLy46Os3A0/dxKLT4m/8o91+AaZVn6gNO8XWQRGWF9vfQht3zgNDb6Is2ebcRR2OPX2tEVEM5VpYGrD3SbjOzoCmwOkBWMV2u1gEJsnkzzaziRNKhabKqgULbAoT4wvVKBoi9LjzjOHCiZzJo+XcPNQ54kT5q2mL79zhlUZCvTVM0nnGpSZOtFqJUCx3huNbKOqdQH43yf073Hy2JfR7DZzNQHuoBz5CpeE1cKHAzl0gRuWo2fRDjKS7CktAf0HIdlHeuHEh/wZTvijI8fxlIfucBN1aJRlh9Gtj7Q+KsrW/vT01QNSYB9JjuTLfWh0dMkRGNXrdHoEh+0novFlEZXtalaQ4Pxd9KRq9Yk0cclX+Uqd8GhS6VksFVjY+oDnXZjxFEin1ELHB+QEtLmHwvgejIleHRjMXCCEMWT9BKqmGvnmMKqt12VAge3IgeNTrvBRbZCXx8Lf3TgSn24Zf2GOGISfdBqdKUCD7ddlQKHLe2co3dKyKD5NYt4rnIXLMpUSAiTzegD4+t/qublKQVOpKWlw/TLXSBeb+FwMycdw/TTbw5DizIYbWUlv+e0cUwW+TD5sopopcBBlErXE1FRTvkb9yIb369dLGZ8FTplrCZ+CFvxY8EzVRse3s307GhVX1YLHD+QEmazLGQd5FdOxYIgPO5tSJYzHAcupnxBndCrkBGSPkqBgzQFpb1vnQBMlI0Rh69WRTSKDf+APIy2og/qjUdN0ZeVAgfD25Dpd1SQ7oH5Fc+DA9/AZEhz2oo+4OkAXVLo7hH5ssKjFjhcV2sVFBb+ZHQ0KvxuuReZsoXLNaP47+aelfjgAqAKw43yVC3S3LxNsZMr85l7XZet/AXADc6Iw50VYvjVaVVfVhpxnDWO6XdUOHmLKZ/JdHs5fpLc3C2ua9Pm70S6d4+U1utKgaM6vHH0rYSMMNjyWfijVXdeJHQ15lUuW4E9S66gbmBU7x6pBY4fSAnp14Rr1FHMoNXd6Vrkc404hL3po7QiGaHyGscvpIRcFQvCTU2dWpzUQKGqSY8TTQH25m9Fk9IKZITKgcOVdq7VbyiBj+lxcvMY5TGpxS/GQ9LjpMr4ADNVX1aaqjkLSNO3GjlLfSjwbvF7dWUkshEw5nJxozOjCU7y4VhM6bBJKXAcAjfDtxkJFy7uYtxiVAK3Mq7OdO9oTFmVCsyT2cmFvVYM4cMqZITKUzXHGMYsWm3gjI6yZA+gfso207PBOTBUrcA8adtM2HPYVVKGBx9WG3EaGwex/503eteEMqQzGa58Nb4Fk1ZPYBHOYquDvcmzEvcMJ48RVpr+1tOIE47FjM8YZmPzVKifwuLCVRDCRYfFhb1OCLz4sNKI4xjjg8BBWnuCBXjF0+Up2jY3v4zLVi7sWTqwhJBYLKcqXjlwVIncVBWV/s4t9cFylqCaQSutswEfcO2q+aHEhxcfVg4czA9N3mkquiDLL3tgSn0oli4vEe8s2Gv9LfEwuioHDu5tdBu9OQDEkS+1GwfwXOz9HLrolsFlq/ElPijdpr5emR9QPXAaGsy+WkClPkZGWBINHWcyPe+KI6LImZioofL9/TNMP7JQJSP0tquWSCht43H0r7AMLrb8IF1k47I1m2XJTBfua4UXveTlqY84dJnN8FwkLrZ81dRzhb6s+idctnJhrw0Q+G64ublLVb564BDxuuEP21QtWOc4She7DHeFSdVzigcoPuqBg7mwD9JQeHZ2KPU8IGscrisjXD9ain5d9jMnvSiRGCz7YokX1APHcFLCsVIfLPNs1dRz1U6p5ndctmJXLWV0iQ+A7IXKWT1wfEBKyFXqAxgXTF/PsQSbu2blyVXzQ4kPKh6g+CgHDg5AjWd+4Sre6vwKB2WqFouxMHlyYa/o12KfedhBVA4ch+Xd5MtsdJEtk2GZqiHLd9T0MwkxTynzFt1PYTrHAfYpoy+yuWSEykcqyoGDdGzlU1eWThYQUhgcZMkccJoyOUVeAAuhV+h+CleJj8FBlvpEQnorvuTFh5UDxw+n6ThL4KmRQ9XdghA4jDYCe5asDcWYKP+ZxywJ5cDBGoePuK68mfJvuKU+WuQ/3PUL57JTNFqo6XUOreEw4qhe7JqIGrA3vsSHKhmhMwFRdSxfkBJypdzQ1qUf7h+pdubYd7CRryqDD+7jeMmSUA8cH5AS4iyB5yKbu8Zh2ab16NuTfc6nF9P6hpQE9mz1iTRg5tDz4rarcpaEcuBwnTBrAaUoNJ/nyRxwA4fvqjinLE4AGQMHjsmHPaeN42VFo8pb78qBE5k2rdP4Q0HGzsNmCOeajm+UYDqwJH+Cjcq/wLv4NiP2WuIGh72ODys+6oFDeT50VmLq416djnORf5MsNlOzWRbaKkefbJatDhDX9IowhywcCim7FxvUJQXBd3FmVYXMAXf6ot9ALy3kcqHchx+2exFB3+b7+poLvb0NLPZSQA8NhXMdHbO86gUZ+0AWqt0y9APp1dubhK3TPOv14YezQsDe6MfjmlUdcWqYo8N0optIhNIvvniy1yaGn3vuZLD6eBXz8ffQa2TNmiVeBULGKSHIYntgI2xd5FUeMF/MqpdXhSb73vVf5Smzp7nWRyedVMDOhLkjD3ZOcJ4w3PrQQ3vifEL57kXnKafQhacZbD8UpFcmM9T6wAMzVfXCdKi564wzPgD+KU69YGdn269+tbuqr9I0reu00zpx1yXBppeqMqW+c/HP7v7448o7f+ojDrcxOuRhRIRj1fdcddVjquJ7rrvuboDMFzRjU1yk3Df03njjvap64dt7IIMvaMb0gq1tsPk+Vb2A9ePA3NygUTVswneeAof1wIzJoF3ExOOh3MaNx22/+upHZJvoXbnylszTT38dyYCyn5Z/H3pl1649GU76i/Iv7/wGvrkf3y7Cybfsp2XfJ1th85mw/dayL094ARg/CqwX6NBLVpdy73v1XU9Ttc6lSzPYr48bOySPQw9p7rT92NF0xRVLEnPnvjgVsJlNm+b233TTvaNbthwWTqXK9YGnfye9ojNnbmq69NKldXPmvDalXhs3Ht5/440PjnZ07K8lmMfjNTgYira3r2tavvxrdfvt95ep9EqvW/fZ/uuuW53v7d1Dt16ewC5+TOlFkchw26pVytnzngKn65xzthf6+lr8EDgOZjS37e8nh9icWLjwpvj++78cbW39AP9SwG7S9Oxbbx2a/sMfLsxt2HA0KhQQzS9LP5UVgh0oZHKHovvttz5x3HG3Q69Xi3qNdnXtlX3zzSPTf/zjBaObNh3oBHIl9RoYCMUOOuiVxBe+cFv8k5/8c7FKM/SaCb2OSD/55CX4gdkfVevMXetO7ADKGgBRR+tdd7WV7ZsSL3gKnG0XX/y3fEfH3hXrSFUrJ35HjkrbpVkcHBcvqNEOIaY+GMIr55hWL64elZODvo/MnPn2jJUrZ8t9+PHbnn5Sxwjd9lZtvGrfITicANGxdvFilNXLC3pS33ohI6SGvG0ONDVtldLWvmwRMAQBTC2VOdW8B05Qisoa0tlWDSYEiIzQw7Vp74FTX9/LZIoVYxGoKAI4oPXku96mauCP9gEpYUU7xDZmPgJjZIT9XjT1FjiGkxJ6AcZ+W9sIeCEj9D5V80DoVtvdYq0zHQGkBSlfKfAcOH4gJTS9A61+VULAQzU2z4ETaWraZjQpYZX6xDZrOAIgI4TvdnvR0tsax8MNOi9K228tAl4R8FKpwPOIw1X2zisI9nuLgCwCXn3X04jjELoFgYxctlfs+2YjQD5bzTWOL0gJze5Cq12VEPDqu55GHJy+DtgRp0o9b5tVR8At1a5cqcDzGgd1Y3rUtbdfWgSqhwB811O1DU8jjhM4hleerl7X2JaNRYDICD3+6HsLnObmAaNJCY3tOatYVREgMkLyXQ+Pp8ChdmMHHviC8eRzHgCyn9YYArj9CZ+dknNCxGLPgRM/7LD/dK4h28ci4AMEyFfhs7/3qqrnwKk79NA/hNKcfOReTbLfWwSmQAC+mjjyyN94xchz4IBq6SXQnQ7bbWmvXWG/144AHXyiIgNouF732pbnwCEFkieeeAsYIL3qYr+3CGhFgHyUfJWjEZbAaTj55BtCQ0Mc+lgZFgF9CMBH4asrOBpgCZxYW9vWuoUL73F4yuxjETARAfgmfPQ++OpHHOp5IiQcrwDVkOk69dQe0O4Eo7Q5B/pWRmUQcBlc860PP9yC8xtPXANFhVlGHBIGhfoazj//UqJytY9FwCQEyCfhm5dxBQ3ZxjbiFIHqvuyyl8AlPM8PjPUmda7VRRMCLt3tOtDdHsLZAnvgoLDQNBQ8ehdkCM2+IWPnRNTKMgcBt7DYIAqLfUK1gFcpY9imajvmfo2NvS3XX39soafnY0Jzc6C0mgQFAQoa+GDLTTcdxR00ztJEB45UT2XaDTccY4NHB7pWZlkExoKm+dprPw9fXF/2fYUX2Kdq43XIbNx4WM+yZWtR0yXuu1IgCmDaTwxAgIKmry87bcWKf0RWy8u6NNIaOKQ0lSXfvnz5WlQe80e1Ll1IW7naEaDqdlhbb93t5puPjM2c+a7OBrVM1cYrDAPeQcm4PeOf+cxqO3XT2ZUBlj02NYOPPYaK2XvqDhpCWvuIM747R9au/VL/tdc+ANLr6UaXeQ+wD/rKdLfsegjVt/sbly8/u37+fOXq4rJ2VzRwisoNrFp15dD991+D/x0DaYJ/akfKomvf14PAWMCARbZQv3TpNU1nnvl9PQ2VllqVwCF1cN6TGnryyW8Or1r1r4Xe3t2R7k3zUxtElfYAv7RHVwJAXVtAomZ42rRuBMzVDQsX3o6t5uFqmFC1wBlvLMp9z0s/99zp6T/96YJCd3eCgigUjdIQ7Pyn81BxW/vUPgJFgksKEvw53OS4fBaePn2o7thj701+7nP36NwtEwXYiMAZr2yus3P33ObNh+S2bDkk9+67R+Q7O/fPb9u2LzKvGwrpdFLUMPue7xAogJZ2BKla6ciMGe9F2tr+Gttnn5dj7e1vxGbPfoMrq5kLlf8Hl4OCmf5DOq4AAAAASUVORK5CYII="})})]})},qI=function(){var e=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1];return nC(RI,"users"),(0,t.useEffect)((function(){II.onAuthStateChanged((function(e){if(e){var t=function(){var t=et(Ye().mark((function t(){var n,i;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=UC(nC(RI,"users"),zC("uid","==",e.uid)),t.next=3,nT(n);case 3:i=t.sent,r(i.docs.map((function(e){return Ze(Ze({},e.data()),{},{id:e.id})})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}else r(null)}))}),[]),n}(),n=c((0,t.useState)([]),2),r=n[0],i=n[1];if(e){var a=function(){var t=et(Ye().mark((function t(){var n,r;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r="cart-".concat(e[0].uid),nT(nC(RI,r)).then((function(e){e.forEach((function(e){n.push(Ze(Ze({},e.data()),{},{id:e.id}))})),i(n)})).catch("Error error error");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();a()}var o=c((0,t.useState)(""),2),s=o[0],u=o[1],l=function(){var t=et(Ye().mark((function t(){var n,r,i;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n="cart-".concat(e[0].uid),r=[],i=0,nT(nC(RI,n)).then((function(e){e.forEach((function(e){var t=e.data(),n=t.product,a=t.quantity,o=n.price,s=o*a;i+=s,r.push({price:o,quantity:a,itemPrice:s})})),u(i)})).catch((function(e){console.log("Error: ",e)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();l();var h=c((0,t.useState)(""),2),f=h[0],d=h[1];return(0,t.useEffect)((function(){if(s){var e=(1.1*s).toFixed(2);d(e)}}),[s]),(0,ht.jsxs)("div",{children:[(0,ht.jsx)(DI,{}),0!=r.length?(0,ht.jsx)("div",{className:"cart-container",children:(0,ht.jsxs)("div",{className:"cart-body",children:[(0,ht.jsx)("div",{className:"cart-head",children:"Va\u0161e produkty:"}),(0,ht.jsxs)("div",{className:"cart-split",children:[(0,ht.jsx)("div",{children:"Produkt"}),(0,ht.jsx)("div",{children:"Mno\u017estvo"}),(0,ht.jsx)("div",{children:"Cena za kus"}),(0,ht.jsx)("div",{children:"Celkom"})]}),(0,ht.jsxs)("div",{className:"allcartitems",children:[(0,ht.jsx)("div",{className:"allcartitems",children:r.map((function(t){return(0,ht.jsx)(BI,{itemdata:t,userid:e[0].uid},t.id)}))}),(0,ht.jsxs)("div",{className:"price",children:[(0,ht.jsxs)("div",{className:"big-price",children:["Celkov\xe1 cena: ",f,"\u20ac"]}),(0,ht.jsxs)("div",{className:"dph-all",children:["Celkov\xe1 cena bez DPH: ",s.toFixed(2),"\u20ac"]})]}),(0,ht.jsxs)("div",{className:"cart-btns",children:[(0,ht.jsx)(Ke,{to:"/home",children:(0,ht.jsx)("button",{className:"cart-btn-back",children:"Sp\xe4\u0165"})}),(0,ht.jsx)(Ke,{to:"/cartahoj",children:(0,ht.jsx)("button",{className:"cart-btn-next",children:"Pokra\u010dova\u0165"})})]})]})]})}):(0,ht.jsx)("p",{children:"Ko\u0161\xedk je pr\xe1zdny"})]})},WI=n.p+"static/media/cog.dbaed50941dd81961b7e.png",HI=function(){var e=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){II.onAuthStateChanged((function(e){if(e){var t=function(){var t=et(Ye().mark((function t(){var n,i;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=UC(nC(RI,"users"),zC("uid","==",e.uid)),t.next=3,nT(n);case 3:i=t.sent,r(i.docs.map((function(e){return Ze(Ze({},e.data()),{},{id:e.id})})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}else r(null)}))}),[]),n}();return(0,ht.jsxs)("div",{children:[(0,ht.jsx)(DI,{}),(0,ht.jsx)("div",{className:"userprofile-outercontainer",children:e?(0,ht.jsxs)("div",{className:"user-profile",children:[(0,ht.jsx)("p",{children:"Info o \xfa\u010dte"}),(0,ht.jsxs)("div",{className:"data-row",children:[(0,ht.jsx)("span",{children:"Va\u0161e meno"}),(0,ht.jsx)("span",{children:e[0].username})]}),(0,ht.jsxs)("div",{className:"data-row",children:[(0,ht.jsx)("span",{children:"V\xe1\u0161 email"}),(0,ht.jsx)("span",{children:e[0].email})]}),(0,ht.jsx)("form",{children:(0,ht.jsxs)("div",{className:"data-row",children:[(0,ht.jsx)("span",{children:"heslo"}),(0,ht.jsx)("span",{children:e[0].password})]})}),(0,ht.jsxs)("div",{className:"data-row",children:[(0,ht.jsx)("span",{children:"Va\u0161e uid"}),(0,ht.jsx)("span",{children:e[0].uid})]}),(0,ht.jsxs)(Ke,{to:"/newpass",children:[(0,ht.jsx)("button",{type:"submit",className:"trihodrano",children:(0,ht.jsx)("img",{className:"staletrirano",src:WI})})," "]})]}):(0,ht.jsx)("div",{children:"Nieste prihl\xe1sen\xfd"})})]})},KI=(n(315),function(){var e=Ee(),n=c((0,t.useState)(""),2),r=n[0],i=n[1],a=c((0,t.useState)(""),2),o=a[0],s=a[1],u=c((0,t.useState)(""),2),l=u[0],h=u[1],f=c((0,t.useState)(""),2),d=f[0],p=f[1],v=c((0,t.useState)(""),2),m=v[0],y=v[1],g=c((0,t.useState)(""),2),k=g[0],b=g[1],w=c((0,t.useState)(""),2),_=w[0],x=w[1],E=c((0,t.useState)(""),2),S=E[0],C=E[1],T=c((0,t.useState)([]),2),I=T[0],N=T[1],R=c((0,t.useState)(""),2),A=R[0],P=R[1],O=c((0,t.useState)(""),2),D=O[0],L=O[1];var j=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1];return nC(RI,"users"),(0,t.useEffect)((function(){II.onAuthStateChanged((function(e){if(e){var t=function(){var t=et(Ye().mark((function t(){var n,i;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=UC(nC(RI,"users"),zC("uid","==",e.uid)),t.next=3,nT(n);case 3:i=t.sent,r(i.docs.map((function(e){return Ze(Ze({},e.data()),{},{id:e.id})})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}else r(null)}))}),[]),n}(),M=c((0,t.useState)(""),2),F=M[0],U=M[1],V=["image/jpg","image/jpeg","image/png","image/PNG"],z=c((0,t.useState)(""),2),B=z[0],q=z[1],W=function(){var t=et(Ye().mark((function t(n){var a,u,c,f,v,g;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),a=[],u=[],c=0;case 4:if(!(c<I.length)){t.next=25;break}return w=NI,E="product-images".concat(o.toUpperCase(),"/").concat(Date.now()," "),f=yI(w=kr(w),E),u.push(xI(f,I[c])),t.prev=7,t.next=10,u[c];case 10:return v=t.sent,t.next=13,EI(v.ref);case 13:g=t.sent,a.push(g),t.next=22;break;case 17:return t.prev=17,t.t0=t.catch(7),P(""),L("Chyba pri nahr\xe1van\xed obr\xe1zka: ".concat(t.t0.message)),t.abrupt("return");case 22:c++,t.next=4;break;case 25:return t.prev=25,t.next=28,aT(nC(RI,"products-".concat(B.toUpperCase())),{producttitle:r,producttype:B,description:l,brand:d,customersupport:m,price:k,warranty:_,productimage:a,keyspecs:S});case 28:P("Produkt bol pridan\xfd \xfaspe\u0161ne"),L(""),i(""),s(""),C(""),p(""),x(""),N(null),h(""),b(""),y(""),setTimeout((function(){e("/loading"),setTimeout((function(){e("/addproduct",{replace:!0})}),100)}),2e3),t.next=46;break;case 42:t.prev=42,t.t1=t.catch(25),P(""),L("Chyba pri prid\xe1van\xed produktu: ".concat(t.t1.message));case 46:case"end":return t.stop()}var w,E}),t,null,[[7,17],[25,42]])})));return function(e){return t.apply(this,arguments)}}();return(0,ht.jsxs)("div",{children:[(0,ht.jsx)(DI,{}),j&&"matusskor@gmail.com"==j[0].email?(0,ht.jsx)("div",{className:"addprod-container",children:(0,ht.jsxs)("form",{className:"addprod-form",onSubmit:W,children:[(0,ht.jsx)("p",{children:"Add Data"}),A&&(0,ht.jsx)("div",{className:"success-msg",children:A}),D&&(0,ht.jsx)("div",{className:"error-msg",children:D}),(0,ht.jsx)("label",{children:"Typ"}),(0,ht.jsxs)("select",{value:B,onChange:function(e){q(e.target.value)},children:[(0,ht.jsx)("option",{value:"",children:" "}),(0,ht.jsx)("option",{value:"mobile",children:"mobily"}),(0,ht.jsx)("option",{value:"kamery",children:"kamery"}),(0,ht.jsx)("option",{value:"laptopy",children:"laptopy"}),(0,ht.jsx)("option",{value:"tablety",children:"tablety"}),(0,ht.jsx)("option",{value:"kl\xe1vensnice",children:"kl\xe1vensnice"}),(0,ht.jsx)("option",{value:"my\u0161ky",children:"my\u0161ky"})]}),(0,ht.jsx)("label",{children:"N\xe1zov"}),(0,ht.jsx)("input",{type:"text",onChange:function(e){i(e.target.value)},placeholder:"N\xe1zov..."}),(0,ht.jsx)("label",{children:"\u0160pecifik\xe1cie"}),(0,ht.jsx)("textarea",{onChange:function(e){C(e.target.value)},placeholder:"\u0160pecifik\xe1cie..."}),(0,ht.jsx)("label",{children:"Zna\u010dka"}),(0,ht.jsx)("input",{type:"text",onChange:function(e){p(e.target.value)},placeholder:"Zna\u010dka..."}),(0,ht.jsx)("label",{children:"Z\xe1ruka"}),(0,ht.jsx)("input",{type:"text",onChange:function(e){x(e.target.value)},placeholder:"Z\xe1ruka.."}),(0,ht.jsx)("label",{children:"Obr\xe1zok"}),(0,ht.jsx)("input",{className:"add-image",type:"file",multiple:!0,onChange:function(e){e.preventDefault();var t=e.target.files;if(t.length>0){for(var n=!0,r=0;r<t.length;r++)if(!V.includes(t[r].type)){n=!1;break}n?(N(t),U("")):U("Pros\xedm vyberte svoje s\xfabory")}else N(null),U("Pros\xedm pou\u017e\xedvajte s\xfabory typu: png / jpg")}}),F&&(0,ht.jsx)(ht.Fragment,{children:(0,ht.jsx)("div",{className:"error-msg",children:F})}),(0,ht.jsx)("label",{value:!0,children:"Opis"}),(0,ht.jsx)("textarea",{onChange:function(e){h(e.target.value)},placeholder:"Pop\xed\u0161te produkt..."}),(0,ht.jsx)("label",{children:"Cena bez DPH"}),(0,ht.jsx)("input",{type:"text",onChange:function(e){b(e.target.value)},placeholder:"Cena bez dph..."}),(0,ht.jsx)("label",{children:"Podpora z\xe1kazn\xedka"}),(0,ht.jsx)("input",{type:"text",onChange:function(e){y(e.target.value)},placeholder:"Podpora z\xe1kazn\xedkov..."}),(0,ht.jsx)("button",{type:"submit",children:"Prida\u0165"})]})}):(0,ht.jsx)("div",{children:"Nem\xe1te pr\xe1va na pridanie produktu"})]})}),GI=function(e){var n=c((0,t.useState)(""),2),r=(n[0],n[1]),i=c((0,t.useState)(""),2),a=(i[0],i[1]);var o=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1];return nC(RI,"users"),(0,t.useEffect)((function(){II.onAuthStateChanged((function(e){if(e){var t=function(){var t=et(Ye().mark((function t(){var n,i;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=UC(nC(RI,"users"),zC("uid","==",e.uid)),t.next=3,nT(n);case 3:i=t.sent,r(i.docs.map((function(e){return Ze(Ze({},e.data()),{},{id:e.id})})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}else r(null)}))}),[]),n}(),s=e.product,u=(s.price,parseFloat(s.price)),l=(u+=.1*u).toFixed(2);return(0,ht.jsxs)("div",{className:"product-container",children:[(0,ht.jsx)(Ke,{className:"full",to:"/product/".concat(s.producttype,"/").concat(s.id),children:(0,ht.jsx)("img",{src:s.productimage[0],className:"product-image"})}),(0,ht.jsxs)("div",{className:"product-details",children:[(0,ht.jsx)(Ke,{className:"full",to:"/product/".concat(s.producttype,"/").concat(s.id),children:(0,ht.jsx)("button",{className:"product-title",children:s.producttitle})}),(0,ht.jsx)("p",{className:"product-keyspecs",children:s.keyspecs}),(0,ht.jsx)("div",{className:"price-container",children:(0,ht.jsx)("p",{className:"mrp",children:(0,ht.jsxs)("p",{className:"rate",children:[l,"\u20ac"]})})}),(0,ht.jsx)("div",{className:"buy-cart",children:(0,ht.jsx)("button",{onClick:function(){o?aT(nC(RI,"cart-".concat(o[0].uid)),{product:e.product,quantity:1}).then((function(){r("Produkt pridan\xfd do ko\u0161\xedka")})).catch((function(e){a(e.message)})):a("najprv sa mus\xedte prihl\xe1si\u0165")},className:"btn",children:"Do ko\u0161\xedka"})})]})]})},QI=function(e){var n=c((0,t.useState)([]),2),r=n[0],i=n[1],a=c((0,t.useState)("desc"),2),o=a[0],s=a[1];(0,t.useEffect)((function(){var t=function(){var t=et(Ye().mark((function t(){var n,r;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],r="products-".concat(e.type.toUpperCase()),t.prev=2,t.next=5,nT(nC(RI,r));case 5:t.sent.forEach((function(e){n.push(Ze(Ze({},e.data()),{},{id:e.id}))})),n.sort((function(e,t){return"asc"===o?e.price-t.price:t.price-e.price})),i(n),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}();t()}),[o]);return(0,t.useEffect)((function(){fetch("/api/products?type=".concat(e)).then((function(e){return e.json()})).then((function(e){return i(e)}))}),[e]),(0,ht.jsxs)("div",{className:"allproductpage",children:[(0,ht.jsx)(DI,{}),(0,ht.jsx)("button",{className:"sort-button ".concat("asc"===o?"active":""),onClick:function(){s("asc")},children:"Najlacnej\u0161ie"}),(0,ht.jsx)("button",{className:"sort-button ".concat("desc"===o?"active":""),onClick:function(){s("desc")},children:"Najdrah\u0161ie"}),(0,ht.jsx)("div",{className:"allproductcontainer",children:r.map((function(e){return(0,ht.jsx)(GI,{product:e})}))})]})},YI=function(e){var n=c((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){!function(){var t=[],n="products-".concat(e.type.toUpperCase());console.log(e),nT(nC(RI,n)).then((function(e){e.forEach((function(e){t.push(Ze(Ze({},e.data()),{},{id:e.id})),console.log(e.id," => ",e.data())})),i(t)})).catch("Error error error")}()}),[]),(0,ht.jsx)("div",{children:(0,ht.jsx)(jI.default,{className:"cardslider-container",responsive:{superLargeDesktop:{breakpoint:{max:2e3,min:10},items:4},desktop:{breakpoint:{max:2e3,min:10},items:4},tablet:{breakpoint:{max:1024,min:464},items:3},mobile:{breakpoint:{max:464,min:0},items:3}},children:r.map((function(e){return(0,ht.jsx)(LI,{className:"slide",product:e},e.id)}))})})},XI=function(){var e=Se(),n=e.type,r=e.id,i=c((0,t.useState)(""),2),a=i[0],o=i[1],s=c((0,t.useState)(""),2),u=s[0],l=s[1],h=c((0,t.useState)(""),2),f=h[0],d=h[1];var p=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1];return nC(RI,"users"),(0,t.useEffect)((function(){II.onAuthStateChanged((function(e){if(e){var t=function(){var t=et(Ye().mark((function t(){var n,i;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=UC(nC(RI,"users"),zC("uid","==",e.uid)),t.next=3,nT(n);case 3:i=t.sent,r(i.docs.map((function(e){return Ze(Ze({},e.data()),{},{id:e.id})})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}else r(null)}))}),[]),n}();(0,t.useEffect)((function(){var e=function(){var e=et(Ye().mark((function e(){var t,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=rC(RI,"products-".concat(n.toUpperCase()),r),e.next=3,eT(t);case 3:i=e.sent,o(i.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var v=a.price,m=parseFloat(a.price),y=(m+=.1*m).toFixed(2),g=function(){p?aT(nC(RI,"cart-".concat(p[0].uid)),{product:a,quantity:1}).then((function(){l("Produkt pridan\xfd do ko\u0161\xedka")})).catch((function(e){d(e.message)})):d("najprv sa mus\xedte prihl\xe1si\u0165")},k=(Ee(),c((0,t.useState)(""),2)),b=(k[0],k[1],c((0,t.useState)(""),2)),w=(b[0],b[1],c((0,t.useState)(""),2)),_=(w[0],w[1],c((0,t.useState)(""),2)),x=(_[0],_[1],c((0,t.useState)(""),2)),E=(x[0],x[1],c((0,t.useState)(""),2));E[0],E[1];return(0,ht.jsxs)("div",{children:[(0,ht.jsx)(DI,{}),p&&"matusskor@gmail.com"==p[0].email?(0,ht.jsxs)("div",{className:"container",children:[(0,ht.jsxs)("div",{className:"myprod-container",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("div",{children:a&&a.productimage&&(0,ht.jsx)(_n,{className:"prod-img-cont",children:a.productimage.map((function(e,t){return(0,ht.jsx)(_n.Item,{children:(0,ht.jsx)("img",{className:"d-block w-100",src:e,alt:"Slide ".concat(t)})},t)}))})}),(0,ht.jsxs)("div",{className:"extra",children:["zna\u010dka: ",a.brand]}),(0,ht.jsxs)("div",{className:"extra",children:["z\xe1ruka na ",a.warranty," mesiacov"]})]}),(0,ht.jsxs)("div",{className:"prod-data",children:[(0,ht.jsx)("p",{className:"prod-head",children:a.producttitle}),(0,ht.jsx)("p",{className:"prod-keyspecs",children:a.keyspecs}),(0,ht.jsxs)("div",{className:"price-cart-containter",children:[(0,ht.jsxs)("div",{className:"specific-price-container",children:[(0,ht.jsxs)("p",{className:"cena",children:[(0,ht.jsx)("b",{children:y}),"\u20ac"]}),(0,ht.jsxs)("p",{className:"dph",children:[" Cena bez DPH: ",v,"\u20ac"]})]}),(0,ht.jsx)("div",{className:"buy-cart",children:(0,ht.jsx)("button",{className:"btn",onClick:g,children:"Prida\u0165 do ko\u0161\xedka"})})]}),(0,ht.jsx)("p",{className:"prod-details-head",children:" Detaily"}),(0,ht.jsx)("p",{className:"prod-description",children:a.description})]})]}),(0,ht.jsx)(Ke,{to:"/product/".concat(a.producttype,"/").concat(r,"/Admin"),children:(0,ht.jsx)("button",{className:"admin-panel-button",children:"Admin panel"})}),u&&(0,ht.jsx)("div",{className:"succes-msg",children:u}),f&&(0,ht.jsx)("div",{className:"error-msg",children:f}),(0,ht.jsx)("p",{className:"prod-details-head2",children:"Podobn\xe9 produkty"}),(0,ht.jsx)(YI,{type:n})]}):(0,ht.jsxs)("div",{className:"container",children:[(0,ht.jsxs)("div",{className:"myprod-container",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("div",{children:a&&a.productimage&&(0,ht.jsx)(_n,{className:"prod-img-cont",children:a.productimage.map((function(e,t){return(0,ht.jsx)(_n.Item,{children:(0,ht.jsx)("img",{className:"d-block w-100",src:e,alt:"Slide ".concat(t)})},t)}))})}),(0,ht.jsxs)("div",{className:"extra",children:["zna\u010dka: ",a.brand]}),(0,ht.jsxs)("div",{className:"extra",children:["z\xe1ruka na ",a.warranty," mesiacov"]})]}),(0,ht.jsxs)("div",{className:"prod-data",children:[(0,ht.jsx)("p",{className:"prod-head",children:a.producttitle}),(0,ht.jsx)("p",{className:"prod-keyspecs",children:a.keyspecs}),(0,ht.jsxs)("div",{className:"price-cart-containter",children:[(0,ht.jsxs)("div",{className:"specific-price-container",children:[(0,ht.jsxs)("p",{className:"cena",children:[(0,ht.jsx)("b",{children:y}),"\u20ac"]}),(0,ht.jsxs)("p",{className:"dph",children:[" Cena s DPH: ",v,"\u20ac"]})]}),(0,ht.jsx)("div",{className:"buy-cart",children:(0,ht.jsx)("button",{className:"btn",onClick:g,children:"Prida\u0165 do ko\u0161\xedka"})})]}),(0,ht.jsx)("p",{className:"prod-details-head",children:" Detaily"}),(0,ht.jsx)("p",{className:"prod-description",children:a.description})]})]}),u&&(0,ht.jsx)("div",{className:"succes-msg",children:u}),f&&(0,ht.jsx)("div",{className:"error-msg",children:f}),(0,ht.jsx)("p",{className:"prod-details-head2",children:"Podobn\xe9 produkty"}),(0,ht.jsx)(YI,{type:n})]})]})},JI=function(){var e=Se(),n=e.type,r=e.id,i=c((0,t.useState)(""),2),a=i[0],o=i[1],s=c((0,t.useState)(""),2),u=s[0],l=s[1],h=c((0,t.useState)(""),2),f=h[0];h[1];!function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1];nC(RI,"users"),(0,t.useEffect)((function(){II.onAuthStateChanged((function(e){if(e){var t=function(){var t=et(Ye().mark((function t(){var n,i;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=UC(nC(RI,"users"),zC("uid","==",e.uid)),t.next=3,nT(n);case 3:i=t.sent,r(i.docs.map((function(e){return Ze(Ze({},e.data()),{},{id:e.id})})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}else r(null)}))}),[])}();(0,t.useEffect)((function(){var e=function(){var e=et(Ye().mark((function e(){var t,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=rC(RI,"products-".concat(n.toUpperCase()),r),e.next=3,eT(t);case 3:i=e.sent,o(i.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);a.price;var d=parseFloat(a.price),p=(d+=.1*d).toFixed(2),v=Ee(),m=function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iT(rC(RI,"products-".concat(n.toUpperCase()),r)).then((function(){l("Produkt vymazan\xfd"),setTimeout((function(){l(""),v("/home")}),2e3)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){v("/loading"),setTimeout((function(){v("/product/".concat(a.producttype,"/").concat(r,"/Admin"),{replace:!0})}),20)},g=c((0,t.useState)(""),2),k=g[0],b=g[1],w=c((0,t.useState)(""),2),_=w[0],x=w[1],E=c((0,t.useState)(""),2),S=E[0],C=E[1],T=c((0,t.useState)(""),2),I=T[0],N=T[1],R=c((0,t.useState)(""),2),A=R[0],P=R[1],O=c((0,t.useState)(""),2),D=O[0],L=O[1];(0,t.useEffect)((function(){P(String(a.brand))}),[a]),(0,t.useEffect)((function(){x(String(a.price))}),[a]),(0,t.useEffect)((function(){C(String(a.description))}),[a]),(0,t.useEffect)((function(){N(String(a.producttitle))}),[a]),(0,t.useEffect)((function(){L(String(a.warranty))}),[a]),(0,t.useEffect)((function(){b(String(a.keyspecs))}),[a]);return(0,ht.jsxs)("div",{children:[(0,ht.jsx)(DI,{}),(0,ht.jsxs)("div",{className:"container",children:[(0,ht.jsxs)("div",{className:"myprod-container",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("div",{children:a&&a.productimage&&(0,ht.jsx)(_n,{className:"prod-img-cont",children:a.productimage.map((function(e,t){return(0,ht.jsx)(_n.Item,{children:(0,ht.jsx)("img",{className:"d-block w-100",src:e,alt:"Slide ".concat(t)})},t)}))})}),(0,ht.jsxs)("div",{className:"extra",children:["zna\u010dka:",(0,ht.jsx)("input",{placeholder:a.brand,type:"text",onChange:function(e){P(e.target.value)}})]}),(0,ht.jsxs)("div",{className:"extra",children:["z\xe1ruka na  ",(0,ht.jsx)("input",{placeholder:a.warranty,type:"text",onChange:function(e){L(e.target.value)}}),"  mesiacov"]})]}),(0,ht.jsxs)("div",{className:"prod-data",children:[(0,ht.jsx)("p",{className:"prod-head",children:(0,ht.jsx)("input",{type:"text",placeholder:a.producttitle,onChange:function(e){N(e.target.value)}})}),(0,ht.jsx)("p",{className:"prod-keyspecs",children:(0,ht.jsx)("textarea",{className:"textarea1",type:"text",placeholder:a.keyspecs,onChange:function(e){b(e.target.value)}})}),(0,ht.jsxs)("div",{className:"price-cart-containter",children:[(0,ht.jsxs)("div",{className:"specific-price-container",children:[(0,ht.jsxs)("p",{className:"cena",children:[(0,ht.jsx)("b",{children:p}),"\u20ac"]}),(0,ht.jsxs)("p",{className:"dph",children:[" Cena bez DPH: ",(0,ht.jsx)("input",{type:"text",placeholder:a.price,onChange:function(e){x(e.target.value)}}),"\u20ac"]})]}),(0,ht.jsx)("div",{className:"buy-cart"})]}),(0,ht.jsx)("p",{className:"prod-details-head",children:" Detaily"}),(0,ht.jsx)("p",{className:"prod-description",children:(0,ht.jsx)("textarea",{className:"textarea2",type:"text",placeholder:a.description,onChange:function(e){C(e.target.value)}})})]})]}),(0,ht.jsxs)("div",{className:"admin-btn-container",children:[(0,ht.jsx)("button",{className:"delete-btn",onClick:m,children:"Delete"}),(0,ht.jsx)("button",{className:"save-btn",onClick:function(){rT(rC(RI,"products-".concat(n.toUpperCase()),r),{producttitle:I,keyspecs:k,description:S,price:_,brand:A,warranty:D}).then(y)},children:"save changes"}),(0,ht.jsx)(Ke,{to:"/product/".concat(a.producttype,"/").concat(r),children:(0,ht.jsx)("button",{className:"user-mode-btn",children:"user mode"})})]}),u&&(0,ht.jsx)("div",{className:"succes-msg",children:u}),f&&(0,ht.jsx)("div",{className:"error-msg",children:f}),(0,ht.jsx)("p",{className:"prod-details-head2",children:"Podobn\xe9 produkty"}),(0,ht.jsx)(YI,{type:n})]})]})},ZI=function(e){var n=c((0,t.useState)(e.itemdata.quantity),2),r=n[0],i=(n[1],e.itemdata.product.price),a=(parseFloat(i)+.1*parseFloat(i)).toFixed(2),o=parseFloat(i),s=(o*r).toFixed(2),u=parseFloat(i),l=(u=(u+.1*u)*r).toFixed(2);return(0,ht.jsxs)("div",{className:"cart-prod-container",children:[(0,ht.jsxs)("div",{className:"cart-prod-imgtitle",children:[(0,ht.jsx)("div",{className:"prod-image",children:(0,ht.jsx)("img",{src:e.itemdata.product.productimage})}),(0,ht.jsx)("div",{className:"prod-title",children:e.itemdata.product.producttitle})]}),(0,ht.jsx)("div",{className:"prodquantity-div-container",children:(0,ht.jsx)("div",{className:"prodquantity-div-only",children:r})}),(0,ht.jsxs)("div",{className:"one-price-contianer",children:[(0,ht.jsxs)("div",{className:"saleprice-one",children:[a,"\u20ac"]}),(0,ht.jsxs)("div",{className:"dph",children:[o.toFixed(2),"\u20ac bez DPH"]})]}),(0,ht.jsxs)("div",{className:"prodprice",children:[(0,ht.jsxs)("div",{className:"saleprice",children:[l,"\u20ac"]}),(0,ht.jsxs)("div",{className:"dph",children:[s,"\u20ac bez DPH"]})]})]})},$I=function(){var e=Ee();var n=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1];return nC(RI,"users"),(0,t.useEffect)((function(){II.onAuthStateChanged((function(e){if(e){var t=function(){var t=et(Ye().mark((function t(){var n,i;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=UC(nC(RI,"users"),zC("uid","==",e.uid)),t.next=3,nT(n);case 3:i=t.sent,r(i.docs.map((function(e){return Ze(Ze({},e.data()),{},{id:e.id})})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}else r(null)}))}),[]),n}(),r=c((0,t.useState)([]),2),i=r[0],a=r[1];if(n){var o=function(){var e=et(Ye().mark((function e(){var t,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r="cart-".concat(n[0].uid),nT(nC(RI,r)).then((function(e){e.forEach((function(e){t.push(Ze(Ze({},e.data()),{},{id:e.id}))})),a(t)})).catch("Error error error");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o()}var s=c((0,t.useState)([]),2),u=s[0],l=s[1];if(n){var h=function(){var e=et(Ye().mark((function e(){var t,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="cart-".concat(n[0].uid),r=[],nT(nC(RI,t)).then((function(e){e.forEach((function(e){var t=e.data(),n=t.product,i=t.quantity,a=n.producttitle,o=n.price;r.push({producttitle:a,price:o,quantity:i})})),l(r)})).catch((function(e){console.log("Error: ",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();h()}var f=c((0,t.useState)(""),2),d=f[0],p=f[1],v=c((0,t.useState)(""),2),m=v[0],y=v[1],g=c((0,t.useState)(""),2),k=g[0],b=g[1];return(0,ht.jsxs)("div",{children:[(0,ht.jsx)(DI,{}),d&&(0,ht.jsx)(ht.Fragment,{children:(0,ht.jsx)("div",{className:"error-msg",children:d})}),(0,ht.jsx)("div",{className:"cart-container",children:(0,ht.jsxs)("div",{className:"cart-body",children:[(0,ht.jsx)("div",{className:"cart-head",children:"Dodacie \xfadaje:"}),(0,ht.jsxs)("div",{className:"cart-split-next",children:[(0,ht.jsx)("div",{children:"Produkt"}),(0,ht.jsx)("div",{children:"Mno\u017estvo"}),(0,ht.jsx)("div",{children:"Cena za kus"}),(0,ht.jsx)("div",{children:"Celkom"})]}),(0,ht.jsxs)("div",{className:"allcartitems",children:[(0,ht.jsx)("div",{className:"allcartitems",children:i.map((function(e){return(0,ht.jsx)(ZI,{itemdata:e,userid:n[0].uid},e.id)}))}),(0,ht.jsxs)("div",{className:"help",children:[(0,ht.jsxs)("div",{className:"anybody",children:[(0,ht.jsx)("div",{children:"vyberte si lok\xe1ciu boxu"}),(0,ht.jsx)("div",{children:(0,ht.jsxs)("select",{value:m,onChange:function(e){y(e.target.value)},children:[(0,ht.jsx)("option",{value:"",children:" "}),(0,ht.jsx)("option",{value:"Cadca",children:"\u010cadca"}),(0,ht.jsx)("option",{value:"Zilina",children:"\u017dilina"})]})}),(0,ht.jsx)("div",{children:"met\xf3da pladby"}),(0,ht.jsxs)("select",{value:k,onChange:function(e){b(e.target.value)},children:[(0,ht.jsx)("option",{value:"",children:" "}),(0,ht.jsx)("option",{value:"kartou",children:"Kartou"}),(0,ht.jsx)("option",{value:"hotovost",children:"Hotovos\u0165"})]})]}),(0,ht.jsxs)("div",{className:"price-next",children:[(0,ht.jsxs)("div",{className:"big-price",children:["Celkov\xe1 cena: ",(u.reduce((function(e,t){return e+t.price*t.quantity}),0)+10*u.reduce((function(e,t){return e+t.price*t.quantity}),0)/100).toFixed(2),"\u20ac"]}),(0,ht.jsxs)("div",{className:"dph-all",children:["Celkov\xe1 cena bez DPH: ",u.reduce((function(e,t){return e+t.price*t.quantity}),0).toFixed(2),"\u20ac"]})]})]}),(0,ht.jsxs)("div",{className:"cart-btns-next",children:[(0,ht.jsx)(Ke,{to:"/cartdata",children:(0,ht.jsx)("button",{className:"cart-btn-back",children:"Sp\xe4\u0165"})}),(0,ht.jsx)(Ke,{to:"/cart/sumup",children:(0,ht.jsx)("button",{className:"cart-btn-next",onClick:function(t){t.preventDefault();var r={cartItems:u.map((function(e){return{producttitle:e.producttitle,price:e.price,quantity:e.quantity}})),totalPrice:u.reduce((function(e,t){return e+t.price*t.quantity}),0),email:n[0].email,mesto:m,method:k};if(""==m)p("vyberte si lok\xe1ciu");else if(""==k)p("vyberte si sp\xf4sob platby");else{var i=nC(RI,"cart-final".concat(n[0].uid)),a=function(){var e=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nT(i);case 2:e.sent.forEach((function(e){iT(e.ref)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a().then((function(){aT(nC(RI,"cart-final".concat(n[0].uid)),r).then((function(){return e("/cart/sumup")})).catch((function(e){return console.log("Error adding cart data to Firestore:",e)}))})).catch((function(e){return console.log("Error deleting cart data from Firestore:",e)}))}},children:"Pokra\u010dova\u0165"})})]})]})]})})]})},eN=function(){var e,n,r,i,a,o,s=c((0,t.useState)(""),2),u=s[0],l=s[1],h=Ee(),f=Mc(fi({apiKey:"AIzaSyClmLHHI40s5L-VUY8h-TK0Su7zj6mmK44",authDomain:"bilza-8760c.firebaseapp.com",databaseURL:"https://bilza-8760c-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bilza-8760c",storageBucket:"bilza-8760c.appspot.com",messagingSenderId:"367213897697",appId:"1:367213897697:web:f0f333aa568505b76b14a0",measurementId:"G-TJ381HXYMH"}));var d=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){II.onAuthStateChanged((function(e){if(e){var t=function(){var t=et(Ye().mark((function t(){var n,i;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=UC(nC(RI,"users"),zC("uid","==",e.uid)),t.next=3,nT(n);case 3:i=t.sent,r(i.docs.map((function(e){return Ze(Ze({},e.data()),{},{id:e.id})})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}else r(null)}))}),[]),n}();d&&"cart-final".concat(d[0].uid);var p=c((0,t.useState)([]),2),v=p[0],m=p[1],y=function(){var e=et(Ye().mark((function e(){var t,n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d&&(t="cart-final".concat(d[0].uid),n=[],nT(nC(RI,t)).then((function(e){e.forEach((function(e){n.push(e.data())})),m(n)})).catch((function(e){console.log("Error: ",e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){y()}),[d]);var g=null===(e=v[0])||void 0===e?void 0:e.mesto,k=null===(n=v[0])||void 0===n?void 0:n.email,b={};g&&(b.mesto=g),k&&(b.email=k);var w=null===(r=v[0])||void 0===r?void 0:r.mesto,_=w?w.replace("C","\u010c").replace("Z","\u017d"):"",x=null===(i=v[0])||void 0===i?void 0:i.method,E=x?x.replace("ovost","ovos\u0165"):"",S=c((0,t.useState)(null),2),C=S[0],T=S[1],I=c((0,t.useState)(!0),2),N=I[0],R=I[1];return(0,t.useEffect)((function(){var e=function(){var e=et(Ye().mark((function e(){var t,n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=nC(RI,"cart-finalrML5IpQvnedlyfMmwTEu7VhnCU42"),e.next=3,nT(t);case 3:n=e.sent,r=n.docs.map((function(e){return e.data()}))[0],T(r),R(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),N?(0,ht.jsx)("p",{children:"Loading..."}):(0,ht.jsxs)("div",{children:[(0,ht.jsx)(DI,{}),(0,ht.jsx)("div",{className:"just-flex",children:(0,ht.jsxs)("div",{className:"final",children:[(0,ht.jsx)("div",{className:"final-nadpis",children:" OSOBN\xc9 A DODACIE \xdaDAJE"}),(0,ht.jsxs)("div",{className:"final-container",children:[(0,ht.jsxs)("div",{className:"stat-container",children:[(0,ht.jsx)("div",{className:"stat-show",children:"Meno a priezvisko"}),(0,ht.jsx)("div",{children:null===(a=d[0])||void 0===a?void 0:a.username})]}),(0,ht.jsxs)("div",{className:"stat-container",children:[(0,ht.jsx)("div",{className:"stat-show",children:"E-mail"}),(0,ht.jsx)("div",{children:null===(o=d[0])||void 0===o?void 0:o.email})]}),(0,ht.jsxs)("div",{className:"stat-container",children:[(0,ht.jsx)("div",{className:"stat-show",children:"Lok\xe1cia boxu"}),(0,ht.jsx)("div",{children:_})]}),(0,ht.jsxs)("div",{className:"stat-container",children:[(0,ht.jsx)("div",{className:"stat-show",children:"Sp\xf4sob platby"}),(0,ht.jsx)("div",{children:E})]})]}),(0,ht.jsx)("div",{className:"final-nadpis",children:"S\xdaHRN OBJEDN\xc1VKY"}),(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("div",{className:"item-info-continer",children:[(0,ht.jsx)("div",{className:"eh-start",children:"n\xe1zov"}),(0,ht.jsx)("div",{className:"eh",children:"po\u010det"}),(0,ht.jsx)("div",{className:"eh",children:"cena za kus"}),(0,ht.jsx)("div",{className:"eh-end",children:"cena"})]}),(0,ht.jsxs)("div",{className:"final-container",children:[C.cartItems.map((function(e,t){return(0,ht.jsxs)("div",{className:"item-info-continer",children:[(0,ht.jsx)("div",{className:"eh-start",children:e.producttitle}),(0,ht.jsx)("div",{className:"eh",children:e.quantity}),(0,ht.jsxs)("div",{className:"eh",children:[e.price,"\u20ac"]}),(0,ht.jsxs)("div",{className:"eh-end",children:[e.price*e.quantity,"\u20ac"]})]},t)})),(0,ht.jsxs)("p",{className:"right",children:["Cena dokopy: ",C.totalPrice,"\u20ac"]})]})]}),(0,ht.jsxs)("div",{className:"final-buttons",children:[(0,ht.jsx)(Ke,{to:"/cartahoj",children:(0,ht.jsx)("button",{className:"cart-btn-back",children:"Sp\xe4\u0165"})}),(0,ht.jsx)("button",{className:"cart-btn-next",onClick:function(){var e=Math.floor(9e8*Math.random()+1e8),t=Nc(f,"Objednavka/".concat(e)),n=nC(RI,"cart-final".concat(d[0].uid)),r=nC(RI,"cart-".concat(d[0].uid)),i="\n    ".concat(C.cartItems.map((function(e,t){return"\n        \u010d\xedslo polo\u017eky='".concat(t,"'\n        n\xe1zov: ").concat(e.producttitle,"\n        po\u010det: ").concat(e.quantity,"\n        cena: ").concat(e.price,"\u20ac\n    ")})).join(""),"\n    Cena dokopy: ").concat(C.totalPrice,"\u20ac\n    Sp\xf4sob platby: ").concat(E,"\n    Miesto prevzatia: ").concat(_,"\n    \n    Va\u0161a objednavka bola soracovan\xe1 a m\xf4\u017eete si u pr\xeds\u0165 vyzdvihn\xfa\u0165 o 4/5 pracivn\xfdch dn\xed s t\xfdmto k\xf3dom ").concat(e,"\n  \n");Promise.all([Ac(t,b),nT(n).then((function(e){e.forEach((function(e){return iT(e.ref)}))})),nT(r).then((function(e){e.forEach((function(e){return iT(e.ref)}))})),fetch("https://europe-west1-bilza-8760c.cloudfunctions.net/sendE",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:d[0].email,subject:"objedn\xe1vka",message:i})}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).then(l("Objedn\xe1vka \xfaspe\u0161ne ukon\u010den\xe1")).catch((function(e){return console.error(e)}))]).then((function(){return setTimeout((function(){return h("/home")}),2e3)})).catch((function(e){return console.error("Error writing document: ",e)}))},children:"Potvrdi\u0165 n\xe1kup"})]})]})}),u&&(0,ht.jsx)(ht.Fragment,{children:(0,ht.jsx)("div",{className:"success-msg",children:u})})]})},tN=function(){return(0,ht.jsxs)("div",{children:[(0,ht.jsx)(DI,{}),"Loading"]})},nN=function(){var e=Ee();var n=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){II.onAuthStateChanged((function(e){if(e){var t=function(){var t=et(Ye().mark((function t(){var n,i;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=UC(nC(RI,"users"),zC("uid","==",e.uid)),t.next=3,nT(n);case 3:i=t.sent,r(i.docs.map((function(e){return Ze(Ze({},e.data()),{},{id:e.id})})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}else r(null)}))}),[]),n}(),r=c((0,t.useState)(""),2),i=r[0],a=r[1],o=c((0,t.useState)(""),2),s=o[0],u=o[1],l=c((0,t.useState)(!1),2),h=l[0],f=l[1],d=c((0,t.useState)(""),2),p=d[0],v=d[1],m=c((0,t.useState)(!1),2),y=m[0],g=m[1],k=function(){var t=et(Ye().mark((function t(n){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),i!=s){t.next=15;break}return t.prev=2,t.next=5,pf(II.currentUser,i);case 5:f(!0),v(""),b(),setTimeout((function(){e("/userprofile")}),2e3),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),f(!1),v(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),b=function(){rT(rC(RI,"users",n[0].id),{password:i})},w=c((0,t.useState)(""),2),_=w[0],x=w[1];return(0,ht.jsxs)("div",{children:[(0,ht.jsx)(DI,{}),!y&&(0,ht.jsxs)("form",{className:"new-pass-container",onSubmit:function(e){e.preventDefault(),n[0].password===_?g(!0):v("zl\xe9 heslo")},children:[(0,ht.jsxs)("div",{className:"uf",children:[(0,ht.jsx)("div",{className:"uf",children:"Zadajte aktu\xe1lne heslo"}),(0,ht.jsx)("input",{type:"password",value:_,onChange:function(e){return x(e.target.value)}})]}),(0,ht.jsx)("div",{children:(0,ht.jsx)("button",{className:"inpu",type:"submit",children:"Pokra\u010dova\u0165"})}),(0,ht.jsx)(Ke,{to:"/userprofile",className:"unga",children:"sp\xe4\u0165"}),p&&(0,ht.jsx)("div",{className:"error-msg",children:"Nespr\xe1vne heslo"})]}),y&&(0,ht.jsxs)("form",{className:"new-pass-container2",onSubmit:k,children:[(0,ht.jsxs)("div",{className:"uf",children:[(0,ht.jsx)("div",{className:"uf",children:"Nov\xe9 heslo"}),(0,ht.jsx)("input",{className:"ef",type:"password",value:i,onChange:function(e){return a(e.target.value)}}),(0,ht.jsx)("div",{className:"uf",children:"Zopakujte heslo"}),(0,ht.jsx)("input",{type:"password",value:s,onChange:function(e){return u(e.target.value)}})]}),(0,ht.jsx)("div",{children:(0,ht.jsx)("button",{className:"inpu",type:"submit",children:"Zmeni\u0165 heslo"})}),(0,ht.jsx)(Ke,{to:"/userprofile",className:"unga",children:"sp\xe4\u0165"}),h&&(0,ht.jsx)("div",{className:"success-msg",children:"Heslo bolo \xfaspe\u0161ne zmenen\xe9!"}),p&&(0,ht.jsxs)("div",{className:"error-msg",children:["Nastala chyba pri zmene hesla: ",p]})]})]})};var rN=function(){return(0,ht.jsx)(We,{children:(0,ht.jsxs)(Fe,{children:[(0,ht.jsx)(je,{exact:!0,path:"projekt_SOC_Skor/",element:(0,ht.jsx)(FI,{})}),(0,ht.jsx)(je,{exact:!0,path:"/",element:(0,ht.jsx)(FI,{})}),(0,ht.jsx)(je,{exact:!0,path:"/home",element:(0,ht.jsx)(FI,{})}),(0,ht.jsx)(je,{exact:!0,path:"/signup",element:(0,ht.jsx)(VI,{})}),(0,ht.jsx)(je,{exact:!0,path:"/login",element:(0,ht.jsx)(UI,{})}),(0,ht.jsx)(je,{exact:!0,path:"/cart",element:(0,ht.jsx)(qI,{})}),(0,ht.jsx)(je,{exact:!0,path:"/userprofile",element:(0,ht.jsx)(HI,{})}),(0,ht.jsx)(je,{exact:!0,path:"/addproduct",element:(0,ht.jsx)(KI,{})}),(0,ht.jsx)(je,{exact:!0,path:"/product-type/mobiles",element:(0,ht.jsx)(QI,{type:"Mobile"})}),(0,ht.jsx)(je,{exact:!0,path:"/product-type/kamery",element:(0,ht.jsx)(QI,{type:"Kamery"})}),(0,ht.jsx)(je,{exact:!0,path:"/product-type/laptopy",element:(0,ht.jsx)(QI,{type:"Laptopy"})}),(0,ht.jsx)(je,{exact:!0,path:"/product-type/tablety",element:(0,ht.jsx)(QI,{type:"Tablety"})}),(0,ht.jsx)(je,{exact:!0,path:"/product-type/kl\xe1vensnice",element:(0,ht.jsx)(QI,{type:"Kl\xe1vensnice"})}),(0,ht.jsx)(je,{exact:!0,path:"/product-type/my\u0161ky",element:(0,ht.jsx)(QI,{type:"My\u0161ky"})}),(0,ht.jsx)(je,{exact:!0,path:"/product/:type/:id",element:(0,ht.jsx)(XI,{})}),(0,ht.jsx)(je,{exact:!0,path:"/product/:type/:id/admin",element:(0,ht.jsx)(JI,{})}),(0,ht.jsx)(je,{exact:!0,path:"/cartdata",element:(0,ht.jsx)(qI,{})}),(0,ht.jsx)(je,{exact:!0,path:"/cartahoj",element:(0,ht.jsx)($I,{})}),(0,ht.jsx)(je,{exact:!0,path:"/cart/sumup",element:(0,ht.jsx)(eN,{})}),(0,ht.jsx)(je,{exact:!0,path:"/loading",element:(0,ht.jsx)(tN,{})}),(0,ht.jsx)(je,{exact:!0,path:"/newpass",element:(0,ht.jsx)(nN,{})}),(0,ht.jsx)(je,{path:"*",element:(0,ht.jsx)(zI,{})})]})})};i.createRoot(document.getElementById("root")).render((0,ht.jsx)(t.StrictMode,{children:(0,ht.jsx)(rN,{})}))}()}();
//# sourceMappingURL=main.2e263826.js.map